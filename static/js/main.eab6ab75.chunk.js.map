{"version":3,"sources":["state/AppState.js","storage/Cache.js","components/Header.js","util/util.js","state/Challenge.js","components/ScheduleTable.js","components/RankingsTable.js","components/ScheduleAndRankings.js","components/Webcasts.js","components/Awards.js","components/Countdown.js","pages/Home.js","pages/Auth.js","pages/ToolsList.js","pages/CreateNewTool.js","pages/PageNotFound.js","pages/SignedIn.js","pages/SignOut.js","components/StatisticsModal.js","routes.js","pages/Statistics.js","components/Main.js","components/Footer.js","storage/api.js","App.js","registerServiceWorker.js","util/initFirebase.js","index.js"],"names":["AppState","this","team","event","showWebcasts","teamEventVerified","undefined","showSettingsPane","showOtherSettings","eventEmitter","EventEmitter","populateStateFromURLVars","emit","vars","window","location","href","replace","m","key","value","setTeam","getUrlVars","setEvent","setShowWebcasts","JSON","parse","instance","sizeof","require","Cache","local_cache","localStorage","getItem","data","reduceSize","sendDataChangedEvent","setItem","stringify","writeToLocalStorage","last_updated_event_key","last_updated_event_date","Date","events","last_updated","size","deleteLastUpdatedEvent","Header","props","firebase","auth","onAuthStateChanged","user","displayName","li","document","createElement","classList","add","a","data_toggle","createAttribute","attributes","setNamedItem","data_placement","title","innerHTML","process","appendChild","getElementsByClassName","getInstance","getEventEmitter","on","forceUpdate","hasListOfEventsChanged","setTeamNumberAndEvent","bind","toggleWebcast","showWebcast","getShowWebcasts","split","reload","alert","getEvent","getTeam","showSettings","getShowSettingsPane","showTeamSettings","getShowOtherSettings","cache","get","eventOptions","list","length","i","push","name","disabled","className","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","aria-hidden","style","display","defaultValue","placeholder","parseInt","substring","onClick","marginLeft","Component","getMatchTimeInMS","match","actual_time","predicted_time","time","days","rankingPointYear","Challenge","year","ScheduleTable","sortSchedule","body","bonus_rp_1_index","getBonusRankingPoint1","index","bonus_rp_1_name","bonus_rp_2_index","getBonusRankingPoint2","bonus_rp_2_name","matches","teams","rows","alliances","red","team_keys","includes","toString","blue","scores","score","score_breakdown_exists","score_breakdown","Fragment","winning_alliance","data-placement","matchDate","util","colSpan","dateTime","toISOString","getDay","toLocaleTimeString","comp_level","match_number","set_number","dq_team_keys","role","table","switching","x","y","shouldSwitch","getElementById","getElementsByTagName","sortScheduleCompare","parentNode","insertBefore","b","aType","bType","aMatchNum","bMatchNum","startsWith","RankingsTable","rankings","ranking","record_exists","record","team_key","rank","sort_orders","toFixed","wins","losses","ties","matches_played","extra_stats","ScheduleAndRankings","Webcasts","hasDataChanged","querySelector","firstChild","querySelectorAll","forEach","width","clientWidth","height","clientHeight","navigator","onLine","webcasts","lis","iframes","webcast","src","channel","frameBorder","scrolling","allowFullScreen","Awards","awards","award","recipient_list","map","awardee","join","Countdown","state","nextMatchNameTime","nextMatchName","nextMatchBumperColor","updateCountdown","setInterval","closestMatchTime","Number","MAX_VALUE","closestMatchName","closestMatchBumperColor","setState","distance","getTime","hours","minutes","seconds","textAlign","fontSize","Home","setShowSettingsPane","setShowOtherSettings","getTeamEventVerified","redirectURL","RegExp","exec","Auth","shouldRender","uiConfig","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","GithubAuthProvider","EmailAuthProvider","provider","PhoneAuthProvider","recaptchaParameters","badge","defaultCountry","firebaseAuth","ToolRow","returnTool","currentUser","encodeURIComponent","firestore","collection","doc","uid","delete","tool","ToolsList","settings","timestampsInSnapshots","tools","team_number","onSnapshot","querySnapshot","docs","checkout_time","toDate","toLocaleString","description","err","console","error","then","maxWidth","margin","CreateNewTool","addTool","PageNotFound","marginTop","decodeURIComponent","SignedIn","createUser","exists","full_name","set","updateProfile","catch","SignOut","signOut","StatisticsModal","tabIndex","aria-labelledby","data-dismiss","target","data-ride","data-slide","path","component","exact","sortStatistics","modalTeamNumber","evt","script","scriptBody","createTextNode","currentTarget","dataset","teamnumber","log","readyState","dir","n","sortindex","switchcount","parseFloat","extra_stat","extra_stats_info","stats","stat","sort_order_info","team_key_valid","dq","showStatisticsModal","data-teamnumber","stat_infos","stat_sort_index","stat_info","data-sortindex","Main","routesJSX","routes","Route","HashRouter","basename","hashType","Switch","Footer","getFullYear","rel","TBA_BASE_URL","FETCH_CONFIG","method","headers","verifyTeamInEvent","async","setTeamEventVerified","promises","fetch","res","json","result","ret_val","message","Promise","all","pullFromTBA","cache_instance","end_of_event_date","setFullYear","end_date","setMonth","setDate","sendEventListChangedEvent","toUTCString","Error","sendUpdatedWebcastsEvent","App","api","isOnline","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","apps","initializeApp","apiKey","authDomain","databaseURL","projectId","ReactDOM","render","URL","origin","addEventListener","response","status","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.eab6ab75.chunk.js","sourcesContent":["import { EventEmitter } from \"events\";\n\nclass AppState {\n    constructor() {\n        // default states, populated through URL vars\n        this.team = false;\n        this.event = false;\n        this.showWebcasts = true;\n        this.teamEventVerified = undefined;\n        this.showSettingsPane = false; // show entire settings pane\n        this.showOtherSettings = false; // show team input\n        this.eventEmitter = new EventEmitter();\n\n        this.populateStateFromURLVars();\n    }\n\n    static getInstance() {\n        if (this.instance === undefined) {\n            this.instance = new AppState();\n        }\n\n        return this.instance;\n    }\n\n    getTeam() {\n        return this.team;\n    }\n\n    getEvent() {\n        return this.event;\n    }\n\n    getShowWebcasts() {\n        return this.showWebcasts;\n    }\n\n    getTeamEventVerified() {\n        return this.teamEventVerified;\n    }\n\n    getShowSettingsPane() {\n        return this.showSettingsPane;\n    }\n\n    getShowOtherSettings() {\n        return this.showOtherSettings;\n    }\n\n    getEventEmitter() {\n        return this.eventEmitter;\n    }\n\n    setTeam(team) {\n        this.team = team;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setEvent(event) {\n        this.event = event;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setShowWebcasts(showWebcasts) {\n        this.showWebcasts = showWebcasts;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setTeamEventVerified(teamEventVerified) {\n        this.teamEventVerified = teamEventVerified;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setShowSettingsPane(showSettingsPane) {\n        this.showSettingsPane = showSettingsPane;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setShowOtherSettings(showOtherSettings) {\n        this.showOtherSettings = showOtherSettings;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    getUrlVars() {\n        var vars = {};\n        window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n            vars[key] = value;\n        });\n\n        return vars;\n    }\n\n    populateStateFromURLVars() {\n        this.setTeam(this.getUrlVars()[\"team\"] !== undefined ? this.getUrlVars()[\"team\"] : false);\n        this.setEvent(this.getUrlVars()[\"event\"] !== undefined ? this.getUrlVars()[\"event\"] : false);\n        this.setShowWebcasts(this.getUrlVars()[\"showWebcasts\"] !== undefined ? JSON.parse(this.getUrlVars()[\"showWebcasts\"]) : true);\n    }\n}\n\nexport default AppState;","import { EventEmitter } from \"events\";\nconst sizeof = require('object-sizeof');\n\nconst LOCAL_STORAGE_KEY = \"The Blue Alliance API Cache\";\nconst MAX_CACHE_SIZE = 3.5e6;\n\nclass Cache {\n    constructor() {\n        var local_cache = localStorage.getItem(LOCAL_STORAGE_KEY);\n        if (local_cache === null) {\n            this.data = { \"events\": { \"list\": [] } };\n        } else {\n            this.data = JSON.parse(local_cache);\n        }\n\n        this.eventEmitter = new EventEmitter();\n\n        this.reduceSize();\n        this.sendDataChangedEvent();\n    }\n\n    static getInstance() {\n        if (this.instance === undefined) {\n            this.instance = new Cache();\n        }\n\n        return this.instance;\n    }\n\n    getEventEmitter() {\n        return this.eventEmitter;\n    }\n\n    writeToLocalStorage() {\n        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(this.data));\n    }\n\n    get() {\n        return this.data;\n    }\n\n    set(data) {\n        this.data = data;\n        this.writeToLocalStorage();\n        this.sendDataChangedEvent();\n    }\n\n    size() {\n        return sizeof(this.data);\n    }\n\n    deleteLastUpdatedEvent() {\n        var last_updated_event_key = null, last_updated_event_date = new Date();\n        for (var event in this.data.events) {\n            if (new Date(this.data.events[event].last_updated) < last_updated_event_date) {\n                last_updated_event_key = event;\n                last_updated_event_date = new Date(this.data.events[event].last_updated);\n            }\n        }\n\n        if (last_updated_event_key !== null) {\n            delete this.data.events[last_updated_event_key];\n        }\n    }\n\n    /**\n     * Only reduces size if necessary\n     */\n    reduceSize() {\n        while(this.size() > MAX_CACHE_SIZE) {\n            this.deleteLastUpdatedEvent();\n        }\n    }\n\n    sendDataChangedEvent() {\n        this.eventEmitter.emit(\"dataChanged\");\n    }\n\n    sendUpdatedWebcastsEvent() {\n        this.eventEmitter.emit(\"webcastsUpdated\");\n    }\n\n    sendEventListChangedEvent() {\n        this.eventEmitter.emit(\"eventListChanged\");\n    }\n}\n\nexport default Cache;","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport AppState from '../state/AppState';\nimport Cache from '../storage/Cache';\n\nexport default class Header extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user && user.displayName) {\n        var li = document.createElement(\"li\");\n        li.classList.add(\"nav-item\");\n\n        var a = document.createElement(\"a\");\n        a.classList.add(\"nav-link\");\n        a.classList.add(\"sign-out\");\n        \n        var data_toggle = document.createAttribute(\"data-toggle\");\n        data_toggle.value = \"tooltip\";\n        a.attributes.setNamedItem(data_toggle);\n\n        var data_placement = document.createAttribute(\"data-placement\");\n        data_placement.value = \"bottom\";\n        a.attributes.setNamedItem(data_placement);\n        \n        var title = document.createAttribute(\"title\");\n        title.value = \"Sign out \" + user.displayName;\n        a.attributes.setNamedItem(title);\n\n        a.innerHTML = \"Sign out\";\n        a.href = process.env.PUBLIC_URL + \"/#/sign_out\";\n\n        li.appendChild(a);\n        document.getElementsByClassName(\"sign-out-ul\")[0].appendChild(li);\n      }\n    });\n\n    var instance = this;\n    AppState.getInstance().getEventEmitter().on(\"appStateChanged\", function () {\n      instance.forceUpdate();\n    });\n\n    var hasListOfEventsChanged = false;\n    Cache.getInstance().getEventEmitter().on(\"eventListChanged\", function () {\n      if (!hasListOfEventsChanged) {\n        instance.forceUpdate();\n        hasListOfEventsChanged = true;\n      }\n    });\n\n    this.setTeamNumberAndEvent = this.setTeamNumberAndEvent.bind(this);\n    this.toggleWebcast = this.toggleWebcast.bind(this);\n  }\n\n  setTeamNumberAndEvent() {\n    var event = document.getElementsByClassName(\"settings-event\")[0].value;\n    if (!event) {\n      alert(\"Event field is required\", true);\n      return;\n    }\n\n    var team = document.getElementsByClassName(\"settings-team\")[0].value === \"\" ? false : \"frc\" + document.getElementsByClassName(\"settings-team\")[0].value;\n    var showWebcast = AppState.getInstance().getShowWebcasts();\n    window.location.href = window.location.href.split(\"?\")[0] + \"?event=\" + event + (team ? \"&team=\" + team : \"\") + \"&showWebcasts=\" + showWebcast;\n    window.location.reload();\n  }\n\n  toggleWebcast() {\n    var event = AppState.getInstance().getEvent();\n    var team = AppState.getInstance().getTeam();\n    var showWebcast = AppState.getInstance().getShowWebcasts();\n    window.location.href = window.location.href.split(\"?\")[0] + \"?event=\" + event + (team ? \"&team=\" + team : \"\") + \"&showWebcasts=\" + !showWebcast;\n    window.location.reload();\n  }\n\n  render() {\n    var showSettings = AppState.getInstance().getShowSettingsPane();\n    var showTeamSettings = AppState.getInstance().getShowOtherSettings();\n    var event = AppState.getInstance().getEvent();\n    var team = AppState.getInstance().getTeam();\n    var cache = Cache.getInstance().get();\n\n    var eventOptions = [];\n    if (cache.events !== undefined || cache.events.list !== undefined || cache.events.list.length !== 0) {\n      var data = cache.events.list;\n      for (var i in data) {\n        eventOptions.push(<option key={data[i].key} value={data[i].key}>{data[i].name} ({data[i].key})</option>);\n      }\n    }\n\n    if (eventOptions.length === 0) {\n      eventOptions.push(<option disabled>No Upcoming Events</option>);\n    }\n\n    return (\n      <header>\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n          <a className=\"navbar-brand\" href={process.env.PUBLIC_URL}>FRC Pit</a>\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarText\" aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarText\">\n            <ul className=\"navbar-nav\">\n              <li className=\"nav-item\"><a className=\"nav-link\" href={process.env.PUBLIC_URL}><i className=\"fa fa-home\" aria-hidden=\"true\"></i> Home</a></li>\n              <li className=\"nav-item\"><a className=\"nav-link\" href={process.env.PUBLIC_URL + \"/#/tools_list\"}><i className=\"fa fa-wrench\" aria-hidden=\"true\"></i> Tools List</a></li>\n              <li className=\"nav-item\"><a className=\"nav-link\" href={process.env.PUBLIC_URL + \"/#/check_out_tool\"}><i className=\"fa fa-plus\" aria-hidden=\"true\"></i> Check Out Tool</a></li>\n              <li className=\"nav-item\"><a className=\"nav-link\" href={process.env.PUBLIC_URL + \"/#/stats\"}><i className=\"fa fa-chart-area\" aria-hidden=\"true\"></i> Stats</a></li>\n            </ul>\n            <form className=\"form-inline settings\">\n              <select className=\"form-control mr-sm-2 settings-event\" style={{ display: showSettings ? \"block\" : \"none\" }} defaultValue={event || \"\"}>{eventOptions}</select>\n              <input className=\"form-control mr-sm-2 settings-team\" placeholder=\"Team Number\" type=\"number\" style={{ display: showTeamSettings ? \"block\" : \"none\" }} defaultValue={showTeamSettings && team ? parseInt(team.substring(3)) : \"\"}/>\n              <input type=\"button\" className=\"btn btn-success set-team-number-and-event-btn my-2 my-sm-0\" value=\"\" onClick={this.setTeamNumberAndEvent} style={{ display: showSettings ? \"block\" : \"none\" }} />\n              <input type=\"button\" className=\"btn btn-secondary disable-webcast-button my-2 my-sm-0\" value=\"Toggle Webcasts\" style={{ display: showTeamSettings ? \"block\" : \"none\", marginLeft: \"5px\" }} onClick={this.toggleWebcast} />\n            </form>\n            <ul className=\"navbar-nav ml-auto sign-out-ul\"></ul>\n          </div>\n        </nav>\n      </header>\n    );\n  }\n}","export const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nexport function getMatchTimeInMS(match) {\n    if (match.actual_time !== undefined && match.actual_time !== null) {\n        return match.actual_time * 1000;\n    }\n\n    if (match.predicted_time !== undefined && match.predicted_time !== null) {\n        return match.predicted_time * 1000;\n    }\n\n    return match.time * 1000;\n}\n\nexport default { getMatchTimeInMS, days }","/**\n * This should be the only file that needs to be updated each season\n * Index is the name of the variable from the TBA API\n * Name is what you want to appear to represent that RP in the pop up\n */\n\nconst rankingPointYear = {\n    \"2016\": [\n        {\n            \"index\": \"teleopDefensesBreached\",\n            \"name\": \"Defenses Breached\"\n        },\n        {\n            \"index\": \"teleopTowerCaptured\",\n            \"name\": \"Tower Captured\"\n        }\n    ],\n    \"2017\": [\n        {\n            \"index\": \"kPaRankingPointAchieved\",\n            \"name\": \"Pressure Reached\"\n        },\n        {\n            \"index\": \"rotorRankingPointAchieved\",\n            \"name\": \"All Rotors Engaged\"\n        }\n    ],\n    \"2018\": [\n        {\n            \"index\": \"autoQuestRankingPoint\",\n            \"name\": \"Auto Quest\"\n        },\n        {\n            \"index\": \"faceTheBossRankingPoint\",\n            \"name\": \"Face the Boss\"\n        }\n    ],\n    \"2019\": [\n        {\n            \"index\": \"completeRocketRankingPoint\",\n            \"name\": \"Complete Rocket\"\n        },\n        {\n            \"index\": \"habDockingRankingPoint\",\n            \"name\": \"HAB Docking\"\n        }\n    ],\n    \"2020\": [\n        {\n            \"index\": \"shieldOperationalRankingPoint\",\n            \"name\": \"Shield Operational\"\n        },\n        {\n            \"index\": \"shieldEnergizedRankingPoint\",\n            \"name\": \"Shield Energized\"\n        }\n    ]\n};\n\nclass Challenge {\n    static getBonusRankingPoint1(year) {\n        return rankingPointYear[year] != null ? rankingPointYear[year][0] : -1;\n    }\n\n    static getBonusRankingPoint2(year) {\n        return rankingPointYear[year] != null ? rankingPointYear[year][1] : -1;\n    }\n}\n\nexport default Challenge;","import React, { Component } from 'react';\nimport Cache from '../storage/Cache';\nimport AppState from '../state/AppState';\nimport util from '../util/util';\nimport Challenge from '../state/Challenge';\n\nexport default class ScheduleTable extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n  }\n\n  componentDidMount() {\n    this.sortSchedule();\n  }\n\n  componentDidUpdate() {\n    this.sortSchedule();\n  }\n\n  render() {\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    // for ranking point pop ups\n    var bonus_rp_1_index = Challenge.getBonusRankingPoint1(event.substring(0, 4)).index;\n    var bonus_rp_1_name = Challenge.getBonusRankingPoint1(event.substring(0, 4)).name;\n    var bonus_rp_2_index = Challenge.getBonusRankingPoint2(event.substring(0, 4)).index;\n    var bonus_rp_2_name = Challenge.getBonusRankingPoint2(event.substring(0, 4)).name;\n\n    var body;\n    if ((cache.events[event] == null || cache.events[event].matches == null || cache.events[event].matches.length === 0)\n      || (team && (cache.events[event].teams[team] == null || cache.events[event].teams[team].matches == null || cache.events[event].teams[team].matches.length === 0))) {\n      body = <h1>No Schedule</h1>;\n    } else {\n      var data = team ? cache.events[event].teams[team].matches : cache.events[event].matches;\n\n      var rows = [];\n      for (var match in data) {\n        if (!team || (data[match].alliances.red.team_keys.includes(team.toString()) || data[match].alliances.blue.team_keys.includes(team.toString()))) {\n          var scores;\n          if (data[match].alliances.red.score >= 0 && data[match].alliances.blue.score >= 0) {\n            var score_breakdown_exists = data[match].score_breakdown != null;\n            scores = <React.Fragment>\n              <td className={`red-score ${data[match].winning_alliance === \"red\" ? \"winner\" : \"\"} ${data[match].alliances.red.team_keys.includes(team) ? \"current-team\" : \"\"}`} data-toggle=\"tooltip\" data-placement=\"top\" title={`${score_breakdown_exists && data[match].score_breakdown.red[bonus_rp_1_index] ? bonus_rp_1_name : \"\"}${score_breakdown_exists && data[match].score_breakdown.red[bonus_rp_1_index] && data[match].score_breakdown.red[bonus_rp_2_index] ? \" & \" : \"\"}${score_breakdown_exists && data[match].score_breakdown.red[bonus_rp_2_index] ? bonus_rp_2_name : \"\"}`}>{data[match].alliances.red.score}</td>\n              <td className={`blue-score ${data[match].winning_alliance === \"blue\" ? \"winner\" : \"\"} ${data[match].alliances.blue.team_keys.includes(team) ? \"current-team\" : \"\"}`} data-toggle=\"tooltip\" data-placement=\"top\" title={`${score_breakdown_exists && data[match].score_breakdown.blue[bonus_rp_1_index] ? bonus_rp_1_name : \"\"}${score_breakdown_exists && data[match].score_breakdown.blue[bonus_rp_1_index] && data[match].score_breakdown.blue[bonus_rp_2_index] ? \" & \" : \"\"}${score_breakdown_exists && data[match].score_breakdown.blue[bonus_rp_2_index] ? bonus_rp_2_name : \"\"}`}>{data[match].alliances.blue.score}</td>\n            </React.Fragment>\n          } else {\n            var matchDate = new Date(util.getMatchTimeInMS(data[match]));\n            scores =\n              <td colSpan=\"2\"><time dateTime={matchDate.toISOString()}>{util.days[matchDate.getDay()]}, {matchDate.toLocaleTimeString().replace(/:\\d{2}\\s/, ' ')}</time></td>\n          }\n\n          rows.push(\n            <tr key={match}>\n              <td>{data[match].comp_level === \"qm\" ? \"Quals \" + data[match].match_number : (data[match].comp_level === \"qf\" ? \"Quarters \" + data[match].set_number + \" Match \" + data[match].match_number : (data[match].comp_level === \"sf\" ? \"Semis \" + data[match].set_number + \" Match \" + data[match].match_number : \"Finals \" + data[match].match_number))}</td>\n              <td className={`red ${data[match].alliances.red.team_keys[0] === team ? \"current-team\" : \"\"} ${data[match].alliances.red.dq_team_keys.includes(data[match].alliances.red.team_keys[0]) ? \"strike\" : \"\"}`}>{data[match].alliances.red.team_keys[0].substring(3)}</td>\n              <td className={`red ${data[match].alliances.red.team_keys[1] === team ? \"current-team\" : \"\"} ${data[match].alliances.red.dq_team_keys.includes(data[match].alliances.red.team_keys[1]) ? \"strike\" : \"\"}`}>{data[match].alliances.red.team_keys[1].substring(3)}</td>\n              <td className={`red ${data[match].alliances.red.team_keys[2] === team ? \"current-team\" : \"\"} ${data[match].alliances.red.dq_team_keys.includes(data[match].alliances.red.team_keys[2]) ? \"strike\" : \"\"}`}>{data[match].alliances.red.team_keys[2].substring(3)}</td>\n              <td className={`blue ${data[match].alliances.blue.team_keys[0] === team ? \"current-team\" : \"\"} ${data[match].alliances.blue.dq_team_keys.includes(data[match].alliances.blue.team_keys[0]) ? \"strike\" : \"\"}`}>{data[match].alliances.blue.team_keys[0].substring(3)}</td>\n              <td className={`blue ${data[match].alliances.blue.team_keys[1] === team ? \"current-team\" : \"\"} ${data[match].alliances.blue.dq_team_keys.includes(data[match].alliances.blue.team_keys[1]) ? \"strike\" : \"\"}`}>{data[match].alliances.blue.team_keys[1].substring(3)}</td>\n              <td className={`blue ${data[match].alliances.blue.team_keys[2] === team ? \"current-team\" : \"\"} ${data[match].alliances.blue.dq_team_keys.includes(data[match].alliances.blue.team_keys[2]) ? \"strike\" : \"\"}`}>{data[match].alliances.blue.team_keys[2].substring(3)}</td>\n              {scores}\n            </tr>);\n        }\n      }\n\n      body = <table className=\"table table-bordered\" id=\"schedule-table\">\n        <thead>\n          <tr>\n            <th>Match</th>\n            <th colSpan=\"3\">Red Alliance</th>\n            <th colSpan=\"3\">Blue Alliance</th>\n            <th colSpan=\"2\">Scores</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows}\n        </tbody>\n      </table>;\n    }\n\n    return (\n      <div className=\"tab-pane fade show active schedule\" id=\"schedule\" role=\"tabpanel\">\n        {body}\n      </div>\n    );\n  }\n\n  // adapted from w3 schools\n  sortSchedule() {\n    var table, rows, switching, i, x, y, shouldSwitch;\n    table = document.getElementById(\"schedule-table\");\n    if (table === null) {\n      return;\n    }\n\n    switching = true;\n\n    while (switching) {\n      switching = false;\n      rows = table.getElementsByTagName(\"tr\");\n\n      for (i = 1; i < (rows.length - 1); i++) {\n        shouldSwitch = false;\n        x = rows[i].getElementsByTagName(\"td\")[0];\n        y = rows[i + 1].getElementsByTagName(\"td\")[0];\n\n        if (this.sortScheduleCompare(x.innerHTML, y.innerHTML) === 1) {\n          shouldSwitch = true;\n          break;\n        }\n      }\n\n      if (shouldSwitch) {\n        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n        switching = true;\n      }\n    }\n  }\n\n  // returns 1 if a is a later match than b, 0 if a is the same match as b, and -1 if a is an earlier match than b\n  sortScheduleCompare(a, b) {\n    var aType, bType;\n    // Quals = 0, Quarters = 1, Semis = 2, Finals = 3\n    if (a.startsWith(\"Quals\")) {\n      aType = 0;\n    } else if (a.startsWith(\"Quarters\")) {\n      aType = 1;\n    } else if (a.startsWith(\"Semis\")) {\n      aType = 2;\n    } else if (a.startsWith(\"Finals\")) {\n      aType = 3;\n    }\n\n    if (b.startsWith(\"Quals \")) {\n      bType = 0;\n    } else if (b.startsWith(\"Quarters \")) {\n      bType = 1;\n    } else if (b.startsWith(\"Semis \")) {\n      bType = 2;\n    } else if (b.startsWith(\"Finals\")) {\n      bType = 3;\n    }\n\n    if (aType !== bType) {\n      return aType > bType ? 1 : -1;\n    }\n\n    var aMatchNum, bMatchNum;\n    if (aType === 0 && bType === 0) {\n      aMatchNum = parseInt(a.substring(6));\n      bMatchNum = parseInt(b.substring(6));\n\n      return aMatchNum > bMatchNum ? 1 : (aMatchNum < bMatchNum ? -1 : 0);\n    } else if (aType === 1 && bType === 1) {\n      aMatchNum = parseInt(a.substring(17));\n      bMatchNum = parseInt(b.substring(17));\n\n      return aMatchNum > bMatchNum ? 1 : (aMatchNum < bMatchNum ? -1 : 0);\n    } else if (aType === 2 && bType === 2) {\n      aMatchNum = parseInt(a.substring(14));\n      bMatchNum = parseInt(b.substring(14));\n\n      return aMatchNum > bMatchNum ? 1 : (aMatchNum < bMatchNum ? -1 : 0);\n    }\n\n    return a > b ? 1 : (a < b ? -1 : 0);\n  }\n}","import React, { Component } from 'react';\nimport Cache from '../storage/Cache';\nimport AppState from '../state/AppState';\n\nexport default class RankingsTable extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n  }\n\n  render() {\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    var body;\n    if (cache.events[event] == null || cache.events[event].rankings == null\n      || cache.events[event].rankings.rankings == null || cache.events[event].rankings.rankings.length === 0) {\n      body = <h1>No Rankings</h1>;\n    } else {\n      var data = cache.events[event].rankings.rankings;\n\n      var rows = [];\n      for (var ranking in data) {\n        var record_exists = data[ranking].record != null; // to account for games like 2015\n        rows.push(\n          <tr key={ranking}>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].rank}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].team_key.substring(3)}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].sort_orders[0].toFixed(3)}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{record_exists ? `${data[ranking].record.wins}-${data[ranking].record.losses}-${data[ranking].record.ties}` : \"N/A\"}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].matches_played}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].extra_stats[0]}</td>\n          </tr>);\n      }\n\n      body = <table className=\"table table-striped table-bordered\">\n        <thead>\n          <tr>\n            <th>Rank</th>\n            <th>Team</th>\n            <th>Ranking Score</th>\n            <th>Record (W-L-T)</th>\n            <th>Played</th>\n            <th>Total RP</th>\n          </tr>\n        </thead>\n        <tbody>{rows}</tbody>\n      </table>;\n    }\n\n    return (\n      <div className=\"tab-pane fade rankings\" id=\"rankings\" role=\"tabpanel\">\n        {body}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport ScheduleTable from './ScheduleTable';\nimport RankingsTable from './RankingsTable';\n\nexport default class ScheduleAndRankings extends Component {\n  render() {\n    return (\n      <div className=\"schedule-rankings\">\n        <ul className=\"nav nav-tabs\" role=\"tablist\">\n          <li className=\"nav-item\">\n            <a className=\"nav-link active\" data-toggle=\"tab\" href=\"#schedule\" role=\"tab\">Schedule</a>\n          </li>\n          <li className=\"nav-item\">\n            <a className=\"nav-link\" data-toggle=\"tab\" href=\"#rankings\" role=\"tab\">Rankings</a>\n          </li>\n        </ul>\n        <div className=\"tab-content\">\n          <ScheduleTable />\n          <RankingsTable />\n        </div>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport AppState from '../state/AppState';\nimport Cache from '../storage/Cache';\n\nexport default class Webcasts extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    var hasDataChanged = false;\n    Cache.getInstance().getEventEmitter().on(\"webcastsUpdated\", function () {\n      if (!hasDataChanged) {\n        instance.forceUpdate();\n        hasDataChanged = true;\n      }\n    });\n  }\n\n  componentDidUpdate() {\n    if (document.querySelector('.webcasts ul li') === null) {\n      return;\n    }\n\n    document.querySelector('.webcasts ul li').firstChild.classList.add('active');\n    document.querySelector('.webcasts .tab-content .tab-pane').classList.add(\"show\", \"active\");\n\n    document.querySelectorAll('.webcasts .tab-content .tab-pane iframe').forEach((a) => a.width = document.getElementsByClassName(\"webcasts\")[0].clientWidth);\n    document.querySelectorAll('.webcasts .tab-content .tab-pane iframe').forEach((a) => a.height = document.getElementsByClassName(\"webcasts\")[0].clientHeight - 80);\n  }\n\n  render() {\n    var event = AppState.getInstance().getEvent();\n    var showWebcasts = AppState.getInstance().getShowWebcasts();\n    var cache = Cache.getInstance().get();\n\n    var body;\n    if (!showWebcasts) {\n      body = <h1>Webcasts Disabled</h1>\n    } else if (!navigator.onLine) {\n      body = <h1>Offline: Cannot Access Webcasts</h1>\n    } else if (cache.events[event] == null || cache.events[event].webcasts == null || cache.events[event].webcasts.length === 0) {\n      body = <h1>No Webcasts</h1>\n    } else {\n      var data = cache.events[event].webcasts;\n      var lis = [], iframes = [];\n      for (var webcast in data) {\n        if (data[webcast].type === \"twitch\" || data[webcast].type === \"youtube\") {\n          lis.push(\n            <li className=\"nav-item\" key={webcast}>\n              <a className=\"nav-link\" data-toggle=\"tab\" href={\"#webcast-\" + (parseInt(webcast) + 1)} role=\"tab\">Webcast {(parseInt(webcast) + 1)}</a>\n            </li>\n          );\n\n          iframes.push(\n            <div className=\"tab-pane fade\" id={\"webcast-\" + (parseInt(webcast) + 1)} role=\"tabpanel\" key={webcast}>\n              <iframe title={webcast}\n                src={(data[webcast].type === \"twitch\" ? \"//player.twitch.tv/?channel=\" : \"//www.youtube.com/embed/\") + data[webcast].channel}\n                frameBorder=\"none\"\n                scrolling=\"none\"\n                allowFullScreen={true}>\n              </iframe>\n            </div>\n          );\n        }\n      }\n      body = <div>\n        <ul className=\"nav nav-tabs\" role=\"tablist\">{lis}</ul>\n        <div className=\"tab-content\">{iframes}</div>\n      </div>\n    }\n\n    return (\n      <div className=\"webcasts\">\n        {body}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport AppState from '../state/AppState';\nimport Cache from '../storage/Cache';\n\nexport default class Awards extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n  }\n\n  render() {\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    var body;\n    if ((cache.events[event] == null || cache.events[event].awards == null || cache.events[event].awards.length === 0)\n      || (team && (cache.events[event].teams[team] == null || cache.events[event].teams[team].awards == null || cache.events[event].teams[team].awards.length === 0))) {\n      body = <h1>No Awards</h1>;\n    } else {\n      var data = team ? cache.events[event].teams[team].awards : cache.events[event].awards;\n      var lis = [];\n      for (var award in data) {\n        if (team) {\n          lis.push(\n            <li key={award}>{data[award].name} {data[award].recipient_list.map(x => x.team_key === team && (x.awardee !== null && x.awardee !== \"\") ? \"(\" + x.awardee + \")\" : \"\").join(\"\")}</li>\n          );\n        } else {\n          lis.push(\n            <li key={award}>{data[award].name} ({data[award].recipient_list.map(x => (x.awardee !== null && x.awardee !== \"\") ? x.awardee : ((x.team_key != null && x.team_key.length > 2) ? x.team_key.substring(3) : \"--\")).join(\", \")})</li>\n          );\n        }\n      }\n\n      body = <div>\n        <h1>Awards</h1>\n        <ul>\n          {lis}\n        </ul>\n      </div>\n    }\n\n    return (\n      <div className=\"awards\">\n        {body}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport Cache from '../storage/Cache';\nimport AppState from '../state/AppState';\nimport util from '../util/util';\n\nexport default class Countdown extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n\n    this.state = { nextMatchNameTime: null, nextMatchName: null, nextMatchBumperColor: \"black\" };\n    this.updateCountdown = this.updateCountdown.bind(this);\n    setInterval(this.updateCountdown, 1000);\n  }\n\n  updateCountdown() {\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    var closestMatchTime = Number.MAX_VALUE;\n    var closestMatchName = null;\n    var closestMatchBumperColor = null;\n\n    if ((cache.events[event] == null || cache.events[event].matches == null || cache.events[event].matches.length === 0)\n      || (team && (cache.events[event].teams[team] == null || cache.events[event].teams[team].matches == null || cache.events[event].teams[team].matches.length === 0))) {\n      return;\n    }\n\n    var data = team ? cache.events[event].teams[team].matches : cache.events[event].matches;\n    for (var match in data) {\n      if ((new Date()) < (new Date(util.getMatchTimeInMS(data[match]))) && util.getMatchTimeInMS(data[match]) < closestMatchTime && data[match].score_breakdown == null) {\n        closestMatchTime = util.getMatchTimeInMS(data[match]);\n        closestMatchName = data[match].comp_level === \"qm\" ? \"Quals \" + data[match].match_number : (data[match].comp_level === \"qf\" ? \"Quarters \" + data[match].set_number + \" Match \" + data[match].match_number : (data[match].comp_level === \"sf\" ? \"Semis \" + data[match].set_number + \" Match \" + data[match].match_number : \"Finals \" + data[match].match_number));\n        closestMatchBumperColor = team ? (data[match].alliances.blue.team_keys.includes(team) ? \"blue\" : \"red\") : null\n      }\n    }\n\n    if (closestMatchTime === Number.MAX_VALUE || closestMatchName === null) {\n      this.setState({ nextMatchNameTime: null, nextMatchName: null, nextMatchBumperColor: \"black\" });\n    } else {\n      var countDownDate = new Date(closestMatchTime).getTime();\n\n      var distance = countDownDate - (new Date());\n\n      if (distance >= 24 * 60 * 60 * 1000) { // if greater than a day away\n        this.setState({ nextMatchNameTime: null, nextMatchName: null, nextMatchBumperColor: \"black\" });\n      } else {\n        var hours = parseInt((distance / (1000 * 60 * 60)) % 24);\n        var minutes = parseInt((distance / (1000 * 60)) % 60);\n        var seconds = parseInt((distance / 1000) % 60);\n\n        hours = (hours < 10) ? \"0\" + hours : hours;\n        minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n        seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n        if (distance >= 0) {\n          this.setState({ nextMatchNameTime: hours + \":\" + minutes + \":\" + seconds, nextMatchName: closestMatchName, nextMatchBumperColor: closestMatchBumperColor });\n        } else {\n          this.setState({ nextMatchNameTime: null, nextMatchName: null, nextMatchBumperColor: \"black\" });\n        }\n      }\n    }\n  }\n\n  render() {\n    var body;\n    if (this.state.nextMatchNameTime === null || this.state.nextMatchName === null) {\n      body = <h1>No Upcoming Match</h1>;\n    } else {\n      body =\n        <div>\n          <h1 className={`countdown-timer-tag ${\"countdown-\" + this.state.nextMatchBumperColor}`} style={{ textAlign: \"center\", fontSize: \"5.25em\" }}>{this.state.nextMatchNameTime}</h1>\n          <h2 style={{ textAlign: \"center\" }}>Until {this.state.nextMatchName}</h2>\n        </div>\n    }\n\n    return (\n      <div className=\"countdown\">\n        {body}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport ScheduleAndRankings from '../components/ScheduleAndRankings';\nimport Webcasts from '../components/Webcasts';\nimport Awards from '../components/Awards';\nimport Countdown from '../components/Countdown';\nimport AppState from '../state/AppState';\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    AppState.getInstance().getEventEmitter().on(\"appStateChanged\", function () {\n      instance.forceUpdate();\n    });\n\n    AppState.getInstance().setShowSettingsPane(true);\n    AppState.getInstance().setShowOtherSettings(true);\n  }\n\n  render() {\n    return (\n      <div>\n        {AppState.getInstance().getTeamEventVerified() === undefined || !AppState.getInstance().getTeamEventVerified() ?\n          <h1 className=\"no-team-event-selected\" style={{ textAlign: \"center\" }}>No Event/Team selected</h1> :\n          <div>\n            <ScheduleAndRankings />\n            <Webcasts />\n            <Awards />\n            <Countdown /></div>}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport AppState from '../state/AppState';\n\nvar redirectURL = ((new RegExp('[?|&]redirect=([^&;]+?)(&|#|;|$)').exec(window.location.href) || [null, ''])[1].replace(/\\+/g, '%20'));\n\nexport default class Auth extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shouldRender: false,\n      uiConfig: {\n        signInFlow: 'popup',\n        signInSuccessUrl: process.env.PUBLIC_URL + `/#/signed_in?redirect=${redirectURL}`,\n        signInOptions: [\n          firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n          firebase.auth.GithubAuthProvider.PROVIDER_ID,\n          firebase.auth.EmailAuthProvider.PROVIDER_ID,\n          {\n            provider: firebase.auth.PhoneAuthProvider.PROVIDER_ID,\n            recaptchaParameters: {\n              type: 'image',\n              size: 'normal',\n              badge: 'bottomleft'\n            },\n            defaultCountry: 'US'\n          }\n        ],\n      }\n    };\n\n    var instance = this;\n\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        window.location.href = process.env.PUBLIC_URL + `/#/signed_in?redirect=${redirectURL}`;\n      } else {\n        instance.setState({ shouldRender: true });\n      }\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  render() {\n    if (this.state.shouldRender) {\n      return (\n        <StyledFirebaseAuth uiConfig={this.state.uiConfig} firebaseAuth={firebase.auth()} />\n      );\n    } else {\n      return null;\n    }\n  }\n}","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport AppState from '../state/AppState';\n\nclass ToolRow extends Component {\n  constructor(props) {\n    super(props);\n\n    this.returnTool = this.returnTool.bind(this);\n    this.state = { currentUser: null };\n\n    var instance = this;\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        instance.setState({ currentUser: user });\n      } else {\n        window.location.href = process.env.PUBLIC_URL + \"/#/auth?redirect=\" + encodeURIComponent(window.location.href);\n      }\n    });\n  }\n\n  returnTool(id) {\n    if (this.state.currentUser != null) {\n      if (document.getElementsByClassName(\"error-alert-div\")[0]) {\n        document.getElementsByClassName(\"error-alert-div\")[0].style.display = \"none\";\n      }\n      firebase.firestore().collection('users').doc(this.state.currentUser.uid).collection('tools').doc(id).delete();\n    } else {\n      alert(\"No current user\", true);\n    }\n  }\n\n  render() {\n    return (\n      <tr>\n        <td>{this.props.name}</td>\n        <td>{this.props.team}</td>\n        <td>{this.props.time}</td>\n        <td>{this.props.tool}</td>\n        <td><button type='button' className='btn btn-primary' onClick={() => this.returnTool(this.props.index)}>Return</button></td>\n      </tr>\n    );\n  }\n}\n\nexport default class ToolsList extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.firestore().settings({ timestampsInSnapshots: true });\n\n    this.state = { shouldRender: false, tools: [], team_number: null };\n\n    var instance = this;\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        instance.setState({ currentUser: user });\n\n        firebase.firestore().collection('users').doc(instance.state.currentUser.uid).collection('tools').onSnapshot(querySnapshot => {\n          var tools = [];\n\n          for (var i in querySnapshot.docs) {\n            tools.push({\n              key: querySnapshot.docs[i].id,\n              name: querySnapshot.docs[i].get('name'),\n              team_number: querySnapshot.docs[i].get('team_number'),\n              checkout_time: querySnapshot.docs[i].get('checkout_time').toDate().toLocaleString(),\n              description: querySnapshot.docs[i].get('description')\n            });\n          }\n\n          instance.setState({ tools: tools });\n        }, err => {\n          console.error(err)\n        });\n\n        firebase.firestore().collection('users').doc(instance.state.currentUser.uid).get().then((doc) => {\n          instance.setState({ team_number: doc.get('team') });\n        });\n\n        instance.setState({ shouldRender: true });\n      } else {\n        window.location.href = process.env.PUBLIC_URL + \"/#/auth?redirect=\" + encodeURIComponent(window.location.href);\n      }\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  render() {\n    if (this.state.shouldRender) {\n      var rows = [];\n      rows = this.state.tools.map(({ key, name, team_number, checkout_time, description }) =>\n        <ToolRow key={key} index={key} name={name} team={team_number} time={checkout_time} tool={description} />\n      );\n\n      return (\n        <div>\n          <h2 style={{ textAlign: \"center\" }}>{this.state.team_number == null ? \"Loading...\" : \"Tools Checked Out from Team \" + this.state.team_number + \":\"}</h2>\n          <table className=\"table-striped table-bordered tools-list\" style={{ width: \"98%\", maxWidth: \"98%\", margin: \"1%\" }}>\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Team Number</th>\n                <th>Checkout Date</th>\n                <th>Tool</th>\n                <th>Return</th>\n              </tr>\n            </thead>\n            <tbody>\n              {rows}\n            </tbody>\n          </table>\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport AppState from '../state/AppState';\n\nexport default class CreateNewTool extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.firestore().settings({ timestampsInSnapshots: true });\n\n    this.addTool = this.addTool.bind(this);\n    this.state = { shouldRender: false, currentUser: null };\n\n    var instance = this;\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        instance.setState({ currentUser: user });\n\n        firebase.firestore().collection('users').doc(instance.state.currentUser.uid).get().then((doc) => {\n          instance.setState({ team_number: doc.get('team') });\n        });\n\n        instance.setState({ shouldRender: true });\n      } else {\n        window.location.href = process.env.PUBLIC_URL + \"/#/auth?redirect=\" + encodeURIComponent(window.location.href);\n      }\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  addTool() {\n    var name = document.getElementById(\"name\").value,\n      tool = document.getElementById(\"tool\").value,\n      team_number = document.getElementById(\"team-number\").value;\n\n    if (name === \"\" || tool === \"\" || team_number === \"\") {\n      alert(\"Error: All fields must be filled.\", true);\n      return;\n    }\n\n    if (this.state.currentUser != null) {\n      firebase.firestore().collection('users').doc(this.state.currentUser.uid).collection('tools').add({\n        \"name\": name,\n        \"description\": tool,\n        \"checkout_time\": new Date(),\n        \"team_number\": parseInt(team_number, 10)\n      });\n\n      document.getElementById(\"name\").value = \"\";\n      document.getElementById(\"tool\").value = \"\";\n      document.getElementById(\"team-number\").value = \"\";\n      if (document.getElementsByClassName(\"error-alert-div\")[0]) {\n        document.getElementsByClassName(\"error-alert-div\")[0].style.display = \"none\";\n      }\n    } else {\n      alert(\"No current user\", true);\n    }\n  }\n\n  render() {\n    if (this.state.shouldRender) {\n      return (\n        <div>\n          <h2 style={{ textAlign: \"center\" }}>{this.state.team_number == null ? \"Loading...\" : \"Check Out Tool from Team \" + this.state.team_number + \":\"}</h2>\n          <form className=\"add-tool-container\" style={{ width: \"98%\", margin: \"1%\" }}>\n            <p>Name:</p><input className=\"form-control\" id=\"name\" placeholder=\"Name\" type=\"text\" />\n            <p>Tool:</p><input className=\"form-control\" id=\"tool\" placeholder=\"Tool\" type=\"text\" />\n            <p>Team Number:</p><input className=\"form-control\" id=\"team-number\" placeholder=\"Team Number\" type=\"number\" />\n            <div className=\"btn btn-primary add-tool-btn\" onClick={this.addTool}>Add Tool</div>\n          </form>\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}","import React, { Component } from 'react';\nimport AppState from '../state/AppState';\n\nexport default class PageNotFound extends Component {\n  constructor(props) {\n    super(props);\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  render() {\n    return (\n      <div>\n        <h1 style={{ textAlign: \"center\", marginTop: \"1%\" }}>404 Page Not Found:</h1>\n        <h3 style={{ textAlign: \"center\", marginTop: \"1%\" }}>This Page Does Not Exist</h3>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport AppState from '../state/AppState';\n\nvar redirectURL = decodeURIComponent(((new RegExp('[?|&]redirect=([^&;]+?)(&|#|;|$)').exec(window.location.href) || [null, ''])[1].replace(/\\+/g, '%20')));\n\nexport default class SignedIn extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.firestore().settings({ timestampsInSnapshots: true });\n\n    this.createUser = this.createUser.bind(this);\n    this.state = { shouldRender: false, currentUser: null };\n\n    var instance = this;\n\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        firebase.firestore().collection('users').doc(user.uid).get().then(doc => {\n          if (doc.exists) {\n            window.location.href = redirectURL;\n          } else {\n            instance.setState({ currentUser: user });\n            instance.setState({ shouldRender: true });\n          }\n        });\n      } else {\n        window.location.href = process.env.PUBLIC_URL + \"/#/auth?redirect=\" + redirectURL;\n      }\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  createUser() {\n    var full_name = document.getElementById(\"full-name\").value !== \"\" ? document.getElementById(\"full-name\").value : this.state.currentUser.displayName;\n    var team_number = document.getElementById(\"team-number\").value;\n\n    if (full_name === \"\" || full_name === null || team_number === \"\") {\n      alert(\"Error: All fields must be filled.\", true);\n      return;\n    }\n\n    if (document.getElementsByClassName(\"error-alert-div\")[0]) {\n      document.getElementsByClassName(\"error-alert-div\")[0].style.display = \"none\";\n    }\n\n    if (this.state.currentUser != null) {\n      firebase.firestore().collection('users').doc(this.state.currentUser.uid).set({\n        \"name\": full_name,\n        \"team\": team_number\n      });\n\n      this.state.currentUser.updateProfile({\n        displayName: full_name\n      }).then(function () {\n        window.location.href = redirectURL;\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }\n\n  render() {\n    if (this.state.shouldRender) {\n      return (\n        <div>\n          <form className=\"add-tool-container\" style={{ width: \"98%\", margin: \"1%\" }}>\n            <p>Full Name:</p><input className=\"form-control\" id=\"full-name\" placeholder={this.state.currentUser.displayName == null ? \"Full name\" : this.state.currentUser.displayName} type=\"text\" />\n            <p>Team Number:</p><input className=\"form-control\" id=\"team-number\" placeholder=\"Team Number\" type=\"number\" />\n            <div className=\"btn btn-primary add-tool-btn\" onClick={this.createUser}>Create User</div>\n          </form>\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport AppState from '../state/AppState';\n\nexport default class SignOut extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.auth().signOut().then(function () {\n      window.location.href = process.env.PUBLIC_URL;\n    }, function (error) {\n      console.error(error);\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  render() {\n    return (\n      <h1 className=\"sign-out-header\" style={{ textAlign: \"center\" }}>Signing you out now.</h1>\n    );\n  }\n}","import React, { Component } from 'react';\n// import Cache from '../storage/Cache';\n// import AppState from '../state/AppState';\n// import api from '../storage/api';\n\nexport default class StatisticsModal extends Component {\n  // constructor(props) {\n    // super(props);\n\n    // this.state = {\n    //   teamKey: this.props.teamKey,\n    //   eventKey: this.props.eventKey,\n    //   teamNickname: null,\n    //   rookieYear: null,\n    //   location: null,\n    //   eventRecord: null,\n    //   shown: false,\n    //   validProps: this.props.teamKey !== null && this.props.eventKey !== null\n    // };\n\n    // this.showModal();\n\n    // this.hideModal = this.hideModal.bind(this);\n  // }\n\n  // componentDidUpdate(prevProps) {\n  //   var newModal = false;\n  //   if (prevProps.teamKey !== this.props.teamKey) {\n  //     this.setState({ teamKey: this.props.teamKey, validProps: this.props.teamKey !== null && this.props.eventKey !== null });\n  //     newModal = true;\n  //   }\n\n  //   if (prevProps.eventKey !== this.props.eventKey) {\n  //     this.setState({ eventKey: this.props.eventKey, validProps: this.props.teamKey !== null && this.props.eventKey !== null });\n  //     newModal = true;\n  //   }\n\n  //   if (newModal) {\n  //     this.showModal();\n  //   }\n  // }\n\n  // async showModal() {\n  //   if (this.state.validProps) {\n  //     await this.populateStateFromTBA();\n  //     alert(\"Showing Modal For \" + this.props.teamKey + \" @ \" + this.props.eventKey);\n  //     this.setState({ shown: true });\n  //     document.body.classList.add(\"modal-open\");\n  //     var backdrop = document.createElement(\"div\");\n  //     backdrop.id = \"modal-backdrop\";\n  //     backdrop.classList.add(\"modal-backdrop\", \"fade\", \"show\");\n  //     document.body.appendChild(backdrop);\n  //   }\n  // }\n\n  // hideModal() {\n  //   this.setState({ shown: false });\n  //   document.body.classList.remove(\"modal-open\");\n  //   document.body.removeChild(document.getElementById(\"modal-backdrop\"));\n  // }\n\n  // async populateStateFromTBA() {\n  //   await api.pullStatisticsFromTBA(this.state.teamKey);\n  //   var cache = Cache.getInstance().get();\n  //   var event = AppState.getInstance().getEvent();\n  \n  //   if (cache.events == null || cache.events[event] == null || cache.events[event].teams == null || cache.events[event].teams[this.state.teamKey] == null) {\n  //     return;\n  //   }\n  //   console.log(\"b\")\n\n  //   this.setState({\n  //     teamNickname: cache.events[event].teams[this.state.teamKey].name,\n  //     rookieYear: cache.events[event].teams[this.state.teamKey].rookie_year,\n  //     location: cache.events[event].teams[this.state.teamKey].location,\n  //     eventRecord: cache.events[event].teams[this.state.teamKey].status\n  //   });\n  // }\n\n  render() {\n    // if (!this.state.validProps) {\n    //   return (<div></div>);\n    // }\n\n    return (\n      <div className={`modal fade`} id=\"statistics-modal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"statistics-modal-label\" aria-hidden={false}>\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">&nbsp;</h5>\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\" /*onClick={this.hideModal}*/>&times;</span>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <p><b>Rookie Year:</b> <span className=\"modal-rookie-year\"></span></p>\n              <p><b>Location:</b> <span className=\"modal-location\"></span></p>\n              <p><b>Event Record:</b> <span className=\"modal-event-status\"></span></p>\n              <p><b>TBA Profile:</b> <a className=\"modal-tba-profile\" target=\"_blank\" href=\"/\">&nbsp;</a></p>\n              <p className=\"robot-images-title\"><b>Robot Images:</b></p>\n              <div id=\"carouselExampleControls\" className=\"carousel slide\" data-ride=\"carousel\">\n                <div className=\"carousel-inner\">\n                </div>\n                <a className=\"carousel-control-prev\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"prev\">\n                  <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                  <span className=\"sr-only\">Previous</span>\n                </a>\n                <a className=\"carousel-control-next\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"next\">\n                  <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                  <span className=\"sr-only\">Next</span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import Home from './pages/Home';\nimport Auth from './pages/Auth';\nimport ToolsList from './pages/ToolsList';\nimport CreateNewTool from './pages/CreateNewTool';\nimport PageNotFound from './pages/PageNotFound';\nimport SignedIn from './pages/SignedIn';\nimport SignOut from './pages/SignOut';\nimport Statistics from './pages/Statistics';\n\nexport default [\n  {\n    path: '/',\n    component: Home,\n    exact: true\n  },\n  {\n    path: '/auth',\n    component: Auth,\n    exact: true\n  },\n  {\n    path: '/tools_list',\n    component: ToolsList,\n    exact: true\n  },\n  {\n    path: '/check_out_tool',\n    component: CreateNewTool,\n    exact: true\n  },\n  {\n    path: '/signed_in',\n    component: SignedIn,\n    exact: true\n  },\n  {\n    path: '/sign_out',\n    component: SignOut,\n    exact: true\n  },\n  {\n    path: '/stats',\n    component: Statistics,\n    exact: true\n  },\n  {\n    component: PageNotFound,\n    exact: true\n  },\n]","import React, { Component } from 'react';\nimport StatisticsModal from '../components/StatisticsModal';\nimport AppState from '../state/AppState';\nimport Cache from '../storage/Cache';\n\nexport default class Statistics extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sortStatistics = this.sortStatistics.bind(this);\n    // this.setStatisticsModalTeamNum = this.setStatisticsModalTeamNum.bind(this);\n\n    AppState.getInstance().setShowSettingsPane(true);\n    AppState.getInstance().setShowOtherSettings(false);\n\n    this.state = { modalTeamNumber: null };\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n  }\n\n  // setStatisticsModalTeamNum(evt) {\n  //   this.setState({ modalTeamNumber: evt.currentTarget.dataset.teamnumber });\n  // }\n\n  showStatisticsModal(evt) {\n    var script = document.createElement(\"script\");\n    var scriptBody = document.createTextNode(`\n        showStatisticsModal(\"${AppState.getInstance().getEvent()}\", \"${evt.currentTarget.dataset.teamnumber}\");\n    `);\n    script.appendChild(scriptBody);\n    console.log(script);\n    document.getElementsByTagName('body')[0].appendChild(script);\n  }\n\n  // from w3 schools\n  sortStatistics(evt) {\n    if (document.readyState !== \"complete\") {\n      return;\n    }\n\n    var n = evt.currentTarget.dataset.sortindex;\n\n    var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;\n    table = document.getElementById(\"statistics\").getElementsByTagName(\"table\")[0];\n    if (table === null) {\n      return;\n    }\n\n    switching = true;\n    dir = \"asc\";\n    while (switching) {\n      switching = false;\n      rows = table.rows;\n      for (i = 1; i < (rows.length - 1); i++) {\n        shouldSwitch = false;\n        x = rows[i].getElementsByTagName(\"td\")[n];\n        y = rows[i + 1].getElementsByTagName(\"td\")[n];\n        if (dir === \"asc\") {\n          if (parseFloat(x.innerHTML) > parseFloat(y.innerHTML)) {\n            shouldSwitch = true;\n            break;\n          }\n        } else if (dir === \"desc\") {\n          if (parseFloat(x.innerHTML) < parseFloat(y.innerHTML)) {\n            shouldSwitch = true;\n            break;\n          }\n        }\n      }\n\n      if (shouldSwitch) {\n        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n        switching = true;\n        switchcount++;\n      } else {\n        if (switchcount === 0 && dir === \"asc\") {\n          dir = \"desc\";\n          switching = true;\n        }\n      }\n    }\n  }\n\n  render() {\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    var body;\n    if (!event) {\n      body = <h1 style={{ textAlign: \"center\" }}>No Event Selected</h1>;\n    } else if (cache.events[event] == null || cache.events[event].rankings == null\n      || cache.events[event].rankings.rankings == null || cache.events[event].rankings.rankings.length === 0) {\n      body = <h1 style={{ textAlign: \"center\" }}>No Statistics</h1>;\n    } else {\n      var data = cache.events[event].rankings.rankings;\n\n      var rows = [];\n      for (var ranking in data) {\n        var extra_stat = cache.events[event].rankings.extra_stats_info[0] ?\n          <td>{data[ranking].extra_stats[0] ?\n            (data[ranking].extra_stats[0] === parseInt(data[ranking].extra_stats[0]) ? data[ranking].extra_stats[0] : data[ranking].extra_stats[0].toFixed(3)) :\n            \"N/A\"}</td> :\n          <React.Fragment></React.Fragment>;\n        var stats = [];\n        for (var stat in cache.events[event].rankings.sort_order_info) {\n          if (data[ranking].sort_orders[stat] === parseInt(data[ranking].sort_orders[stat])) {\n            stats.push(<td key={stat}>{data[ranking].sort_orders[stat]}</td>);\n          } else {\n            stats.push(<td key={stat}>{data[ranking].sort_orders[stat].toFixed(3)}</td>);\n          }\n        }\n\n        var team_key_valid = data[ranking].team_key.substring(3) === parseInt(data[ranking].team_key.substring(3)).toString();\n        rows.push(\n          <tr key={ranking}>\n            <td>{data[ranking].rank}</td>\n            <td>{data[ranking].team_key.substring(3)}</td>\n            {stats}\n            <td>{data[ranking].record != null ? data[ranking].record.wins + \"-\" + data[ranking].record.losses + \"-\" + data[ranking].record.ties : \"N/A\"}</td>\n            <td>{data[ranking].dq}</td>\n            <td>{data[ranking].matches_played}</td>\n            {extra_stat}\n            <td>\n              <button className={\"btn \" + (team_key_valid ? \"btn-primary\" : \"btn-secondary\")} disabled={!team_key_valid} onClick={this.showStatisticsModal} data-teamnumber={team_key_valid ? data[ranking].team_key : null}>\n                {team_key_valid ? \"View Team Info\" : \"Invalid Team #\"}\n              </button>\n            </td>\n          </tr>);\n      }\n\n      var stat_infos = [];\n      var stat_sort_index = 2;\n      for (var stat_info in cache.events[event].rankings.sort_order_info) {\n        stat_infos.push(<th onClick={this.sortStatistics} data-sortindex={stat_sort_index} key={stat_info}>{cache.events[event].rankings.sort_order_info[stat_info].name} <i className=\"fas fa-sort\"></i></th>);\n        stat_sort_index++;\n      }\n\n      var extra_stats_info = cache.events[event].rankings.extra_stats_info[0] ? <th onClick={this.sortStatistics} data-sortindex={stat_sort_index + 3}>{cache.events[event].rankings.extra_stats_info[0].name} <i className=\"fas fa-sort\"></i></th> : <React.Fragment></React.Fragment>;\n\n      body = <table className=\"table table-striped table-bordered\">\n        <thead>\n          <tr>\n            <th onClick={this.sortStatistics} data-sortindex={0}>Rank <i className=\"fas fa-sort\"></i></th>\n            <th onClick={this.sortStatistics} data-sortindex={1}>Team <i className=\"fas fa-sort\"></i></th>\n            {stat_infos}\n            <th>Record (W-L-T)</th>\n            <th onClick={this.sortStatistics} data-sortindex={stat_sort_index + 1}>DQ <i className=\"fas fa-sort\"></i></th>\n            <th onClick={this.sortStatistics} data-sortindex={stat_sort_index + 2}>Played <i className=\"fas fa-sort\"></i></th>\n            {extra_stats_info}\n            <th>View Team Info</th>\n          </tr>\n        </thead>\n        <tbody>{rows}</tbody>\n      </table>\n    }\n\n    return (\n      <div>\n        <div className=\"statistics\" id=\"statistics\">\n          {body}\n        </div>\n        <StatisticsModal />\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport routes from '../routes.js'\n\nexport default class Main extends Component {\n  render() {\n    var routesJSX = [];\n    routesJSX = routes.map(({ path, component, exact }, i) =>\n      <Route key={i} exact={exact} path={path} component={component} />\n    );\n\n    return (\n      <main role=\"main\">\n        <HashRouter basename={process.env.PUBLIC_URL} hashType={\"slash\"}>\n          <Switch>\n            {routesJSX}\n          </Switch>\n        </HashRouter>\n        <div className=\"alert-div\" style={{ display: \"none\" }}><div className=\"btn btn-lg alert\"></div></div>\n      </main>\n    );\n  }\n}","import React, { Component } from 'react';\n\nexport default class Footer extends Component {\n  render() {\n    return (\n        <div className=\"footer\">\n          <p>Copyright (c) 2018-{(new Date()).getFullYear()} <a target=\"_blank\" href=\"https://sumigovindaraju.github.io/\" rel=\"noopener noreferrer\">SumiGovindaraju</a>. Powered by <a target=\"_blank\" href=\"https://reactjs.org/\" rel=\"noopener noreferrer\">React</a>, <a target=\"_blank\" href=\"https://www.thebluealliance.com/\" rel=\"noopener noreferrer\">The Blue Alliance</a>, <a target=\"_blank\" href=\"https://firebase.google.com/\" rel=\"noopener noreferrer\">Firebase</a>, and <a target=\"_blank\" href=\"https://pages.github.com/\" rel=\"noopener noreferrer\">GitHub Pages</a>.</p>\n        </div>\n    );\n  }\n}","import Cache from \"./Cache\";\nimport AppState from \"../state/AppState\";\n\nconst TBA_BASE_URL = \"https://www.thebluealliance.com/api/v3\";\nconst X_TBA_Auth_Key = \"83kBcUgRuDvJ1XLVXpB2ROeuRAzHoWpX9IRiWkRuwv8B9CryAlc3izY3ZXVOD4Hm\";\n\nvar FETCH_CONFIG = {\n    method: \"GET\",\n    headers: {\n        \"X-TBA-Auth-Key\": X_TBA_Auth_Key\n    },\n};\n\nasync function verifyTeamInEvent(team, event) {\n    if (!event || AppState.getInstance().getTeamEventVerified() !== undefined) {\n        return;\n    }\n\n    if (team && !team.startsWith(\"frc\")) {\n        alert(\"Invalid team\", true);\n        return;\n    }\n\n    // handle cases where we are offline\n    var cache = Cache.getInstance().get();\n    if (cache.events != null && cache.events[event] != null) {\n        if ((team && cache.events[event].teams[team] == null) && !navigator.onLine) { // if offline and no team data at this event is available\n            alert(\"Team data not cached. FRC Pit is offline.\", true);\n            return;\n        } else if ((team && cache.events[event].teams[team] != null) && !navigator.onLine) { // if offline and team data at this event is available\n            AppState.getInstance().setTeamEventVerified(true);\n            console.log(cache.events)\n            alert(\"FRC Pit is offline. Using cached data.\", false)\n            return;\n        }\n    } else if (!navigator.onLine) { // if offline and no cached data for this event is available\n        alert(\"Event data not cached. FRC Pit is offline.\", true);\n        return;\n    }\n\n    var promises = [];\n    var ret_val;\n    promises.push(fetch(TBA_BASE_URL + (team ? \"/team/\" + team : \"\") + \"/events/\" + event.substring(0, 4), FETCH_CONFIG)\n        .then(res => res.json())\n        .then((result) => {\n            for (var i in result) {\n                if (result[i].key === event) {\n                    ret_val = true;\n                    return;\n                }\n            }\n\n            alert(team ? \"Team is not in event\" : \"Event does not exist\", true);\n            ret_val = false;\n        }).catch((error) => {\n            if (error.message !== \"TypeError: Failed To Fetch\") {\n                alert(\"FRC Pit is Offline\")\n            } else {\n                alert(team ? \"Team is not in event\" : \"Event does not exist\", true);\n            }\n            ret_val = false;\n        }));\n\n    await Promise.all(promises);\n\n    AppState.getInstance().setTeamEventVerified(ret_val);\n}\n\nexport async function pullFromTBA() {\n    var promises = [];\n    var cache_instance = Cache.getInstance();\n    var cache = cache_instance.get();\n\n    // list of events\n    promises.push(fetch(TBA_BASE_URL + \"/events/\" + (new Date()).getFullYear() + \"/simple\", FETCH_CONFIG)\n        .then(res => res.json())\n        .then((result) => {\n            cache.events.list = [];\n\n            for (var i in result) {\n                var end_of_event_date = new Date();\n                end_of_event_date.setFullYear(result[i].end_date.substring(0, 4));\n                end_of_event_date.setMonth(parseInt(result[i].end_date.substring(5, 7)) - 1);\n                end_of_event_date.setDate(result[i].end_date.substring(8, 10));\n\n                if (new Date() <= end_of_event_date) {\n                    cache.events.list.push(result[i]);\n                }\n            }\n\n            cache_instance.set(cache);\n            cache_instance.sendEventListChangedEvent();\n        }).catch((error) => {\n            console.error(error);\n        }));\n\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var showWebcasts = AppState.getInstance().getShowWebcasts();\n\n    await verifyTeamInEvent(team, event);\n    if (!event || !AppState.getInstance().getTeamEventVerified()) {\n        await Promise.all(promises);\n        return;\n    }\n\n    if (cache.events[event] === undefined) {\n        cache.events[event] = { \"teams\": {}, \"awards\": {}, \"rankings\": {}, \"matches\": {}, \"webcasts\": {}, \"statistics\": {}, \"last_updated\": (new Date()).toUTCString() };\n    }\n\n    if (team) {\n        if (cache.events[event].teams[team] === undefined) {\n            cache.events[event].teams[team] = { \"awards\": {}, \"matches\": {}, \"photos\": [], \"name\": \"\", \"rookie_year\": 0, \"status\": \"\", \"location\": \"\" };\n        }\n        // awards (team specific)\n        promises.push(fetch(TBA_BASE_URL + \"/team/\" + team + \"/event/\" + event + \"/awards\", FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                cache.events[event].teams[team].awards = result;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n            }).catch((error) => {\n                console.error(error);\n            }));\n\n        // matches (countdown and schedule) (team specific)\n        promises.push(fetch(TBA_BASE_URL + \"/team/\" + team + \"/event/\" + event + \"/matches\", FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                cache.events[event].teams[team].matches = result;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n            }).catch((error) => {\n                console.error(error);\n            }));\n    } else {\n        // awards (event)\n        promises.push(fetch(TBA_BASE_URL + \"/event/\" + event + \"/awards\", FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                cache.events[event].awards = result;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n            }, (error) => {\n                console.error(error);\n            }));\n\n        // matches (countdown and schedule) (event)\n        promises.push(fetch(TBA_BASE_URL + \"/event/\" + event + \"/matches\", FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                console.log(\"Matches for \" + event + \": \");\n                console.log(JSON.stringify(result));\n                cache.events[event].matches = result;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n            }).catch((error) => {\n                console.error(error);\n            }));\n    }\n\n    // rankings\n    promises.push(fetch(TBA_BASE_URL + \"/event/\" + event + \"/rankings\", FETCH_CONFIG)\n        .then(res => res.json())\n        .then((result) => {\n            cache.events[event].rankings = result;\n            cache.events[event].last_updated = (new Date()).toUTCString();\n            cache_instance.set(cache);\n        }).catch((error) => {\n            console.error(error);\n        }));\n\n    // webcasts\n    if (showWebcasts) {\n        promises.push(fetch(TBA_BASE_URL + \"/event/\" + event, FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                if (result == null || result.webcasts == null) {\n                    throw new Error(\"Webcast API call returns null\");\n                }\n\n                cache.events[event].webcasts = result.webcasts;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n                cache_instance.sendUpdatedWebcastsEvent();\n            }).catch((error) => {\n                console.error(error);\n            }));\n    }\n\n    await Promise.all(promises);\n}\n\nexport default { pullFromTBA }","import React, { Component } from 'react';\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport Footer from './components/Footer';\nimport api from './storage/api';\n\nclass App extends Component {\n  componentDidMount() {\n    api.pullFromTBA();\n\n    setInterval(function () {\n      api.pullFromTBA();\n    }, 120000);\n\n    var isOnline = navigator.onLine;\n    setInterval(function () {\n      if (navigator.onLine && !isOnline) {\n        alert(\"FRC Pit is online. Refreshing cached data now\", false);\n        api.pullFromTBA();\n      }\n\n      isOnline = navigator.onLine;\n    }, 100);\n  }\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <Main />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import firebase from 'firebase/app';\n\nexport default function initFirebase() {\n    if (!firebase.apps.length) {\n        firebase.initializeApp({\n            apiKey: 'AIzaSyBbB47QbfJXsEViiCqwYUjWQLw0KNpROCc',\n            authDomain: 'frc-pit-5cb1f.firebaseapp.com',\n            databaseURL: \"https://frc-pit-5cb1f.firebaseio.com\",\n            projectId: \"frc-pit-5cb1f\"\n        });\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/bootstrap.min.css';\nimport './css/fontawesome-all.min.css';\nimport './css/style.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport initFirebase from './util/initFirebase';\n\ninitFirebase();\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();"],"sourceRoot":""}