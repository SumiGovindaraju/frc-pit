(this["webpackJsonpfrc-pit"]=this["webpackJsonpfrc-pit"]||[]).push([[0],{162:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(73),l=a.n(s),c=(a(81),a(82),a(83),a(1)),i=a(2),o=a(5),u=a(4),m=a(6),d=a(7),h=a(8),g=a.n(h),v=(a(25),a(44)),b=function(){function e(){Object(c.a)(this,e),this.team=!1,this.event=!1,this.showWebcasts=!0,this.teamEventVerified=void 0,this.showSettingsPane=!1,this.showOtherSettings=!1,this.eventEmitter=new v.EventEmitter,this.populateStateFromURLVars()}return Object(i.a)(e,[{key:"getTeam",value:function(){return this.team}},{key:"getEvent",value:function(){return this.event}},{key:"getShowWebcasts",value:function(){return this.showWebcasts}},{key:"getTeamEventVerified",value:function(){return this.teamEventVerified}},{key:"getShowSettingsPane",value:function(){return this.showSettingsPane}},{key:"getShowOtherSettings",value:function(){return this.showOtherSettings}},{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"setTeam",value:function(e){this.team=e,this.eventEmitter.emit("appStateChanged")}},{key:"setEvent",value:function(e){this.event=e,this.eventEmitter.emit("appStateChanged")}},{key:"setShowWebcasts",value:function(e){this.showWebcasts=e,this.eventEmitter.emit("appStateChanged")}},{key:"setTeamEventVerified",value:function(e){this.teamEventVerified=e,this.eventEmitter.emit("appStateChanged")}},{key:"setShowSettingsPane",value:function(e){this.showSettingsPane=e,this.eventEmitter.emit("appStateChanged")}},{key:"setShowOtherSettings",value:function(e){this.showOtherSettings=e,this.eventEmitter.emit("appStateChanged")}},{key:"getUrlVars",value:function(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,a,n){e[a]=n})),e}},{key:"populateStateFromURLVars",value:function(){this.setTeam(void 0!==this.getUrlVars().team&&this.getUrlVars().team),this.setEvent(void 0!==this.getUrlVars().event&&this.getUrlVars().event),this.setShowWebcasts(void 0===this.getUrlVars().showWebcasts||JSON.parse(this.getUrlVars().showWebcasts))}}],[{key:"getInstance",value:function(){return void 0===this.instance&&(this.instance=new e),this.instance}}]),e}(),f=a(147),p=function(){function e(){Object(c.a)(this,e);var t=localStorage.getItem("The Blue Alliance API Cache");this.data=null===t?{events:{list:[]}}:JSON.parse(t),this.eventEmitter=new v.EventEmitter,this.reduceSize(),this.sendDataChangedEvent()}return Object(i.a)(e,[{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"writeToLocalStorage",value:function(){localStorage.setItem("The Blue Alliance API Cache",JSON.stringify(this.data))}},{key:"get",value:function(){return this.data}},{key:"set",value:function(e){this.data=e,this.writeToLocalStorage(),this.sendDataChangedEvent()}},{key:"size",value:function(){return f(this.data)}},{key:"deleteLastUpdatedEvent",value:function(){var e=null,t=new Date;for(var a in this.data.events)new Date(this.data.events[a].last_updated)<t&&(e=a,t=new Date(this.data.events[a].last_updated));null!==e&&delete this.data.events[e]}},{key:"reduceSize",value:function(){for(;this.size()>35e5;)this.deleteLastUpdatedEvent()}},{key:"sendDataChangedEvent",value:function(){this.eventEmitter.emit("dataChanged")}},{key:"sendUpdatedWebcastsEvent",value:function(){this.eventEmitter.emit("webcastsUpdated")}},{key:"sendEventListChangedEvent",value:function(){this.eventEmitter.emit("eventListChanged")}}],[{key:"getInstance",value:function(){return void 0===this.instance&&(this.instance=new e),this.instance}}]),e}(),E=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e)),g.a.auth().onAuthStateChanged((function(e){if(e&&e.displayName){var t=document.createElement("li");t.classList.add("nav-item");var a=document.createElement("a");a.classList.add("nav-link"),a.classList.add("sign-out"),a.innerHTML="Sign out "+e.displayName,a.href="/frc-pit/#/sign_out",t.appendChild(a),document.getElementsByClassName("sign-out-ul")[0].appendChild(t)}}));var n=Object(d.a)(a);b.getInstance().getEventEmitter().on("appStateChanged",(function(){n.forceUpdate()}));var r=!1;return p.getInstance().getEventEmitter().on("eventListChanged",(function(){r||(n.forceUpdate(),r=!0)})),a.setTeamNumberAndEvent=a.setTeamNumberAndEvent.bind(Object(d.a)(a)),a.toggleWebcast=a.toggleWebcast.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setTeamNumberAndEvent",value:function(){var e=document.getElementsByClassName("settings-event")[0].value;if(e){var t=""!==document.getElementsByClassName("settings-team")[0].value&&"frc"+document.getElementsByClassName("settings-team")[0].value,a=b.getInstance().getShowWebcasts();window.location.href=window.location.href.split("?")[0]+"?event="+e+(t?"&team="+t:"")+"&showWebcasts="+a,window.location.reload()}else alert("Event field is required",!0)}},{key:"toggleWebcast",value:function(){var e=b.getInstance().getEvent(),t=b.getInstance().getTeam(),a=b.getInstance().getShowWebcasts();window.location.href=window.location.href.split("?")[0]+"?event="+e+(t?"&team="+t:"")+"&showWebcasts="+!a,window.location.reload()}},{key:"render",value:function(){var e=b.getInstance().getShowSettingsPane(),t=b.getInstance().getShowOtherSettings(),a=b.getInstance().getEvent(),n=b.getInstance().getTeam(),s=p.getInstance().get(),l=[];if(void 0!==s.events||void 0!==s.events.list||0!==s.events.list.length){var c=s.events.list;for(var i in c)l.push(r.a.createElement("option",{key:c[i].key,value:c[i].key},c[i].name," (",c[i].key,")"))}return 0===l.length&&l.push(r.a.createElement("option",{disabled:!0},"No Upcoming Events")),r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"/frc-pit"},"FRC Pit"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/frc-pit"},r.a.createElement("i",{className:"fa fa-home","aria-hidden":"true"})," Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/frc-pit/#/tools_list"},r.a.createElement("i",{className:"fa fa-wrench","aria-hidden":"true"})," Tools List")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/frc-pit/#/check_out_tool"},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})," Check Out Tool")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/frc-pit/#/stats"},r.a.createElement("i",{className:"fa fa-chart-area","aria-hidden":"true"})," Stats"))),r.a.createElement("form",{className:"form-inline settings"},r.a.createElement("select",{className:"form-control mr-sm-2 settings-event",style:{display:e?"block":"none"},defaultValue:a||""},l),r.a.createElement("input",{className:"form-control mr-sm-2 settings-team",placeholder:"Team Number",type:"number",style:{display:t?"block":"none"},defaultValue:t&&n?parseInt(n.substring(3)):""}),r.a.createElement("input",{type:"button",className:"btn btn-success set-team-number-and-event-btn my-2 my-sm-0",value:"\u2713",onClick:this.setTeamNumberAndEvent,style:{display:e?"block":"none"}}),r.a.createElement("input",{type:"button",className:"btn btn-secondary disable-webcast-button my-2 my-sm-0",value:"Toggle Webcasts",style:{display:t?"block":"none",marginLeft:"5px"},onClick:this.toggleWebcast})),r.a.createElement("ul",{className:"navbar-nav ml-auto sign-out-ul"}))))}}]),t}(n.Component),k=a(167),y=a(165),w=a(166);var N={getMatchTimeInMS:function(e){return void 0!==e.actual_time&&null!==e.actual_time?1e3*e.actual_time:void 0!==e.predicted_time&&null!==e.predicted_time?1e3*e.predicted_time:1e3*e.time},days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},S={2016:[{index:"teleopDefensesBreached",name:"Defenses Breached"},{index:"teleopTowerCaptured",name:"Tower Captured"}],2017:[{index:"kPaRankingPointAchieved",name:"Pressure Reached"},{index:"rotorRankingPointAchieved",name:"All Rotors Engaged"}],2018:[{index:"autoQuestRankingPoint",name:"Auto Quest"},{index:"faceTheBossRankingPoint",name:"Face the Boss"}],2019:[{index:"completeRocketRankingPoint",name:"Complete Rocket"},{index:"habDockingRankingPoint",name:"HAB Docking"}]},_=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,null,[{key:"getBonusRankingPoint1",value:function(e){return null!=S[e]?S[e][0]:-1}},{key:"getBonusRankingPoint2",value:function(e){return null!=S[e]?S[e][1]:-1}}]),e}(),O=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=Object(d.a)(a);return p.getInstance().getEventEmitter().on("dataChanged",(function(){n.forceUpdate()})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.sortSchedule()}},{key:"componentDidUpdate",value:function(){this.sortSchedule()}},{key:"render",value:function(){var e,t=b.getInstance().getTeam(),a=b.getInstance().getEvent(),n=p.getInstance().get(),s=_.getBonusRankingPoint1(a.substring(0,4)).index,l=_.getBonusRankingPoint1(a.substring(0,4)).name,c=_.getBonusRankingPoint2(a.substring(0,4)).index,i=_.getBonusRankingPoint2(a.substring(0,4)).name;if(null==n.events[a]||null==n.events[a].matches||0===n.events[a].matches.length||t&&(null==n.events[a].teams[t]||null==n.events[a].teams[t].matches||0===n.events[a].teams[t].matches.length))e=r.a.createElement("h1",null,"No Schedule");else{var o=t?n.events[a].teams[t].matches:n.events[a].matches,u=[];for(var m in o)if(!t||o[m].alliances.red.team_keys.includes(t.toString())||o[m].alliances.blue.team_keys.includes(t.toString())){var d;if(o[m].alliances.red.score>=0&&o[m].alliances.blue.score>=0){var h=null!=o[m].score_breakdown;d=r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"red-score ".concat("red"===o[m].winning_alliance?"winner":""," ").concat(o[m].alliances.red.team_keys.includes(t)?"current-team":""),"data-toggle":"tooltip","data-placement":"top",title:"".concat(h&&o[m].score_breakdown.red[s]?l:"").concat(h&&o[m].score_breakdown.red[s]&&o[m].score_breakdown.red[c]?" & ":"").concat(h&&o[m].score_breakdown.red[c]?i:"")},o[m].alliances.red.score),r.a.createElement("td",{className:"blue-score ".concat("blue"===o[m].winning_alliance?"winner":""," ").concat(o[m].alliances.blue.team_keys.includes(t)?"current-team":""),"data-toggle":"tooltip","data-placement":"top",title:"".concat(h&&o[m].score_breakdown.blue[s]?l:"").concat(h&&o[m].score_breakdown.blue[s]&&o[m].score_breakdown.blue[c]?" & ":"").concat(h&&o[m].score_breakdown.blue[c]?i:"")},o[m].alliances.blue.score))}else{var g=new Date(N.getMatchTimeInMS(o[m]));d=r.a.createElement("td",{colSpan:"2"},r.a.createElement("time",{dateTime:g.toISOString()},N.days[g.getDay()],", ",g.toLocaleTimeString().replace(/:\d{2}\s/," ")))}u.push(r.a.createElement("tr",{key:m},r.a.createElement("td",null,"qm"===o[m].comp_level?"Quals "+o[m].match_number:"qf"===o[m].comp_level?"Quarters "+o[m].set_number+" Match "+o[m].match_number:"sf"===o[m].comp_level?"Semis "+o[m].set_number+" Match "+o[m].match_number:"Finals "+o[m].match_number),r.a.createElement("td",{className:"red ".concat(o[m].alliances.red.team_keys[0]===t?"current-team":""," ").concat(o[m].alliances.red.dq_team_keys.includes(o[m].alliances.red.team_keys[0])?"strike":"")},o[m].alliances.red.team_keys[0].substring(3)),r.a.createElement("td",{className:"red ".concat(o[m].alliances.red.team_keys[1]===t?"current-team":""," ").concat(o[m].alliances.red.dq_team_keys.includes(o[m].alliances.red.team_keys[1])?"strike":"")},o[m].alliances.red.team_keys[1].substring(3)),r.a.createElement("td",{className:"red ".concat(o[m].alliances.red.team_keys[2]===t?"current-team":""," ").concat(o[m].alliances.red.dq_team_keys.includes(o[m].alliances.red.team_keys[2])?"strike":"")},o[m].alliances.red.team_keys[2].substring(3)),r.a.createElement("td",{className:"blue ".concat(o[m].alliances.blue.team_keys[0]===t?"current-team":""," ").concat(o[m].alliances.blue.dq_team_keys.includes(o[m].alliances.blue.team_keys[0])?"strike":"")},o[m].alliances.blue.team_keys[0].substring(3)),r.a.createElement("td",{className:"blue ".concat(o[m].alliances.blue.team_keys[1]===t?"current-team":""," ").concat(o[m].alliances.blue.dq_team_keys.includes(o[m].alliances.blue.team_keys[1])?"strike":"")},o[m].alliances.blue.team_keys[1].substring(3)),r.a.createElement("td",{className:"blue ".concat(o[m].alliances.blue.team_keys[2]===t?"current-team":""," ").concat(o[m].alliances.blue.dq_team_keys.includes(o[m].alliances.blue.team_keys[2])?"strike":"")},o[m].alliances.blue.team_keys[2].substring(3)),d))}e=r.a.createElement("table",{className:"table table-bordered",id:"schedule-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Match"),r.a.createElement("th",{colSpan:"3"},"Red Alliance"),r.a.createElement("th",{colSpan:"3"},"Blue Alliance"),r.a.createElement("th",{colSpan:"2"},"Scores"))),r.a.createElement("tbody",null,u))}return r.a.createElement("div",{className:"tab-pane fade show active schedule",id:"schedule",role:"tabpanel"},e)}},{key:"sortSchedule",value:function(){var e,t,a,n,r,s,l;if(null!==(e=document.getElementById("schedule-table")))for(a=!0;a;){for(a=!1,t=e.getElementsByTagName("tr"),n=1;n<t.length-1;n++)if(l=!1,r=t[n].getElementsByTagName("td")[0],s=t[n+1].getElementsByTagName("td")[0],1===this.sortScheduleCompare(r.innerHTML,s.innerHTML)){l=!0;break}l&&(t[n].parentNode.insertBefore(t[n+1],t[n]),a=!0)}}},{key:"sortScheduleCompare",value:function(e,t){var a,n,r,s;return e.startsWith("Quals")?a=0:e.startsWith("Quarters")?a=1:e.startsWith("Semis")?a=2:e.startsWith("Finals")&&(a=3),t.startsWith("Quals ")?n=0:t.startsWith("Quarters ")?n=1:t.startsWith("Semis ")?n=2:t.startsWith("Finals")&&(n=3),a!==n?a>n?1:-1:0===a&&0===n?(r=parseInt(e.substring(6)))>(s=parseInt(t.substring(6)))?1:r<s?-1:0:1===a&&1===n?(r=parseInt(e.substring(17)))>(s=parseInt(t.substring(17)))?1:r<s?-1:0:2===a&&2===n?(r=parseInt(e.substring(14)))>(s=parseInt(t.substring(14)))?1:r<s?-1:0:e>t?1:e<t?-1:0}}]),t}(n.Component),j=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=Object(d.a)(a);return p.getInstance().getEventEmitter().on("dataChanged",(function(){n.forceUpdate()})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=b.getInstance().getTeam(),a=b.getInstance().getEvent(),n=p.getInstance().get();if(null==n.events[a]||null==n.events[a].rankings||null==n.events[a].rankings.rankings||0===n.events[a].rankings.rankings.length)e=r.a.createElement("h1",null,"No Rankings");else{var s=n.events[a].rankings.rankings,l=[];for(var c in s){var i=null!=s[c].record;l.push(r.a.createElement("tr",{key:c},r.a.createElement("td",{className:s[c].team_key===t?"current-team":""},s[c].rank),r.a.createElement("td",{className:s[c].team_key===t?"current-team":""},s[c].team_key.substring(3)),r.a.createElement("td",{className:s[c].team_key===t?"current-team":""},s[c].sort_orders[0].toFixed(3)),r.a.createElement("td",{className:s[c].team_key===t?"current-team":""},i?"".concat(s[c].record.wins,"-").concat(s[c].record.losses,"-").concat(s[c].record.ties):"N/A"),r.a.createElement("td",{className:s[c].team_key===t?"current-team":""},s[c].matches_played),r.a.createElement("td",{className:s[c].team_key===t?"current-team":""},s[c].extra_stats[0])))}e=r.a.createElement("table",{className:"table table-striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Rank"),r.a.createElement("th",null,"Team"),r.a.createElement("th",null,"Ranking Score"),r.a.createElement("th",null,"Record (W-L-T)"),r.a.createElement("th",null,"Played"),r.a.createElement("th",null,"Total RP"))),r.a.createElement("tbody",null,l))}return r.a.createElement("div",{className:"tab-pane fade rankings",id:"rankings",role:"tabpanel"},e)}}]),t}(n.Component),I=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"schedule-rankings"},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active","data-toggle":"tab",href:"#schedule",role:"tab"},"Schedule")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#rankings",role:"tab"},"Rankings"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement(O,null),r.a.createElement(j,null)))}}]),t}(n.Component),T=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=Object(d.a)(a),r=!1;return p.getInstance().getEventEmitter().on("webcastsUpdated",(function(){r||(n.forceUpdate(),r=!0)})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){null!==document.querySelector(".webcasts ul li")&&(document.querySelector(".webcasts ul li").firstChild.classList.add("active"),document.querySelector(".webcasts .tab-content .tab-pane").classList.add("show","active"),document.querySelectorAll(".webcasts .tab-content .tab-pane iframe").forEach((function(e){return e.width=document.getElementsByClassName("webcasts")[0].clientWidth})),document.querySelectorAll(".webcasts .tab-content .tab-pane iframe").forEach((function(e){return e.height=document.getElementsByClassName("webcasts")[0].clientHeight-80})))}},{key:"render",value:function(){var e,t=b.getInstance().getEvent(),a=b.getInstance().getShowWebcasts(),n=p.getInstance().get();if(a)if(navigator.onLine)if(null==n.events[t]||null==n.events[t].webcasts||0===n.events[t].webcasts.length)e=r.a.createElement("h1",null,"No Webcasts");else{var s=n.events[t].webcasts,l=[],c=[];for(var i in s)"twitch"!==s[i].type&&"youtube"!==s[i].type||(l.push(r.a.createElement("li",{className:"nav-item",key:i},r.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#webcast-"+(parseInt(i)+1),role:"tab"},"Webcast ",parseInt(i)+1))),c.push(r.a.createElement("div",{className:"tab-pane fade",id:"webcast-"+(parseInt(i)+1),role:"tabpanel",key:i},r.a.createElement("iframe",{title:i,src:("twitch"===s[i].type?"//player.twitch.tv/?channel=":"//www.youtube.com/embed/")+s[i].channel,frameBorder:"none",scrolling:"none",allowFullScreen:!0}))));e=r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},l),r.a.createElement("div",{className:"tab-content"},c))}else e=r.a.createElement("h1",null,"Offline: Cannot Access Webcasts");else e=r.a.createElement("h1",null,"Webcasts Disabled");return r.a.createElement("div",{className:"webcasts"},e)}}]),t}(n.Component),C=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=Object(d.a)(a);return p.getInstance().getEventEmitter().on("dataChanged",(function(){n.forceUpdate()})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=b.getInstance().getTeam(),a=b.getInstance().getEvent(),n=p.getInstance().get();if(null==n.events[a]||null==n.events[a].awards||0===n.events[a].awards.length||t&&(null==n.events[a].teams[t]||null==n.events[a].teams[t].awards||0===n.events[a].teams[t].awards.length))e=r.a.createElement("h1",null,"No Awards");else{var s=t?n.events[a].teams[t].awards:n.events[a].awards,l=[];for(var c in s)t?l.push(r.a.createElement("li",{key:c},s[c].name," ",s[c].recipient_list.map((function(e){return e.team_key===t&&null!==e.awardee&&""!==e.awardee?"("+e.awardee+")":""})).join(""))):l.push(r.a.createElement("li",{key:c},s[c].name," (",s[c].recipient_list.map((function(e){return null!==e.awardee&&""!==e.awardee?e.awardee:e.team_key.substring(3)})).join(", "),")"));e=r.a.createElement("div",null,r.a.createElement("h1",null,"Awards"),r.a.createElement("ul",null,l))}return r.a.createElement("div",{className:"awards"},e)}}]),t}(n.Component),x=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=Object(d.a)(a);return p.getInstance().getEventEmitter().on("dataChanged",(function(){n.forceUpdate()})),a.state={nextMatchNameTime:null,nextMatchName:null,nextMatchBumperColor:"black"},a.updateCountdown=a.updateCountdown.bind(Object(d.a)(a)),setInterval(a.updateCountdown,1e3),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"updateCountdown",value:function(){var e=b.getInstance().getTeam(),t=b.getInstance().getEvent(),a=p.getInstance().get(),n=Number.MAX_VALUE,r=null,s=null;if(null!=a.events[t]&&null!=a.events[t].matches&&0!==a.events[t].matches.length&&(!e||null!=a.events[t].teams[e]&&null!=a.events[t].teams[e].matches&&0!==a.events[t].teams[e].matches.length)){var l=e?a.events[t].teams[e].matches:a.events[t].matches;for(var c in l)new Date<new Date(N.getMatchTimeInMS(l[c]))&&N.getMatchTimeInMS(l[c])<n&&null==l[c].score_breakdown&&(n=N.getMatchTimeInMS(l[c]),r="qm"===l[c].comp_level?"Quals "+l[c].match_number:"qf"===l[c].comp_level?"Quarters "+l[c].set_number+" Match "+l[c].match_number:"sf"===l[c].comp_level?"Semis "+l[c].set_number+" Match "+l[c].match_number:"Finals "+l[c].match_number,s=e?l[c].alliances.blue.team_keys.includes(e)?"blue":"red":null);if(n===Number.MAX_VALUE||null===r)this.setState({nextMatchNameTime:null,nextMatchName:null,nextMatchBumperColor:"black"});else{var i=new Date(n).getTime()-new Date;if(i>=864e5)this.setState({nextMatchNameTime:null,nextMatchName:null,nextMatchBumperColor:"black"});else{var o=parseInt(i/36e5%24),u=parseInt(i/6e4%60),m=parseInt(i/1e3%60);o=o<10?"0"+o:o,u=u<10?"0"+u:u,m=m<10?"0"+m:m,i>=0?this.setState({nextMatchNameTime:o+":"+u+":"+m,nextMatchName:r,nextMatchBumperColor:s}):this.setState({nextMatchNameTime:null,nextMatchName:null,nextMatchBumperColor:"black"})}}}}},{key:"render",value:function(){var e;return e=null===this.state.nextMatchNameTime||null===this.state.nextMatchName?r.a.createElement("h1",null,"No Upcoming Match"):r.a.createElement("div",null,r.a.createElement("h1",{className:"countdown-timer-tag ".concat("countdown-"+this.state.nextMatchBumperColor),style:{textAlign:"center",fontSize:"5.25em"}},this.state.nextMatchNameTime),r.a.createElement("h2",{style:{textAlign:"center"}},"Until ",this.state.nextMatchName)),r.a.createElement("div",{className:"countdown"},e)}}]),t}(n.Component),R=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=Object(d.a)(a);return b.getInstance().getEventEmitter().on("appStateChanged",(function(){n.forceUpdate()})),b.getInstance().setShowSettingsPane(!0),b.getInstance().setShowOtherSettings(!0),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,void 0!==b.getInstance().getTeamEventVerified()&&b.getInstance().getTeamEventVerified()?r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement(T,null),r.a.createElement(C,null),r.a.createElement(x,null)):r.a.createElement("h1",{className:"no-team-event-selected",style:{textAlign:"center"}},"No Event/Team selected"))}}]),t}(n.Component),U=a(74),A=a.n(U),B=(new RegExp("[?|&]redirect=([^&;]+?)(&|#|;|$)").exec(window.location.href)||[null,""])[1].replace(/\+/g,"%20"),P=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={shouldRender:!1,uiConfig:{signInFlow:"popup",signInSuccessUrl:"/frc-pit"+"/#/signed_in?redirect=".concat(B),signInOptions:[g.a.auth.GoogleAuthProvider.PROVIDER_ID,g.a.auth.GithubAuthProvider.PROVIDER_ID,g.a.auth.EmailAuthProvider.PROVIDER_ID,{provider:g.a.auth.PhoneAuthProvider.PROVIDER_ID,recaptchaParameters:{type:"image",size:"normal",badge:"bottomleft"},defaultCountry:"US"}]}};var n=Object(d.a)(a);return g.a.auth().onAuthStateChanged((function(e){e?window.location.href="/frc-pit"+"/#/signed_in?redirect=".concat(B):n.setState({shouldRender:!0})})),b.getInstance().setShowSettingsPane(!1),b.getInstance().setShowOtherSettings(!1),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.shouldRender?r.a.createElement(A.a,{uiConfig:this.state.uiConfig,firebaseAuth:g.a.auth()}):null}}]),t}(n.Component),M=(a(57),function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).returnTool=a.returnTool.bind(Object(d.a)(a)),a.state={currentUser:null};var n=Object(d.a)(a);return g.a.auth().onAuthStateChanged((function(e){e?n.setState({currentUser:e}):window.location.href="/frc-pit/#/auth?redirect="+encodeURIComponent(window.location.href)})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"returnTool",value:function(e){null!=this.state.currentUser?(document.getElementsByClassName("error-alert-div")[0].style.display="none",g.a.firestore().collection("users").doc(this.state.currentUser.uid).collection("tools").doc(e).delete()):alert("No current user",!0)}},{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.team),r.a.createElement("td",null,this.props.time),r.a.createElement("td",null,this.props.tool),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.returnTool(e.props.index)}},"Return")))}}]),t}(n.Component)),D=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e)),g.a.firestore().settings({timestampsInSnapshots:!0}),a.state={shouldRender:!1,tools:[],team_number:null};var n=Object(d.a)(a);return g.a.auth().onAuthStateChanged((function(e){e?(n.setState({currentUser:e}),g.a.firestore().collection("users").doc(n.state.currentUser.uid).collection("tools").onSnapshot((function(e){var t=[];for(var a in e.docs)t.push({key:e.docs[a].id,name:e.docs[a].get("name"),team_number:e.docs[a].get("team_number"),checkout_time:e.docs[a].get("checkout_time").toDate().toLocaleString(),description:e.docs[a].get("description")});n.setState({tools:t})}),(function(e){console.error(e)})),g.a.firestore().collection("users").doc(n.state.currentUser.uid).get().then((function(e){n.setState({team_number:e.get("team")})})),n.setState({shouldRender:!0})):window.location.href="/frc-pit/#/auth?redirect="+encodeURIComponent(window.location.href)})),b.getInstance().setShowSettingsPane(!1),b.getInstance().setShowOtherSettings(!1),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(this.state.shouldRender){var e;return e=this.state.tools.map((function(e){var t=e.key,a=e.name,n=e.team_number,s=e.checkout_time,l=e.description;return r.a.createElement(M,{key:t,index:t,name:a,team:n,time:s,tool:l})})),r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},null==this.state.team_number?"Loading...":"Tools Checked Out from Team "+this.state.team_number+":"),r.a.createElement("table",{className:"table-striped table-bordered tools-list",style:{width:"98%",maxWidth:"98%",margin:"1%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Team Number"),r.a.createElement("th",null,"Checkout Date"),r.a.createElement("th",null,"Tool"),r.a.createElement("th",null,"Return"))),r.a.createElement("tbody",null,e)))}return null}}]),t}(n.Component),W=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e)),g.a.firestore().settings({timestampsInSnapshots:!0}),a.addTool=a.addTool.bind(Object(d.a)(a)),a.state={shouldRender:!1,currentUser:null};var n=Object(d.a)(a);return g.a.auth().onAuthStateChanged((function(e){e?(n.setState({currentUser:e}),g.a.firestore().collection("users").doc(n.state.currentUser.uid).get().then((function(e){n.setState({team_number:e.get("team")})})),n.setState({shouldRender:!0})):window.location.href="/frc-pit/#/auth?redirect="+encodeURIComponent(window.location.href)})),b.getInstance().setShowSettingsPane(!1),b.getInstance().setShowOtherSettings(!1),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"addTool",value:function(){var e=document.getElementById("name").value,t=document.getElementById("tool").value,a=document.getElementById("team-number").value;""!==e&&""!==t&&""!==a?null!=this.state.currentUser?(g.a.firestore().collection("users").doc(this.state.currentUser.uid).collection("tools").add({name:e,description:t,checkout_time:new Date,team_number:parseInt(a,10)}),document.getElementById("name").value="",document.getElementById("tool").value="",document.getElementById("team-number").value="",document.getElementsByClassName("error-alert-div")[0].style.display="none"):alert("No current user",!0):alert("Error: All fields must be filled.",!0)}},{key:"render",value:function(){return this.state.shouldRender?r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},null==this.state.team_number?"Loading...":"Check Out Tool from Team "+this.state.team_number+":"),r.a.createElement("form",{className:"add-tool-container",style:{width:"98%",margin:"1%"}},r.a.createElement("p",null,"Name:"),r.a.createElement("input",{className:"form-control",id:"name",placeholder:"Name",type:"text"}),r.a.createElement("p",null,"Tool:"),r.a.createElement("input",{className:"form-control",id:"tool",placeholder:"Tool",type:"text"}),r.a.createElement("p",null,"Team Number:"),r.a.createElement("input",{className:"form-control",id:"team-number",placeholder:"Team Number",type:"number"}),r.a.createElement("div",{className:"btn btn-primary add-tool-btn",onClick:this.addTool},"Add Tool"))):null}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e)),b.getInstance().setShowSettingsPane(!1),b.getInstance().setShowOtherSettings(!1),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center",marginTop:"1%"}},"404 Page Not Found:"),r.a.createElement("h3",{style:{textAlign:"center",marginTop:"1%"}},"This Page Does Not Exist"))}}]),t}(n.Component),F=decodeURIComponent((new RegExp("[?|&]redirect=([^&;]+?)(&|#|;|$)").exec(window.location.href)||[null,""])[1].replace(/\+/g,"%20")),V=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e)),g.a.firestore().settings({timestampsInSnapshots:!0}),a.createUser=a.createUser.bind(Object(d.a)(a)),a.state={shouldRender:!1,currentUser:null};var n=Object(d.a)(a);return g.a.auth().onAuthStateChanged((function(e){e?g.a.firestore().collection("users").doc(e.uid).get().then((function(t){t.exists?window.location.href=F:(n.setState({currentUser:e}),n.setState({shouldRender:!0}))})):window.location.href="/frc-pit/#/auth?redirect="+F})),b.getInstance().setShowSettingsPane(!1),b.getInstance().setShowOtherSettings(!1),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"createUser",value:function(){var e=""!==document.getElementById("full-name").value?document.getElementById("full-name").value:this.state.currentUser.displayName,t=document.getElementById("team-number").value;""!==e&&null!==e&&""!==t?(document.getElementsByClassName("error-alert-div")[0].style.display="none",null!=this.state.currentUser&&(g.a.firestore().collection("users").doc(this.state.currentUser.uid).set({name:e,team:t}),this.state.currentUser.updateProfile({displayName:e}).then((function(){window.location.href=F})).catch((function(e){console.error(e)})))):alert("Error: All fields must be filled.",!0)}},{key:"render",value:function(){return this.state.shouldRender?r.a.createElement("div",null,r.a.createElement("form",{className:"add-tool-container",style:{width:"98%",margin:"1%"}},r.a.createElement("p",null,"Full Name:"),r.a.createElement("input",{className:"form-control",id:"full-name",placeholder:null==this.state.currentUser.displayName?"Full name":this.state.currentUser.displayName,type:"text"}),r.a.createElement("p",null,"Team Number:"),r.a.createElement("input",{className:"form-control",id:"team-number",placeholder:"Team Number",type:"number"}),r.a.createElement("div",{className:"btn btn-primary add-tool-btn",onClick:this.createUser},"Create User"))):null}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e)),g.a.auth().signOut().then((function(){window.location.href="/frc-pit"}),(function(e){console.error(e)})),b.getInstance().setShowSettingsPane(!1),b.getInstance().setShowOtherSettings(!1),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",{className:"sign-out-header",style:{textAlign:"center"}},"Signing you out now.")}}]),t}(n.Component),Q=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal fade",id:"statistics-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"statistics-modal-label","aria-hidden":!1},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"\xa0"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,r.a.createElement("b",null,"Rookie Year:")," ",r.a.createElement("span",{className:"modal-rookie-year"})),r.a.createElement("p",null,r.a.createElement("b",null,"Location:")," ",r.a.createElement("span",{className:"modal-location"})),r.a.createElement("p",null,r.a.createElement("b",null,"Event Record:")," ",r.a.createElement("span",{className:"modal-event-status"})),r.a.createElement("p",null,r.a.createElement("b",null,"TBA Profile:")," ",r.a.createElement("a",{className:"modal-tba-profile",target:"_blank",href:"/"},"\xa0")),r.a.createElement("p",{className:"robot-images-title"},r.a.createElement("b",null,"Robot Images:")),r.a.createElement("div",{id:"carouselExampleControls",className:"carousel slide","data-ride":"carousel"},r.a.createElement("div",{className:"carousel-inner"}),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))))))}}]),t}(n.Component),H=[{path:"/",component:R,exact:!0},{path:"/auth",component:P,exact:!0},{path:"/tools_list",component:D,exact:!0},{path:"/check_out_tool",component:W,exact:!0},{path:"/signed_in",component:V,exact:!0},{path:"/sign_out",component:q,exact:!0},{path:"/stats",component:function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).sortStatistics=a.sortStatistics.bind(Object(d.a)(a)),b.getInstance().setShowSettingsPane(!0),b.getInstance().setShowOtherSettings(!1),a.state={modalTeamNumber:null};var n=Object(d.a)(a);return p.getInstance().getEventEmitter().on("dataChanged",(function(){n.forceUpdate()})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"showStatisticsModal",value:function(e){var t=document.createElement("script"),a=document.createTextNode('\n        showStatisticsModal("'.concat(b.getInstance().getEvent(),'", "').concat(e.currentTarget.dataset.teamnumber,'");\n    '));t.appendChild(a),console.log(t),document.getElementsByTagName("body")[0].appendChild(t)}},{key:"sortStatistics",value:function(e){if("complete"===document.readyState){var t,a,n,r,s,l,c,i,o=e.currentTarget.dataset.sortindex,u=0;if(null!==(t=document.getElementById("statistics").getElementsByTagName("table")[0]))for(n=!0,i="asc";n;){for(n=!1,a=t.rows,r=1;r<a.length-1;r++)if(c=!1,s=a[r].getElementsByTagName("td")[o],l=a[r+1].getElementsByTagName("td")[o],"asc"===i){if(parseFloat(s.innerHTML)>parseFloat(l.innerHTML)){c=!0;break}}else if("desc"===i&&parseFloat(s.innerHTML)<parseFloat(l.innerHTML)){c=!0;break}c?(a[r].parentNode.insertBefore(a[r+1],a[r]),n=!0,u++):0===u&&"asc"===i&&(i="desc",n=!0)}}}},{key:"render",value:function(){var e,t=b.getInstance().getEvent(),a=p.getInstance().get();if(t)if(null==a.events[t]||null==a.events[t].rankings||null==a.events[t].rankings.rankings||0===a.events[t].rankings.rankings.length)e=r.a.createElement("h1",{style:{textAlign:"center"}},"No Statistics");else{var n=a.events[t].rankings.rankings,s=[];for(var l in n){var c=a.events[t].rankings.extra_stats_info[0]?r.a.createElement("td",null,n[l].extra_stats[0]?n[l].extra_stats[0]===parseInt(n[l].extra_stats[0])?n[l].extra_stats[0]:n[l].extra_stats[0].toFixed(3):"N/A"):r.a.createElement(r.a.Fragment,null),i=[];for(var o in a.events[t].rankings.sort_order_info)n[l].sort_orders[o]===parseInt(n[l].sort_orders[o])?i.push(r.a.createElement("td",{key:o},n[l].sort_orders[o])):i.push(r.a.createElement("td",{key:o},n[l].sort_orders[o].toFixed(3)));var u=n[l].team_key.substring(3)===parseInt(n[l].team_key.substring(3)).toString();s.push(r.a.createElement("tr",{key:l},r.a.createElement("td",null,n[l].rank),r.a.createElement("td",null,n[l].team_key.substring(3)),i,r.a.createElement("td",null,null!=n[l].record?n[l].record.wins+"-"+n[l].record.losses+"-"+n[l].record.ties:"N/A"),r.a.createElement("td",null,n[l].dq),r.a.createElement("td",null,n[l].matches_played),c,r.a.createElement("td",null,r.a.createElement("button",{className:"btn "+(u?"btn-primary":"btn-secondary"),disabled:!u,onClick:this.showStatisticsModal,"data-teamnumber":u?n[l].team_key:null},u?"View Team Info":"Invalid Team #"))))}var m=[],d=2;for(var h in a.events[t].rankings.sort_order_info)m.push(r.a.createElement("th",{onClick:this.sortStatistics,"data-sortindex":d,key:h},a.events[t].rankings.sort_order_info[h].name," ",r.a.createElement("i",{className:"fas fa-sort"}))),d++;var g=a.events[t].rankings.extra_stats_info[0]?r.a.createElement("th",{onClick:this.sortStatistics,"data-sortindex":d+3},a.events[t].rankings.extra_stats_info[0].name," ",r.a.createElement("i",{className:"fas fa-sort"})):r.a.createElement(r.a.Fragment,null);e=r.a.createElement("table",{className:"table table-striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:this.sortStatistics,"data-sortindex":0},"Rank ",r.a.createElement("i",{className:"fas fa-sort"})),r.a.createElement("th",{onClick:this.sortStatistics,"data-sortindex":1},"Team ",r.a.createElement("i",{className:"fas fa-sort"})),m,r.a.createElement("th",null,"Record (W-L-T)"),r.a.createElement("th",{onClick:this.sortStatistics,"data-sortindex":d+1},"DQ ",r.a.createElement("i",{className:"fas fa-sort"})),r.a.createElement("th",{onClick:this.sortStatistics,"data-sortindex":d+2},"Played ",r.a.createElement("i",{className:"fas fa-sort"})),g,r.a.createElement("th",null,"View Team Info"))),r.a.createElement("tbody",null,s))}else e=r.a.createElement("h1",{style:{textAlign:"center"}},"No Event Selected");return r.a.createElement("div",null,r.a.createElement("div",{className:"statistics",id:"statistics"},e),r.a.createElement(Q,null))}}]),t}(n.Component),exact:!0},{component:L,exact:!0}],z=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e;return e=H.map((function(e,t){var a=e.path,n=e.component,s=e.exact;return r.a.createElement(k.a,{key:t,exact:s,path:a,component:n})})),r.a.createElement("main",{role:"main"},r.a.createElement(y.a,{basename:"/frc-pit",hashType:"slash"},r.a.createElement(w.a,null,e)),r.a.createElement("div",{className:"alert-div",style:{display:"none"}},r.a.createElement("div",{className:"btn btn-lg alert"})))}}]),t}(n.Component),X=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Copyright (c) 2018-",(new Date).getFullYear()," ",r.a.createElement("a",{target:"_blank",href:"https://sumigovindaraju.github.io/",rel:"noopener noreferrer"},"SumiGovindaraju"),". Powered by ",r.a.createElement("a",{target:"_blank",href:"https://reactjs.org/",rel:"noopener noreferrer"},"React"),", ",r.a.createElement("a",{target:"_blank",href:"https://www.thebluealliance.com/",rel:"noopener noreferrer"},"The Blue Alliance"),", ",r.a.createElement("a",{target:"_blank",href:"https://firebase.google.com/",rel:"noopener noreferrer"},"Firebase"),", and ",r.a.createElement("a",{target:"_blank",href:"https://pages.github.com/",rel:"noopener noreferrer"},"GitHub Pages"),"."))}}]),t}(n.Component),J=a(22),Y=a.n(J),G="https://www.thebluealliance.com/api/v3",K={method:"GET",headers:{"X-TBA-Auth-Key":"83kBcUgRuDvJ1XLVXpB2ROeuRAzHoWpX9IRiWkRuwv8B9CryAlc3izY3ZXVOD4Hm"}};function $(e,t){var a,n,r;return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(t&&void 0===b.getInstance().getTeamEventVerified()){s.next=2;break}return s.abrupt("return");case 2:if(!e||e.startsWith("frc")){s.next=5;break}return alert("Invalid team",!0),s.abrupt("return");case 5:if(null==(a=p.getInstance().get()).events||null==a.events[t]){s.next=19;break}if(!e||null!=a.events[t].teams[e]||navigator.onLine){s.next=12;break}return alert("Team data not cached. FRC Pit is offline.",!0),s.abrupt("return");case 12:if(!e||null==a.events[t].teams[e]||navigator.onLine){s.next=17;break}return b.getInstance().setTeamEventVerified(!0),console.log(a.events),alert("FRC Pit is offline. Using cached data.",!1),s.abrupt("return");case 17:s.next=22;break;case 19:if(navigator.onLine){s.next=22;break}return alert("Event data not cached. FRC Pit is offline.",!0),s.abrupt("return");case 22:return(n=[]).push(fetch(G+(e?"/team/"+e:"")+"/events/"+t.substring(0,4),K).then((function(e){return e.json()})).then((function(a){for(var n in a)if(a[n].key===t)return void(r=!0);alert(e?"Team is not in event":"Event does not exist",!0),r=!1})).catch((function(t){"TypeError: Failed To Fetch"!==t.message?alert("FRC Pit is Offline"):alert(e?"Team is not in event":"Event does not exist",!0),r=!1}))),s.next=26,Y.a.awrap(Promise.all(n));case 26:b.getInstance().setTeamEventVerified(r);case 27:case"end":return s.stop()}}))}var Z={pullFromTBA:function(){var e,t,a,n,r,s;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=[],t=p.getInstance(),a=t.get(),e.push(fetch(G+"/events/"+(new Date).getFullYear()+"/simple",K).then((function(e){return e.json()})).then((function(e){for(var n in a.events.list=[],e){var r=new Date;r.setFullYear(e[n].end_date.substring(0,4)),r.setMonth(parseInt(e[n].end_date.substring(5,7))-1),r.setDate(e[n].end_date.substring(8,10)),new Date<=r&&a.events.list.push(e[n])}t.set(a),t.sendEventListChangedEvent()})).catch((function(e){console.error(e)}))),n=b.getInstance().getTeam(),r=b.getInstance().getEvent(),s=b.getInstance().getShowWebcasts(),l.next=9,Y.a.awrap($(n,r));case 9:if(r&&b.getInstance().getTeamEventVerified()){l.next=13;break}return l.next=12,Y.a.awrap(Promise.all(e));case 12:return l.abrupt("return");case 13:return void 0===a.events[r]&&(a.events[r]={teams:{},awards:{},rankings:{},matches:{},webcasts:{},statistics:{},last_updated:(new Date).toUTCString()}),n?(void 0===a.events[r].teams[n]&&(a.events[r].teams[n]={awards:{},matches:{},photos:[],name:"",rookie_year:0,status:"",location:""}),e.push(fetch(G+"/team/"+n+"/event/"+r+"/awards",K).then((function(e){return e.json()})).then((function(e){a.events[r].teams[n].awards=e,a.events[r].last_updated=(new Date).toUTCString(),t.set(a)})).catch((function(e){console.error(e)}))),e.push(fetch(G+"/team/"+n+"/event/"+r+"/matches",K).then((function(e){return e.json()})).then((function(e){a.events[r].teams[n].matches=e,a.events[r].last_updated=(new Date).toUTCString(),t.set(a)})).catch((function(e){console.error(e)})))):(e.push(fetch(G+"/event/"+r+"/awards",K).then((function(e){return e.json()})).then((function(e){a.events[r].awards=e,a.events[r].last_updated=(new Date).toUTCString(),t.set(a)}),(function(e){console.error(e)}))),e.push(fetch(G+"/event/"+r+"/matches",K).then((function(e){return e.json()})).then((function(e){a.events[r].matches=e,a.events[r].last_updated=(new Date).toUTCString(),t.set(a)})).catch((function(e){console.error(e)})))),e.push(fetch(G+"/event/"+r+"/rankings",K).then((function(e){return e.json()})).then((function(e){a.events[r].rankings=e,a.events[r].last_updated=(new Date).toUTCString(),t.set(a)})).catch((function(e){console.error(e)}))),s&&e.push(fetch(G+"/event/"+r,K).then((function(e){return e.json()})).then((function(e){if(null==e||null==e.webcasts)throw new Error("Webcast API call returns null");a.events[r].webcasts=e.webcasts,a.events[r].last_updated=(new Date).toUTCString(),t.set(a),t.sendUpdatedWebcastsEvent()})).catch((function(e){console.error(e)}))),l.next=19,Y.a.awrap(Promise.all(e));case 19:case"end":return l.stop()}}))}},ee=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){Z.pullFromTBA(),setInterval((function(){Z.pullFromTBA()}),12e4);var e=navigator.onLine;setInterval((function(){navigator.onLine&&!e&&(alert("FRC Pit is online. Refreshing cached data now",!1),Z.pullFromTBA()),e=navigator.onLine}),100)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(z,null),r.a.createElement(X,null))}}]),t}(n.Component),te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}g.a.apps.length||g.a.initializeApp({apiKey:"AIzaSyBbB47QbfJXsEViiCqwYUjWQLw0KNpROCc",authDomain:"frc-pit-5cb1f.firebaseapp.com",databaseURL:"https://frc-pit-5cb1f.firebaseio.com",projectId:"frc-pit-5cb1f"}),l.a.render(r.a.createElement(ee,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/frc-pit",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/frc-pit","/service-worker.js");te?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ae(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):ae(e)}))}}()},76:function(e,t,a){e.exports=a(162)},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.8afe063a.chunk.js.map