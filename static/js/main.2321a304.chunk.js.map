{"version":3,"sources":["state/AppState.js","storage/Cache.js","components/Header.js","util/util.js","components/ScheduleTable.js","components/RankingsTable.js","components/ScheduleAndRankings.js","components/Webcasts.js","components/Awards.js","components/Countdown.js","pages/Home.js","pages/Auth.js","pages/ToolsList.js","pages/CreateNewTool.js","pages/PageNotFound.js","pages/SignedIn.js","pages/SignOut.js","components/StatisticsModal.js","routes.js","pages/Statistics.js","components/Main.js","components/Footer.js","storage/api.js","App.js","registerServiceWorker.js","util/initFirebase.js","index.js"],"names":["AppState","this","team","event","showWebcasts","teamEventVerified","undefined","showSettingsPane","showOtherSettings","eventEmitter","EventEmitter","populateStateFromURLVars","emit","vars","window","location","href","replace","m","key","value","setTeam","getUrlVars","setEvent","setShowWebcasts","JSON","parse","instance","sizeof","require","LOCAL_STORAGE_KEY","Cache","local_cache","localStorage","getItem","data","reduceSize","sendDataChangedEvent","setItem","stringify","writeToLocalStorage","last_updated_event_key","last_updated_event_date","Date","events","last_updated","size","deleteLastUpdatedEvent","Header","props","firebase","auth","onAuthStateChanged","user","displayName","li","document","createElement","classList","add","a","innerHTML","process","appendChild","getElementsByClassName","getInstance","getEventEmitter","on","forceUpdate","hasListOfEventsChanged","setTeamNumberAndEvent","bind","toggleWebcast","showWebcast","getShowWebcasts","split","reload","alert","getEvent","getTeam","showSettings","getShowSettingsPane","showTeamSettings","getShowOtherSettings","cache","get","eventOptions","list","length","i","push","name","disabled","className","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","aria-hidden","style","display","defaultValue","placeholder","parseInt","substring","onClick","marginLeft","Component","getMatchTimeInMS","match","actual_time","predicted_time","time","days","ScheduleTable","sortSchedule","body","matches","teams","rows","alliances","red","team_keys","includes","toString","blue","scores","score","score_breakdown_exists","score_breakdown","Fragment","winning_alliance","data-placement","title","completeRocketRankingPoint","habDockingRankingPoint","matchDate","util","colSpan","dateTime","toISOString","getDay","toLocaleTimeString","comp_level","match_number","set_number","dq_team_keys","role","table","switching","x","y","shouldSwitch","getElementById","getElementsByTagName","sortScheduleCompare","parentNode","insertBefore","b","aType","bType","aMatchNum","bMatchNum","startsWith","RankingsTable","rankings","ranking","team_key","rank","sort_orders","toFixed","record","wins","losses","ties","matches_played","extra_stats","ScheduleAndRankings","Webcasts","hasDataChanged","querySelector","firstChild","querySelectorAll","forEach","width","clientWidth","height","clientHeight","navigator","onLine","webcasts","lis","iframes","webcast","src","channel","frameBorder","scrolling","allowFullScreen","Awards","awards","award","recipient_list","map","awardee","join","Countdown","state","nextMatchNameTime","nextMatchName","nextMatchBumperColor","updateCountdown","setInterval","closestMatchTime","Number","MAX_VALUE","closestMatchName","closestMatchBumperColor","setState","distance","getTime","hours","minutes","seconds","textAlign","fontSize","Home","setShowSettingsPane","setShowOtherSettings","getTeamEventVerified","redirectURL","RegExp","exec","Auth","shouldRender","uiConfig","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","GithubAuthProvider","EmailAuthProvider","provider","PhoneAuthProvider","recaptchaParameters","badge","defaultCountry","firebaseAuth","ToolRow","returnTool","currentUser","encodeURIComponent","firestore","collection","doc","uid","delete","tool","index","ToolsList","settings","timestampsInSnapshots","tools","team_number","onSnapshot","querySnapshot","docs","checkout_time","toDate","toLocaleString","description","err","console","error","then","maxWidth","margin","CreateNewTool","addTool","PageNotFound","marginTop","decodeURIComponent","SignedIn","createUser","exists","full_name","set","updateProfile","catch","SignOut","signOut","StatisticsModal","tabIndex","aria-labelledby","data-dismiss","target","data-ride","data-slide","path","component","exact","sortStatistics","modalTeamNumber","evt","script","scriptBody","createTextNode","currentTarget","dataset","teamnumber","log","readyState","dir","n","sortindex","switchcount","parseFloat","extra_stat","extra_stats_info","stats","stat","sort_order_info","team_key_valid","dq","showStatisticsModal","data-teamnumber","stat_infos","stat_sort_index","stat_info","data-sortindex","Main","routesJSX","routes","Route","HashRouter","basename","hashType","Switch","Footer","getFullYear","rel","TBA_BASE_URL","FETCH_CONFIG","method","headers","verifyTeamInEvent","async","setTeamEventVerified","promises","fetch","res","json","result","ret_val","message","Promise","all","pullFromTBA","cache_instance","end_of_event_date","setFullYear","end_date","setMonth","setDate","sendEventListChangedEvent","toUTCString","Error","sendUpdatedWebcastsEvent","App","api","isOnline","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","apps","initializeApp","apiKey","authDomain","databaseURL","projectId","ReactDOM","render","URL","origin","addEventListener","response","status","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.2321a304.chunk.js","sourcesContent":["import { EventEmitter } from \"events\";\n\nclass AppState {\n    constructor() {\n        // default states, populated through URL vars\n        this.team = false;\n        this.event = false;\n        this.showWebcasts = true;\n        this.teamEventVerified = undefined;\n        this.showSettingsPane = false; // show entire settings pane\n        this.showOtherSettings = false; // show team input\n        this.eventEmitter = new EventEmitter();\n\n        this.populateStateFromURLVars();\n    }\n\n    static getInstance() {\n        if (this.instance === undefined) {\n            this.instance = new AppState();\n        }\n\n        return this.instance;\n    }\n\n    getTeam() {\n        return this.team;\n    }\n\n    getEvent() {\n        return this.event;\n    }\n\n    getShowWebcasts() {\n        return this.showWebcasts;\n    }\n\n    getTeamEventVerified() {\n        return this.teamEventVerified;\n    }\n\n    getShowSettingsPane() {\n        return this.showSettingsPane;\n    }\n\n    getShowOtherSettings() {\n        return this.showOtherSettings;\n    }\n\n    getEventEmitter() {\n        return this.eventEmitter;\n    }\n\n    setTeam(team) {\n        this.team = team;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setEvent(event) {\n        this.event = event;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setShowWebcasts(showWebcasts) {\n        this.showWebcasts = showWebcasts;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setTeamEventVerified(teamEventVerified) {\n        this.teamEventVerified = teamEventVerified;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setShowSettingsPane(showSettingsPane) {\n        this.showSettingsPane = showSettingsPane;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    setShowOtherSettings(showOtherSettings) {\n        this.showOtherSettings = showOtherSettings;\n        this.eventEmitter.emit(\"appStateChanged\");\n    }\n\n    getUrlVars() {\n        var vars = {};\n        window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n            vars[key] = value;\n        });\n\n        return vars;\n    }\n\n    populateStateFromURLVars() {\n        this.setTeam(this.getUrlVars()[\"team\"] !== undefined ? this.getUrlVars()[\"team\"] : false);\n        this.setEvent(this.getUrlVars()[\"event\"] !== undefined ? this.getUrlVars()[\"event\"] : false);\n        this.setShowWebcasts(this.getUrlVars()[\"showWebcasts\"] !== undefined ? JSON.parse(this.getUrlVars()[\"showWebcasts\"]) : true);\n    }\n}\n\nexport default AppState;","import { EventEmitter } from \"events\";\nconst sizeof = require('object-sizeof');\n\nconst LOCAL_STORAGE_KEY = \"The Blue Alliance API Cache\";\nconst MAX_CACHE_SIZE = 3.5e6;\n\nclass Cache {\n    constructor() {\n        var local_cache = localStorage.getItem(LOCAL_STORAGE_KEY);\n        if (local_cache === null) {\n            this.data = { \"events\": { \"list\": [] } };\n        } else {\n            this.data = JSON.parse(local_cache);\n        }\n\n        this.eventEmitter = new EventEmitter();\n\n        this.reduceSize();\n        this.sendDataChangedEvent();\n    }\n\n    static getInstance() {\n        if (this.instance === undefined) {\n            this.instance = new Cache();\n        }\n\n        return this.instance;\n    }\n\n    getEventEmitter() {\n        return this.eventEmitter;\n    }\n\n    writeToLocalStorage() {\n        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(this.data));\n    }\n\n    get() {\n        return this.data;\n    }\n\n    set(data) {\n        this.data = data;\n        this.writeToLocalStorage();\n        this.sendDataChangedEvent();\n    }\n\n    size() {\n        return sizeof(this.data);\n    }\n\n    deleteLastUpdatedEvent() {\n        var last_updated_event_key = null, last_updated_event_date = new Date();\n        for (var event in this.data.events) {\n            if (new Date(this.data.events[event].last_updated) < last_updated_event_date) {\n                last_updated_event_key = event;\n                last_updated_event_date = new Date(this.data.events[event].last_updated);\n            }\n        }\n\n        if (last_updated_event_key !== null) {\n            delete this.data.events[last_updated_event_key];\n        }\n    }\n\n    /**\n     * Only reduces size if necessary\n     */\n    reduceSize() {\n        while(this.size() > MAX_CACHE_SIZE) {\n            this.deleteLastUpdatedEvent();\n        }\n    }\n\n    sendDataChangedEvent() {\n        this.eventEmitter.emit(\"dataChanged\");\n    }\n\n    sendUpdatedWebcastsEvent() {\n        this.eventEmitter.emit(\"webcastsUpdated\");\n    }\n\n    sendEventListChangedEvent() {\n        this.eventEmitter.emit(\"eventListChanged\");\n    }\n}\n\nexport default Cache;","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport AppState from '../state/AppState';\nimport Cache from '../storage/Cache';\n\nexport default class Header extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user && user.displayName) {\n        var li = document.createElement(\"li\");\n        li.classList.add(\"nav-item\");\n\n        var a = document.createElement(\"a\");\n        a.classList.add(\"nav-link\");\n        a.classList.add(\"sign-out\");\n        a.innerHTML = \"Sign out \" + user.displayName;\n        a.href = process.env.PUBLIC_URL + \"/#/sign_out\";\n\n        li.appendChild(a);\n        document.getElementsByClassName(\"sign-out-ul\")[0].appendChild(li);\n      }\n    });\n\n    var instance = this;\n    AppState.getInstance().getEventEmitter().on(\"appStateChanged\", function () {\n      instance.forceUpdate();\n    });\n\n    var hasListOfEventsChanged = false;\n    Cache.getInstance().getEventEmitter().on(\"eventListChanged\", function () {\n      if (!hasListOfEventsChanged) {\n        instance.forceUpdate();\n        hasListOfEventsChanged = true;\n      }\n    });\n\n    this.setTeamNumberAndEvent = this.setTeamNumberAndEvent.bind(this);\n    this.toggleWebcast = this.toggleWebcast.bind(this);\n  }\n\n  setTeamNumberAndEvent() {\n    var event = document.getElementsByClassName(\"settings-event\")[0].value;\n    if (!event) {\n      alert(\"Event field is required\");\n      return;\n    }\n\n    var team = document.getElementsByClassName(\"settings-team\")[0].value === \"\" ? false : \"frc\" + document.getElementsByClassName(\"settings-team\")[0].value;\n    var showWebcast = AppState.getInstance().getShowWebcasts();\n    window.location.href = window.location.href.split(\"?\")[0] + \"?event=\" + event + (team ? \"&team=\" + team : \"\") + \"&showWebcasts=\" + showWebcast;\n    window.location.reload();\n  }\n\n  toggleWebcast() {\n    var event = AppState.getInstance().getEvent();\n    var team = AppState.getInstance().getTeam();\n    var showWebcast = AppState.getInstance().getShowWebcasts();\n    window.location.href = window.location.href.split(\"?\")[0] + \"?event=\" + event + (team ? \"&team=\" + team : \"\") + \"&showWebcasts=\" + !showWebcast;\n    window.location.reload();\n  }\n\n  render() {\n    var showSettings = AppState.getInstance().getShowSettingsPane();\n    var showTeamSettings = AppState.getInstance().getShowOtherSettings();\n    var event = AppState.getInstance().getEvent();\n    var team = AppState.getInstance().getTeam();\n    var cache = Cache.getInstance().get();\n\n    var eventOptions = [];\n    if (cache.events !== undefined || cache.events.list !== undefined || cache.events.list.length !== 0) {\n      var data = cache.events.list;\n      for (var i in data) {\n        eventOptions.push(<option key={data[i].key} value={data[i].key}>{data[i].name} ({data[i].key})</option>);\n      }\n    }\n\n    if (eventOptions.length === 0) {\n      eventOptions.push(<option disabled>No Upcoming Events</option>);\n    }\n\n    return (\n      <header>\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n          <a className=\"navbar-brand\" href={process.env.PUBLIC_URL}>FRC Pit</a>\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarText\" aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarText\">\n            <ul className=\"navbar-nav\">\n              <li className=\"nav-item\"><a className=\"nav-link\" href={process.env.PUBLIC_URL}><i className=\"fa fa-home\" aria-hidden=\"true\"></i> Home</a></li>\n              <li className=\"nav-item\"><a className=\"nav-link\" href={process.env.PUBLIC_URL + \"/#/tools_list\"}><i className=\"fa fa-wrench\" aria-hidden=\"true\"></i> Tools List</a></li>\n              <li className=\"nav-item\"><a className=\"nav-link\" href={process.env.PUBLIC_URL + \"/#/check_out_tool\"}><i className=\"fa fa-plus\" aria-hidden=\"true\"></i> Check Out Tool</a></li>\n              <li className=\"nav-item\"><a className=\"nav-link\" href={process.env.PUBLIC_URL + \"/#/stats\"}><i className=\"fa fa-chart-area\" aria-hidden=\"true\"></i> Stats</a></li>\n            </ul>\n            <form className=\"form-inline settings\">\n              <select className=\"form-control mr-sm-2 settings-event\" style={{ display: showSettings ? \"block\" : \"none\" }} defaultValue={event || \"\"}>{eventOptions}</select>\n              <input className=\"form-control mr-sm-2 settings-team\" placeholder=\"Team Number\" type=\"number\" style={{ display: showTeamSettings ? \"block\" : \"none\" }} defaultValue={showTeamSettings && team ? parseInt(team.substring(3)) : \"\"}/>\n              <input type=\"button\" className=\"btn btn-success set-team-number-and-event-btn my-2 my-sm-0\" value=\"✓\" onClick={this.setTeamNumberAndEvent} style={{ display: showSettings ? \"block\" : \"none\" }} />\n              <input type=\"button\" className=\"btn btn-secondary disable-webcast-button my-2 my-sm-0\" value=\"Toggle Webcasts\" style={{ display: showTeamSettings ? \"block\" : \"none\", marginLeft: \"5px\" }} onClick={this.toggleWebcast} />\n            </form>\n            <ul className=\"navbar-nav ml-auto sign-out-ul\"></ul>\n          </div>\n        </nav>\n      </header>\n    );\n  }\n}","export const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nexport function getMatchTimeInMS(match) {\n    if (match.actual_time !== undefined && match.actual_time !== null) {\n        return match.actual_time * 1000;\n    }\n\n    if (match.predicted_time !== undefined && match.predicted_time !== null) {\n        return match.predicted_time * 1000;\n    }\n\n    return match.time * 1000;\n}\n\nexport default { getMatchTimeInMS, days }","import React, { Component } from 'react';\nimport Cache from '../storage/Cache';\nimport AppState from '../state/AppState';\nimport util from '../util/util';\n\nexport default class ScheduleTable extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n  }\n\n  componentDidMount() {\n    this.sortSchedule();\n  }\n\n  componentDidUpdate() {\n    this.sortSchedule();\n  }\n\n  render() {\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    var body;\n    if ((cache.events[event] == null || cache.events[event].matches == null || cache.events[event].matches.length === 0)\n      || (team && (cache.events[event].teams[team] == null || cache.events[event].teams[team].matches == null || cache.events[event].teams[team].matches.length === 0))) {\n      body = <h1>No Schedule</h1>;\n    } else {\n      var data = team ? cache.events[event].teams[team].matches : cache.events[event].matches;\n\n      var rows = [];\n      for (var match in data) {\n        if (!team || (data[match].alliances.red.team_keys.includes(team.toString()) || data[match].alliances.blue.team_keys.includes(team.toString()))) {\n          var scores;\n          if (data[match].alliances.red.score >= 0 && data[match].alliances.blue.score >= 0) {\n            var score_breakdown_exists = data[match].score_breakdown != null;\n            scores = <React.Fragment>\n              <td className={`red-score ${data[match].winning_alliance === \"red\" ? \"winner\" : \"\"} ${data[match].alliances.red.team_keys.includes(team) ? \"current-team\" : \"\"}`} data-toggle=\"tooltip\" data-placement=\"top\" title={`${score_breakdown_exists && data[match].score_breakdown.red.completeRocketRankingPoint ? \"Complete Rocket\" : \"\"}${score_breakdown_exists && data[match].score_breakdown.red.completeRocketRankingPoint && data[match].score_breakdown.red.habDockingRankingPoint ? \" & \" : \"\"}${score_breakdown_exists && data[match].score_breakdown.red.habDockingRankingPoint ? \"HAB Docking\" : \"\"}`}>{data[match].alliances.red.score}</td>\n              <td className={`blue-score ${data[match].winning_alliance === \"blue\" ? \"winner\" : \"\"} ${data[match].alliances.blue.team_keys.includes(team) ? \"current-team\" : \"\"}`} data-toggle=\"tooltip\" data-placement=\"top\" title={`${score_breakdown_exists && data[match].score_breakdown.blue.completeRocketRankingPoint ? \"Complete Rocket\" : \"\"}${score_breakdown_exists && data[match].score_breakdown.blue.completeRocketRankingPoint && data[match].score_breakdown.blue.habDockingRankingPoint ? \" & \" : \"\"}${score_breakdown_exists && data[match].score_breakdown.blue.habDockingRankingPoint ? \"HAB Docking\" : \"\"}`}>{data[match].alliances.blue.score}</td>\n            </React.Fragment>\n          } else {\n            var matchDate = new Date(util.getMatchTimeInMS(data[match]));\n            scores =\n              <td colSpan=\"2\"><time dateTime={matchDate.toISOString()}>{util.days[matchDate.getDay()]}, {matchDate.toLocaleTimeString().replace(/:\\d{2}\\s/, ' ')}</time></td>\n          }\n\n          rows.push(\n            <tr key={match}>\n              <td>{data[match].comp_level === \"qm\" ? \"Quals \" + data[match].match_number : (data[match].comp_level === \"qf\" ? \"Quarters \" + data[match].set_number + \" Match \" + data[match].match_number : (data[match].comp_level === \"sf\" ? \"Semis \" + data[match].set_number + \" Match \" + data[match].match_number : \"Finals \" + data[match].match_number))}</td>\n              <td className={`red ${data[match].alliances.red.team_keys[0] === team ? \"current-team\" : \"\"} ${data[match].alliances.red.dq_team_keys.includes(data[match].alliances.red.team_keys[0]) ? \"strike\" : \"\"}`}>{data[match].alliances.red.team_keys[0].substring(3)}</td>\n              <td className={`red ${data[match].alliances.red.team_keys[1] === team ? \"current-team\" : \"\"} ${data[match].alliances.red.dq_team_keys.includes(data[match].alliances.red.team_keys[1]) ? \"strike\" : \"\"}`}>{data[match].alliances.red.team_keys[1].substring(3)}</td>\n              <td className={`red ${data[match].alliances.red.team_keys[2] === team ? \"current-team\" : \"\"} ${data[match].alliances.red.dq_team_keys.includes(data[match].alliances.red.team_keys[2]) ? \"strike\" : \"\"}`}>{data[match].alliances.red.team_keys[2].substring(3)}</td>\n              <td className={`blue ${data[match].alliances.blue.team_keys[0] === team ? \"current-team\" : \"\"} ${data[match].alliances.blue.dq_team_keys.includes(data[match].alliances.blue.team_keys[0]) ? \"strike\" : \"\"}`}>{data[match].alliances.blue.team_keys[0].substring(3)}</td>\n              <td className={`blue ${data[match].alliances.blue.team_keys[1] === team ? \"current-team\" : \"\"} ${data[match].alliances.blue.dq_team_keys.includes(data[match].alliances.blue.team_keys[1]) ? \"strike\" : \"\"}`}>{data[match].alliances.blue.team_keys[1].substring(3)}</td>\n              <td className={`blue ${data[match].alliances.blue.team_keys[2] === team ? \"current-team\" : \"\"} ${data[match].alliances.blue.dq_team_keys.includes(data[match].alliances.blue.team_keys[2]) ? \"strike\" : \"\"}`}>{data[match].alliances.blue.team_keys[2].substring(3)}</td>\n              {scores}\n            </tr>);\n        }\n      }\n\n      body = <table className=\"table table-bordered\" id=\"schedule-table\">\n        <thead>\n          <tr>\n            <th>Match</th>\n            <th colSpan=\"3\">Red Alliance</th>\n            <th colSpan=\"3\">Blue Alliance</th>\n            <th colSpan=\"2\">Scores</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows}\n        </tbody>\n      </table>;\n    }\n\n    return (\n      <div className=\"tab-pane fade show active schedule\" id=\"schedule\" role=\"tabpanel\">\n        {body}\n      </div>\n    );\n  }\n\n  // adapted from w3 schools\n  sortSchedule() {\n    var table, rows, switching, i, x, y, shouldSwitch;\n    table = document.getElementById(\"schedule-table\");\n    if (table === null) {\n      return;\n    }\n\n    switching = true;\n\n    while (switching) {\n      switching = false;\n      rows = table.getElementsByTagName(\"tr\");\n\n      for (i = 1; i < (rows.length - 1); i++) {\n        shouldSwitch = false;\n        x = rows[i].getElementsByTagName(\"td\")[0];\n        y = rows[i + 1].getElementsByTagName(\"td\")[0];\n\n        if (this.sortScheduleCompare(x.innerHTML, y.innerHTML) === 1) {\n          shouldSwitch = true;\n          break;\n        }\n      }\n\n      if (shouldSwitch) {\n        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n        switching = true;\n      }\n    }\n  }\n\n  // returns 1 if a is a later match than b, 0 if a is the same match as b, and -1 if a is an earlier match than b\n  sortScheduleCompare(a, b) {\n    var aType, bType;\n    // Quals = 0, Quarters = 1, Semis = 2, Finals = 3\n    if (a.startsWith(\"Quals\")) {\n      aType = 0;\n    } else if (a.startsWith(\"Quarters\")) {\n      aType = 1;\n    } else if (a.startsWith(\"Semis\")) {\n      aType = 2;\n    } else if (a.startsWith(\"Finals\")) {\n      aType = 3;\n    }\n\n    if (b.startsWith(\"Quals \")) {\n      bType = 0;\n    } else if (b.startsWith(\"Quarters \")) {\n      bType = 1;\n    } else if (b.startsWith(\"Semis \")) {\n      bType = 2;\n    } else if (b.startsWith(\"Finals\")) {\n      bType = 3;\n    }\n\n    if (aType !== bType) {\n      return aType > bType ? 1 : -1;\n    }\n\n    var aMatchNum, bMatchNum;\n    if (aType === 0 && bType === 0) {\n      aMatchNum = parseInt(a.substring(6));\n      bMatchNum = parseInt(b.substring(6));\n\n      return aMatchNum > bMatchNum ? 1 : (aMatchNum < bMatchNum ? -1 : 0);\n    } else if (aType === 1 && bType === 1) {\n      aMatchNum = parseInt(a.substring(17));\n      bMatchNum = parseInt(b.substring(17));\n\n      return aMatchNum > bMatchNum ? 1 : (aMatchNum < bMatchNum ? -1 : 0);\n    } else if (aType === 2 && bType === 2) {\n      aMatchNum = parseInt(a.substring(14));\n      bMatchNum = parseInt(b.substring(14));\n\n      return aMatchNum > bMatchNum ? 1 : (aMatchNum < bMatchNum ? -1 : 0);\n    }\n\n    return a > b ? 1 : (a < b ? -1 : 0);\n  }\n}","import React, { Component } from 'react';\nimport Cache from '../storage/Cache';\nimport AppState from '../state/AppState';\n\nexport default class RankingsTable extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n  }\n\n  render() {\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    var body;\n    if (cache.events[event] == null || cache.events[event].rankings == null\n      || cache.events[event].rankings.rankings == null || cache.events[event].rankings.rankings.length === 0) {\n      body = <h1>No Rankings</h1>;\n    } else {\n      var data = cache.events[event].rankings.rankings;\n\n      var rows = [];\n      for (var ranking in data) {\n        rows.push(\n          <tr key={ranking}>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].rank}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].team_key.substring(3)}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].sort_orders[0].toFixed(3)}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].record.wins}-{data[ranking].record.losses}-{data[ranking].record.ties}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].matches_played}</td>\n            <td className={data[ranking].team_key === team ? \"current-team\" : \"\"}>{data[ranking].extra_stats[0]}</td>\n          </tr>);\n      }\n\n      body = <table className=\"table table-striped table-bordered\">\n        <thead>\n          <tr>\n            <th>Rank</th>\n            <th>Team</th>\n            <th>Ranking Score</th>\n            <th>Record (W-L-T)</th>\n            <th>Played</th>\n            <th>Total RP</th>\n          </tr>\n        </thead>\n        <tbody>{rows}</tbody>\n      </table>;\n    }\n\n    return (\n      <div className=\"tab-pane fade rankings\" id=\"rankings\" role=\"tabpanel\">\n        {body}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport ScheduleTable from './ScheduleTable';\nimport RankingsTable from './RankingsTable';\n\nexport default class ScheduleAndRankings extends Component {\n  render() {\n    return (\n      <div className=\"schedule-rankings\">\n        <ul className=\"nav nav-tabs\" role=\"tablist\">\n          <li className=\"nav-item\">\n            <a className=\"nav-link active\" data-toggle=\"tab\" href=\"#schedule\" role=\"tab\">Schedule</a>\n          </li>\n          <li className=\"nav-item\">\n            <a className=\"nav-link\" data-toggle=\"tab\" href=\"#rankings\" role=\"tab\">Rankings</a>\n          </li>\n        </ul>\n        <div className=\"tab-content\">\n          <ScheduleTable />\n          <RankingsTable />\n        </div>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport AppState from '../state/AppState';\nimport Cache from '../storage/Cache';\n\nexport default class Webcasts extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    var hasDataChanged = false;\n    Cache.getInstance().getEventEmitter().on(\"webcastsUpdated\", function () {\n      if (!hasDataChanged) {\n        instance.forceUpdate();\n        hasDataChanged = true;\n      }\n    });\n  }\n\n  componentDidUpdate() {\n    if (document.querySelector('.webcasts ul li') === null) {\n      return;\n    }\n\n    document.querySelector('.webcasts ul li').firstChild.classList.add('active');\n    document.querySelector('.webcasts .tab-content .tab-pane').classList.add(\"show\", \"active\");\n\n    document.querySelectorAll('.webcasts .tab-content .tab-pane iframe').forEach((a) => a.width = document.getElementsByClassName(\"webcasts\")[0].clientWidth);\n    document.querySelectorAll('.webcasts .tab-content .tab-pane iframe').forEach((a) => a.height = document.getElementsByClassName(\"webcasts\")[0].clientHeight - 80);\n  }\n\n  render() {\n    var event = AppState.getInstance().getEvent();\n    var showWebcasts = AppState.getInstance().getShowWebcasts();\n    var cache = Cache.getInstance().get();\n\n    var body;\n    if (!showWebcasts) {\n      body = <h1>Webcasts Disabled</h1>\n    } else if (!navigator.onLine) {\n      body = <h1>Offline: Cannot Access Webcasts</h1>\n    } else if (cache.events[event] == null || cache.events[event].webcasts == null || cache.events[event].webcasts.length === 0) {\n      body = <h1>No Webcasts</h1>\n    } else {\n      var data = cache.events[event].webcasts;\n      var lis = [], iframes = [];\n      for (var webcast in data) {\n        if (data[webcast].type === \"twitch\" || data[webcast].type === \"youtube\") {\n          lis.push(\n            <li className=\"nav-item\" key={webcast}>\n              <a className=\"nav-link\" data-toggle=\"tab\" href={\"#webcast-\" + (parseInt(webcast) + 1)} role=\"tab\">Webcast {(parseInt(webcast) + 1)}</a>\n            </li>\n          );\n\n          iframes.push(\n            <div className=\"tab-pane fade\" id={\"webcast-\" + (parseInt(webcast) + 1)} role=\"tabpanel\" key={webcast}>\n              <iframe title={webcast}\n                src={(data[webcast].type === \"twitch\" ? \"//player.twitch.tv/?channel=\" : \"//www.youtube.com/embed/\") + data[webcast].channel}\n                frameBorder=\"none\"\n                scrolling=\"none\"\n                allowFullScreen={true}>\n              </iframe>\n            </div>\n          );\n        }\n      }\n      body = <div>\n        <ul className=\"nav nav-tabs\" role=\"tablist\">{lis}</ul>\n        <div className=\"tab-content\">{iframes}</div>\n      </div>\n    }\n\n    return (\n      <div className=\"webcasts\">\n        {body}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport AppState from '../state/AppState';\nimport Cache from '../storage/Cache';\n\nexport default class Awards extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n  }\n\n  render() {\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    var body;\n    if ((cache.events[event] == null || cache.events[event].awards == null || cache.events[event].awards.length === 0)\n      || (team && (cache.events[event].teams[team] == null || cache.events[event].teams[team].awards == null || cache.events[event].teams[team].awards.length === 0))) {\n      body = <h1>No Awards</h1>;\n    } else {\n      var data = team ? cache.events[event].teams[team].awards : cache.events[event].awards;\n      var lis = [];\n      for (var award in data) {\n        if (team) {\n          lis.push(\n            <li key={award}>{data[award].name} {data[award].recipient_list.map(x => x.team_key === team && (x.awardee !== null && x.awardee !== \"\") ? \"(\" + x.awardee + \")\" : \"\").join(\"\")}</li>\n          );\n        } else {\n          lis.push(\n            <li key={award}>{data[award].name} ({data[award].recipient_list.map(x => (x.awardee !== null && x.awardee !== \"\") ? x.awardee : x.team_key.substring(3)).join(\", \")})</li>\n          );\n        }\n      }\n\n      body = <div>\n        <h1>Awards</h1>\n        <ul>\n          {lis}\n        </ul>\n      </div>\n    }\n\n    return (\n      <div className=\"awards\">\n        {body}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport Cache from '../storage/Cache';\nimport AppState from '../state/AppState';\nimport util from '../util/util';\n\nexport default class Countdown extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n\n    this.state = { nextMatchNameTime: null, nextMatchName: null, nextMatchBumperColor: \"black\" };\n    this.updateCountdown = this.updateCountdown.bind(this);\n    setInterval(this.updateCountdown, 1000);\n  }\n\n  updateCountdown() {\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    var closestMatchTime = Number.MAX_VALUE;\n    var closestMatchName = null;\n    var closestMatchBumperColor = null;\n\n    if ((cache.events[event] == null || cache.events[event].matches == null || cache.events[event].matches.length === 0)\n      || (team && (cache.events[event].teams[team] == null || cache.events[event].teams[team].matches == null || cache.events[event].teams[team].matches.length === 0))) {\n      return;\n    }\n\n    var data = team ? cache.events[event].teams[team].matches : cache.events[event].matches;\n    for (var match in data) {\n      if ((new Date()) < (new Date(util.getMatchTimeInMS(data[match]))) && util.getMatchTimeInMS(data[match]) < closestMatchTime && data[match].score_breakdown == null) {\n        closestMatchTime = util.getMatchTimeInMS(data[match]);\n        closestMatchName = data[match].comp_level === \"qm\" ? \"Quals \" + data[match].match_number : (data[match].comp_level === \"qf\" ? \"Quarters \" + data[match].set_number + \" Match \" + data[match].match_number : (data[match].comp_level === \"sf\" ? \"Semis \" + data[match].set_number + \" Match \" + data[match].match_number : \"Finals \" + data[match].match_number));\n        closestMatchBumperColor = team ? (data[match].alliances.blue.team_keys.includes(team) ? \"blue\" : \"red\") : null\n      }\n    }\n\n    if (closestMatchTime === Number.MAX_VALUE || closestMatchName === null) {\n      this.setState({ nextMatchNameTime: null, nextMatchName: null, nextMatchBumperColor: \"black\" });\n    } else {\n      var countDownDate = new Date(closestMatchTime).getTime();\n\n      var distance = countDownDate - (new Date());\n\n      if (distance >= 24 * 60 * 60 * 1000) { // if greater than a day away\n        this.setState({ nextMatchNameTime: null, nextMatchName: null, nextMatchBumperColor: \"black\" });\n      } else {\n        var hours = parseInt((distance / (1000 * 60 * 60)) % 24);\n        var minutes = parseInt((distance / (1000 * 60)) % 60);\n        var seconds = parseInt((distance / 1000) % 60);\n\n        hours = (hours < 10) ? \"0\" + hours : hours;\n        minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n        seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n        if (distance >= 0) {\n          this.setState({ nextMatchNameTime: hours + \":\" + minutes + \":\" + seconds, nextMatchName: closestMatchName, nextMatchBumperColor: closestMatchBumperColor });\n        } else {\n          this.setState({ nextMatchNameTime: null, nextMatchName: null, nextMatchBumperColor: \"black\" });\n        }\n      }\n    }\n  }\n\n  render() {\n    var body;\n    if (this.state.nextMatchNameTime === null || this.state.nextMatchName === null) {\n      body = <h1>No Upcoming Match</h1>;\n    } else {\n      body =\n        <div>\n          <h1 className={`countdown-timer-tag ${\"countdown-\" + this.state.nextMatchBumperColor}`} style={{ textAlign: \"center\", fontSize: \"5.25em\" }}>{this.state.nextMatchNameTime}</h1>\n          <h2 style={{ textAlign: \"center\" }}>Until {this.state.nextMatchName}</h2>\n        </div>\n    }\n\n    return (\n      <div className=\"countdown\">\n        {body}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport ScheduleAndRankings from '../components/ScheduleAndRankings';\nimport Webcasts from '../components/Webcasts';\nimport Awards from '../components/Awards';\nimport Countdown from '../components/Countdown';\nimport AppState from '../state/AppState';\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    var instance = this;\n    AppState.getInstance().getEventEmitter().on(\"appStateChanged\", function () {\n      instance.forceUpdate();\n    });\n\n    AppState.getInstance().setShowSettingsPane(true);\n    AppState.getInstance().setShowOtherSettings(true);\n  }\n\n  render() {\n    return (\n      <div>\n        {AppState.getInstance().getTeamEventVerified() === undefined || !AppState.getInstance().getTeamEventVerified() ?\n          <h1 className=\"no-team-event-selected\" style={{ textAlign: \"center\" }}>No Event/Team selected</h1> :\n          <div>\n            <ScheduleAndRankings />\n            <Webcasts />\n            <Awards />\n            <Countdown /></div>}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport AppState from '../state/AppState';\n\nvar redirectURL = ((new RegExp('[?|&]redirect=([^&;]+?)(&|#|;|$)').exec(window.location.href) || [null, ''])[1].replace(/\\+/g, '%20'));\n\nexport default class Auth extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shouldRender: false,\n      uiConfig: {\n        signInFlow: 'popup',\n        signInSuccessUrl: process.env.PUBLIC_URL + `/#/signed_in?redirect=${redirectURL}`,\n        signInOptions: [\n          firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n          firebase.auth.GithubAuthProvider.PROVIDER_ID,\n          firebase.auth.EmailAuthProvider.PROVIDER_ID,\n          {\n            provider: firebase.auth.PhoneAuthProvider.PROVIDER_ID,\n            recaptchaParameters: {\n              type: 'image',\n              size: 'normal',\n              badge: 'bottomleft'\n            },\n            defaultCountry: 'US'\n          }\n        ],\n      }\n    };\n\n    var instance = this;\n\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        window.location.href = process.env.PUBLIC_URL + `/#/signed_in?redirect=${redirectURL}`;\n      } else {\n        instance.setState({ shouldRender: true });\n      }\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  render() {\n    if (this.state.shouldRender) {\n      return (\n        <StyledFirebaseAuth uiConfig={this.state.uiConfig} firebaseAuth={firebase.auth()} />\n      );\n    } else {\n      return null;\n    }\n  }\n}","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport AppState from '../state/AppState';\n\nclass ToolRow extends Component {\n  constructor(props) {\n    super(props);\n\n    this.returnTool = this.returnTool.bind(this);\n    this.state = { currentUser: null };\n\n    var instance = this;\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        instance.setState({ currentUser: user });\n      } else {\n        window.location.href = process.env.PUBLIC_URL + \"/#/auth?redirect=\" + encodeURIComponent(window.location.href);\n      }\n    });\n  }\n\n  returnTool(id) {\n    if (this.state.currentUser != null) {\n      document.getElementsByClassName(\"error-alert-div\")[0].style.display = \"none\";\n      firebase.firestore().collection('users').doc(this.state.currentUser.uid).collection('tools').doc(id).delete();\n    } else {\n      alert(\"No current user\");\n    }\n  }\n\n  render() {\n    return (\n      <tr>\n        <td>{this.props.name}</td>\n        <td>{this.props.team}</td>\n        <td>{this.props.time}</td>\n        <td>{this.props.tool}</td>\n        <td><button type='button' className='btn btn-primary' onClick={() => this.returnTool(this.props.index)}>Return</button></td>\n      </tr>\n    );\n  }\n}\n\nexport default class ToolsList extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.firestore().settings({ timestampsInSnapshots: true });\n\n    this.state = { shouldRender: false, tools: [], team_number: null };\n\n    var instance = this;\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        instance.setState({ currentUser: user });\n\n        firebase.firestore().collection('users').doc(instance.state.currentUser.uid).collection('tools').onSnapshot(querySnapshot => {\n          var tools = [];\n\n          for (var i in querySnapshot.docs) {\n            tools.push({\n              key: querySnapshot.docs[i].id,\n              name: querySnapshot.docs[i].get('name'),\n              team_number: querySnapshot.docs[i].get('team_number'),\n              checkout_time: querySnapshot.docs[i].get('checkout_time').toDate().toLocaleString(),\n              description: querySnapshot.docs[i].get('description')\n            });\n          }\n\n          instance.setState({ tools: tools });\n        }, err => {\n          console.error(err)\n        });\n\n        firebase.firestore().collection('users').doc(instance.state.currentUser.uid).get().then((doc) => {\n          instance.setState({ team_number: doc.get('team') });\n        });\n\n        instance.setState({ shouldRender: true });\n      } else {\n        window.location.href = process.env.PUBLIC_URL + \"/#/auth?redirect=\" + encodeURIComponent(window.location.href);\n      }\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  render() {\n    if (this.state.shouldRender) {\n      var rows = [];\n      rows = this.state.tools.map(({ key, name, team_number, checkout_time, description }) =>\n        <ToolRow key={key} index={key} name={name} team={team_number} time={checkout_time} tool={description} />\n      );\n\n      return (\n        <div>\n          <h2 style={{ textAlign: \"center\" }}>{this.state.team_number == null ? \"Loading...\" : \"Tools Checked Out from Team \" + this.state.team_number + \":\"}</h2>\n          <table className=\"table-striped table-bordered tools-list\" style={{ width: \"98%\", maxWidth: \"98%\", margin: \"1%\" }}>\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Team Number</th>\n                <th>Checkout Date</th>\n                <th>Tool</th>\n                <th>Return</th>\n              </tr>\n            </thead>\n            <tbody>\n              {rows}\n            </tbody>\n          </table>\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport AppState from '../state/AppState';\n\nexport default class CreateNewTool extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.firestore().settings({ timestampsInSnapshots: true });\n\n    this.addTool = this.addTool.bind(this);\n    this.state = { shouldRender: false, currentUser: null };\n\n    var instance = this;\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        instance.setState({ currentUser: user });\n\n        firebase.firestore().collection('users').doc(instance.state.currentUser.uid).get().then((doc) => {\n          instance.setState({ team_number: doc.get('team') });\n        });\n\n        instance.setState({ shouldRender: true });\n      } else {\n        window.location.href = process.env.PUBLIC_URL + \"/#/auth?redirect=\" + encodeURIComponent(window.location.href);\n      }\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  addTool() {\n    var name = document.getElementById(\"name\").value,\n      tool = document.getElementById(\"tool\").value,\n      team_number = document.getElementById(\"team-number\").value;\n\n    if (name === \"\" || tool === \"\" || team_number === \"\") {\n      alert(\"Error: All fields must be filled.\");\n      return;\n    }\n\n    if (this.state.currentUser != null) {\n      firebase.firestore().collection('users').doc(this.state.currentUser.uid).collection('tools').add({\n        \"name\": name,\n        \"description\": tool,\n        \"checkout_time\": new Date(),\n        \"team_number\": parseInt(team_number, 10)\n      });\n\n      document.getElementById(\"name\").value = \"\";\n      document.getElementById(\"tool\").value = \"\";\n      document.getElementById(\"team-number\").value = \"\";\n      document.getElementsByClassName(\"error-alert-div\")[0].style.display = \"none\";\n    } else {\n      alert(\"No current user\");\n    }\n  }\n\n  render() {\n    if (this.state.shouldRender) {\n      return (\n        <div>\n          <h2 style={{ textAlign: \"center\" }}>{this.state.team_number == null ? \"Loading...\" : \"Check Out Tool from Team \" + this.state.team_number + \":\"}</h2>\n          <form className=\"add-tool-container\" style={{ width: \"98%\", margin: \"1%\" }}>\n            <p>Name:</p><input className=\"form-control\" id=\"name\" placeholder=\"Name\" type=\"text\" />\n            <p>Tool:</p><input className=\"form-control\" id=\"tool\" placeholder=\"Tool\" type=\"text\" />\n            <p>Team Number:</p><input className=\"form-control\" id=\"team-number\" placeholder=\"Team Number\" type=\"number\" />\n            <div className=\"btn btn-primary add-tool-btn\" onClick={this.addTool}>Add Tool</div>\n          </form>\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}","import React, { Component } from 'react';\nimport AppState from '../state/AppState';\n\nexport default class PageNotFound extends Component {\n  constructor(props) {\n    super(props);\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  render() {\n    return (\n      <div>\n        <h1 style={{ textAlign: \"center\", marginTop: \"1%\" }}>404 Page Not Found:</h1>\n        <h3 style={{ textAlign: \"center\", marginTop: \"1%\" }}>This Page Does Not Exist</h3>\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport AppState from '../state/AppState';\n\nvar redirectURL = decodeURIComponent(((new RegExp('[?|&]redirect=([^&;]+?)(&|#|;|$)').exec(window.location.href) || [null, ''])[1].replace(/\\+/g, '%20')));\n\nexport default class SignedIn extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.firestore().settings({ timestampsInSnapshots: true });\n\n    this.createUser = this.createUser.bind(this);\n    this.state = { shouldRender: false, currentUser: null };\n\n    var instance = this;\n\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        firebase.firestore().collection('users').doc(user.uid).get().then(doc => {\n          if (doc.exists) {\n            window.location.href = redirectURL;\n          } else {\n            instance.setState({ currentUser: user });\n            instance.setState({ shouldRender: true });\n          }\n        });\n      } else {\n        window.location.href = process.env.PUBLIC_URL + \"/#/auth?redirect=\" + redirectURL;\n      }\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  createUser() {\n    var full_name = document.getElementById(\"full-name\").value !== \"\" ? document.getElementById(\"full-name\").value : this.state.currentUser.displayName;\n    var team_number = document.getElementById(\"team-number\").value;\n\n    if (full_name === \"\" || full_name === null || team_number === \"\") {\n      alert(\"Error: All fields must be filled.\");\n      return;\n    }\n\n    document.getElementsByClassName(\"error-alert-div\")[0].style.display = \"none\";\n    if (this.state.currentUser != null) {\n      firebase.firestore().collection('users').doc(this.state.currentUser.uid).set({\n        \"name\": full_name,\n        \"team\": team_number\n      });\n\n      this.state.currentUser.updateProfile({\n        displayName: full_name\n      }).then(function () {\n        window.location.href = redirectURL;\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }\n\n  render() {\n    if (this.state.shouldRender) {\n      return (\n        <div>\n          <form className=\"add-tool-container\" style={{ width: \"98%\", margin: \"1%\" }}>\n            <p>Full Name:</p><input className=\"form-control\" id=\"full-name\" placeholder={this.state.currentUser.displayName == null ? \"Full name\" : this.state.currentUser.displayName} type=\"text\" />\n            <p>Team Number:</p><input className=\"form-control\" id=\"team-number\" placeholder=\"Team Number\" type=\"number\" />\n            <div className=\"btn btn-primary add-tool-btn\" onClick={this.createUser}>Create User</div>\n          </form>\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n}","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport AppState from '../state/AppState';\n\nexport default class SignOut extends Component {\n  constructor(props) {\n    super(props);\n\n    firebase.auth().signOut().then(function () {\n      window.location.href = process.env.PUBLIC_URL;\n    }, function (error) {\n      console.error(error);\n    });\n\n    AppState.getInstance().setShowSettingsPane(false);\n    AppState.getInstance().setShowOtherSettings(false);\n  }\n\n  render() {\n    return (\n      <h1 className=\"sign-out-header\" style={{ textAlign: \"center\" }}>Signing you out now.</h1>\n    );\n  }\n}","import React, { Component } from 'react';\n// import Cache from '../storage/Cache';\n// import AppState from '../state/AppState';\n// import api from '../storage/api';\n\nexport default class StatisticsModal extends Component {\n  // constructor(props) {\n    // super(props);\n\n    // this.state = {\n    //   teamKey: this.props.teamKey,\n    //   eventKey: this.props.eventKey,\n    //   teamNickname: null,\n    //   rookieYear: null,\n    //   location: null,\n    //   eventRecord: null,\n    //   shown: false,\n    //   validProps: this.props.teamKey !== null && this.props.eventKey !== null\n    // };\n\n    // this.showModal();\n\n    // this.hideModal = this.hideModal.bind(this);\n  // }\n\n  // componentDidUpdate(prevProps) {\n  //   var newModal = false;\n  //   if (prevProps.teamKey !== this.props.teamKey) {\n  //     this.setState({ teamKey: this.props.teamKey, validProps: this.props.teamKey !== null && this.props.eventKey !== null });\n  //     newModal = true;\n  //   }\n\n  //   if (prevProps.eventKey !== this.props.eventKey) {\n  //     this.setState({ eventKey: this.props.eventKey, validProps: this.props.teamKey !== null && this.props.eventKey !== null });\n  //     newModal = true;\n  //   }\n\n  //   if (newModal) {\n  //     this.showModal();\n  //   }\n  // }\n\n  // async showModal() {\n  //   if (this.state.validProps) {\n  //     await this.populateStateFromTBA();\n  //     alert(\"Showing Modal For \" + this.props.teamKey + \" @ \" + this.props.eventKey);\n  //     this.setState({ shown: true });\n  //     document.body.classList.add(\"modal-open\");\n  //     var backdrop = document.createElement(\"div\");\n  //     backdrop.id = \"modal-backdrop\";\n  //     backdrop.classList.add(\"modal-backdrop\", \"fade\", \"show\");\n  //     document.body.appendChild(backdrop);\n  //   }\n  // }\n\n  // hideModal() {\n  //   this.setState({ shown: false });\n  //   document.body.classList.remove(\"modal-open\");\n  //   document.body.removeChild(document.getElementById(\"modal-backdrop\"));\n  // }\n\n  // async populateStateFromTBA() {\n  //   await api.pullStatisticsFromTBA(this.state.teamKey);\n  //   var cache = Cache.getInstance().get();\n  //   var event = AppState.getInstance().getEvent();\n  \n  //   if (cache.events == null || cache.events[event] == null || cache.events[event].teams == null || cache.events[event].teams[this.state.teamKey] == null) {\n  //     return;\n  //   }\n  //   console.log(\"b\")\n\n  //   this.setState({\n  //     teamNickname: cache.events[event].teams[this.state.teamKey].name,\n  //     rookieYear: cache.events[event].teams[this.state.teamKey].rookie_year,\n  //     location: cache.events[event].teams[this.state.teamKey].location,\n  //     eventRecord: cache.events[event].teams[this.state.teamKey].status\n  //   });\n  // }\n\n  render() {\n    // if (!this.state.validProps) {\n    //   return (<div></div>);\n    // }\n\n    return (\n      <div className={`modal fade`} id=\"statistics-modal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"statistics-modal-label\" aria-hidden={false}>\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">&nbsp;</h5>\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\" /*onClick={this.hideModal}*/>&times;</span>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <p><b>Rookie Year:</b> <span className=\"modal-rookie-year\"></span></p>\n              <p><b>Location:</b> <span className=\"modal-location\"></span></p>\n              <p><b>Event Record:</b> <span className=\"modal-event-status\"></span></p>\n              <p><b>TBA Profile:</b> <a className=\"modal-tba-profile\" target=\"_blank\" href=\"/\">&nbsp;</a></p>\n              <p className=\"robot-images-title\"><b>Robot Images:</b></p>\n              <div id=\"carouselExampleControls\" className=\"carousel slide\" data-ride=\"carousel\">\n                <div className=\"carousel-inner\">\n                </div>\n                <a className=\"carousel-control-prev\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"prev\">\n                  <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                  <span className=\"sr-only\">Previous</span>\n                </a>\n                <a className=\"carousel-control-next\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"next\">\n                  <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                  <span className=\"sr-only\">Next</span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import Home from './pages/Home';\nimport Auth from './pages/Auth';\nimport ToolsList from './pages/ToolsList';\nimport CreateNewTool from './pages/CreateNewTool';\nimport PageNotFound from './pages/PageNotFound';\nimport SignedIn from './pages/SignedIn';\nimport SignOut from './pages/SignOut';\nimport Statistics from './pages/Statistics';\n\nexport default [\n  {\n    path: '/',\n    component: Home,\n    exact: true\n  },\n  {\n    path: '/auth',\n    component: Auth,\n    exact: true\n  },\n  {\n    path: '/tools_list',\n    component: ToolsList,\n    exact: true\n  },\n  {\n    path: '/check_out_tool',\n    component: CreateNewTool,\n    exact: true\n  },\n  {\n    path: '/signed_in',\n    component: SignedIn,\n    exact: true\n  },\n  {\n    path: '/sign_out',\n    component: SignOut,\n    exact: true\n  },\n  {\n    path: '/stats',\n    component: Statistics,\n    exact: true\n  },\n  {\n    component: PageNotFound,\n    exact: true\n  },\n]","import React, { Component } from 'react';\nimport StatisticsModal from '../components/StatisticsModal';\nimport AppState from '../state/AppState';\nimport Cache from '../storage/Cache';\n\nexport default class Statistics extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sortStatistics = this.sortStatistics.bind(this);\n    // this.setStatisticsModalTeamNum = this.setStatisticsModalTeamNum.bind(this);\n\n    AppState.getInstance().setShowSettingsPane(true);\n    AppState.getInstance().setShowOtherSettings(false);\n\n    this.state = { modalTeamNumber: null };\n\n    var instance = this;\n    Cache.getInstance().getEventEmitter().on(\"dataChanged\", function () {\n      instance.forceUpdate();\n    });\n  }\n\n  // setStatisticsModalTeamNum(evt) {\n  //   this.setState({ modalTeamNumber: evt.currentTarget.dataset.teamnumber });\n  // }\n\n  showStatisticsModal(evt) {\n    var script = document.createElement(\"script\");\n    var scriptBody = document.createTextNode(`\n        showStatisticsModal(\"${AppState.getInstance().getEvent()}\", \"${evt.currentTarget.dataset.teamnumber}\");\n    `);\n    script.appendChild(scriptBody);\n    console.log(script);\n    document.getElementsByTagName('body')[0].appendChild(script);\n  }\n\n  // from w3 schools\n  sortStatistics(evt) {\n    if (document.readyState !== \"complete\") {\n      return;\n    }\n\n    var n = evt.currentTarget.dataset.sortindex;\n\n    var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;\n    table = document.getElementById(\"statistics\").getElementsByTagName(\"table\")[0];\n    if (table === null) {\n      return;\n    }\n\n    switching = true;\n    dir = \"asc\";\n    while (switching) {\n      switching = false;\n      rows = table.rows;\n      for (i = 1; i < (rows.length - 1); i++) {\n        shouldSwitch = false;\n        x = rows[i].getElementsByTagName(\"td\")[n];\n        y = rows[i + 1].getElementsByTagName(\"td\")[n];\n        if (dir === \"asc\") {\n          if (parseFloat(x.innerHTML) > parseFloat(y.innerHTML)) {\n            shouldSwitch = true;\n            break;\n          }\n        } else if (dir === \"desc\") {\n          if (parseFloat(x.innerHTML) < parseFloat(y.innerHTML)) {\n            shouldSwitch = true;\n            break;\n          }\n        }\n      }\n\n      if (shouldSwitch) {\n        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n        switching = true;\n        switchcount++;\n      } else {\n        if (switchcount === 0 && dir === \"asc\") {\n          dir = \"desc\";\n          switching = true;\n        }\n      }\n    }\n  }\n\n  render() {\n    var event = AppState.getInstance().getEvent();\n    var cache = Cache.getInstance().get();\n\n    var body;\n    if (!event) {\n      body = <h1 style={{ textAlign: \"center\" }}>No Event Selected</h1>;\n    } else if (cache.events[event] == null || cache.events[event].rankings == null\n      || cache.events[event].rankings.rankings == null || cache.events[event].rankings.rankings.length === 0) {\n      body = <h1 style={{ textAlign: \"center\" }}>No Statistics</h1>;\n    } else {\n      var data = cache.events[event].rankings.rankings;\n\n      var rows = [];\n      for (var ranking in data) {\n        var extra_stat = cache.events[event].rankings.extra_stats_info[0] ?\n          <td>{data[ranking].extra_stats[0] ?\n            (data[ranking].extra_stats[0] === parseInt(data[ranking].extra_stats[0]) ? data[ranking].extra_stats[0] : data[ranking].extra_stats[0].toFixed(3)) :\n            \"N/A\"}</td> :\n          <React.Fragment></React.Fragment>;\n        var stats = [];\n        for (var stat in cache.events[event].rankings.sort_order_info) {\n          if (data[ranking].sort_orders[stat] === parseInt(data[ranking].sort_orders[stat])) {\n            stats.push(<td key={stat}>{data[ranking].sort_orders[stat]}</td>);\n          } else {\n            stats.push(<td key={stat}>{data[ranking].sort_orders[stat].toFixed(3)}</td>);\n          }\n        }\n\n        var team_key_valid = data[ranking].team_key.substring(3) === parseInt(data[ranking].team_key.substring(3)).toString();\n        rows.push(\n          <tr key={ranking}>\n            <td>{data[ranking].rank}</td>\n            <td>{data[ranking].team_key.substring(3)}</td>\n            {stats}\n            <td>{data[ranking].record != null ? data[ranking].record.wins + \"-\" + data[ranking].record.losses + \"-\" + data[ranking].record.ties : \"N/A\"}</td>\n            <td>{data[ranking].dq}</td>\n            <td>{data[ranking].matches_played}</td>\n            {extra_stat}\n            <td>\n              <button className={\"btn \" + (team_key_valid ? \"btn-primary\" : \"btn-secondary\")} disabled={!team_key_valid} onClick={this.showStatisticsModal} data-teamnumber={team_key_valid ? data[ranking].team_key : null}>\n                {team_key_valid ? \"View Team Info\" : \"Invalid Team #\"}\n              </button>\n            </td>\n          </tr>);\n      }\n\n      var stat_infos = [];\n      var stat_sort_index = 2;\n      for (var stat_info in cache.events[event].rankings.sort_order_info) {\n        stat_infos.push(<th onClick={this.sortStatistics} data-sortindex={stat_sort_index} key={stat_info}>{cache.events[event].rankings.sort_order_info[stat_info].name} <i className=\"fas fa-sort\"></i></th>);\n        stat_sort_index++;\n      }\n\n      var extra_stats_info = cache.events[event].rankings.extra_stats_info[0] ? <th onClick={this.sortStatistics} data-sortindex={stat_sort_index + 3}>{cache.events[event].rankings.extra_stats_info[0].name} <i className=\"fas fa-sort\"></i></th> : <React.Fragment></React.Fragment>;\n\n      body = <table className=\"table table-striped table-bordered\">\n        <thead>\n          <tr>\n            <th onClick={this.sortStatistics} data-sortindex={0}>Rank <i className=\"fas fa-sort\"></i></th>\n            <th onClick={this.sortStatistics} data-sortindex={1}>Team <i className=\"fas fa-sort\"></i></th>\n            {stat_infos}\n            <th>Record (W-L-T)</th>\n            <th onClick={this.sortStatistics} data-sortindex={stat_sort_index + 1}>DQ <i className=\"fas fa-sort\"></i></th>\n            <th onClick={this.sortStatistics} data-sortindex={stat_sort_index + 2}>Played <i className=\"fas fa-sort\"></i></th>\n            {extra_stats_info}\n            <th>View Team Info</th>\n          </tr>\n        </thead>\n        <tbody>{rows}</tbody>\n      </table>\n    }\n\n    return (\n      <div>\n        <div className=\"statistics\" id=\"statistics\">\n          {body}\n        </div>\n        <StatisticsModal />\n      </div>\n    );\n  }\n}","import React, { Component } from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport routes from '../routes.js'\n\nexport default class Main extends Component {\n  render() {\n    var routesJSX = [];\n    routesJSX = routes.map(({ path, component, exact }, i) =>\n      <Route key={i} exact={exact} path={path} component={component} />\n    );\n\n    return (\n      <main role=\"main\">\n        <HashRouter basename={process.env.PUBLIC_URL} hashType={\"slash\"}>\n          <Switch>\n            {routesJSX}\n          </Switch>\n        </HashRouter>\n        <div className=\"error-alert-div\" style={{ display: \"none\" }}><div className=\"btn btn-danger btn-lg error-alert\"></div></div>\n      </main>\n    );\n  }\n}","import React, { Component } from 'react';\n\nexport default class Footer extends Component {\n  render() {\n    return (\n        <div className=\"footer\">\n          <p>Copyright (c) 2018-{(new Date()).getFullYear()} <a target=\"_blank\" href=\"https://sumigovindaraju.github.io/\" rel=\"noopener noreferrer\">SumiGovindaraju</a>. Powered by <a target=\"_blank\" href=\"https://reactjs.org/\" rel=\"noopener noreferrer\">React</a>, <a target=\"_blank\" href=\"https://www.thebluealliance.com/\" rel=\"noopener noreferrer\">The Blue Alliance</a>, <a target=\"_blank\" href=\"https://firebase.google.com/\" rel=\"noopener noreferrer\">Firebase</a>, and <a target=\"_blank\" href=\"https://pages.github.com/\" rel=\"noopener noreferrer\">GitHub Pages</a>.</p>\n        </div>\n    );\n  }\n}","import Cache from \"./Cache\";\nimport AppState from \"../state/AppState\";\n\nconst TBA_BASE_URL = \"https://www.thebluealliance.com/api/v3\";\nconst X_TBA_Auth_Key = \"83kBcUgRuDvJ1XLVXpB2ROeuRAzHoWpX9IRiWkRuwv8B9CryAlc3izY3ZXVOD4Hm\";\n\nvar FETCH_CONFIG = {\n    method: \"GET\",\n    headers: {\n        \"X-TBA-Auth-Key\": X_TBA_Auth_Key\n    },\n};\n\nasync function verifyTeamInEvent(team, event) {\n    if (!event || AppState.getInstance().getTeamEventVerified() !== undefined) {\n        return;\n    }\n\n    var cache = Cache.getInstance().get();\n    if (cache.events != null && cache.events[event] != null) {\n        if ((team && cache.events[event].teams[team] == null) && !navigator.onLine) {\n            alert(\"Team data not cached. FRC Pit is offline.\");\n            return;\n        }\n\n        AppState.getInstance().setTeamEventVerified(true);\n        return;\n    } else if (!navigator.onLine) {\n        alert(\"Event data not cached. FRC Pit is offline.\");\n        return;\n    }\n\n    var promises = [];\n    var ret_val;\n    promises.push(fetch(TBA_BASE_URL + (team ? \"/team/\" + team : \"\") + \"/events/\" + event.substring(0, 4), FETCH_CONFIG)\n        .then(res => res.json())\n        .then((result) => {\n            for (var i in result) {\n                if (result[i].key === event) {\n                    ret_val = true;\n                    return;\n                }\n            }\n\n            alert(team ? \"Team is not in event\" : \"Event does not exist\");\n            ret_val = false;\n        }).catch((error) => {\n            if (error.message !== \"TypeError: Failed To Fetch\") {\n                alert(\"FRC Pit is Offline\")\n            } else {\n                alert(team ? \"Team is not in event\" : \"Event does not exist\");\n            }\n            ret_val = false;\n        }));\n\n    await Promise.all(promises);\n\n    AppState.getInstance().setTeamEventVerified(ret_val);\n}\n\nexport async function pullFromTBA() {\n    var promises = [];\n    var cache_instance = Cache.getInstance();\n    var cache = cache_instance.get();\n\n    // list of events\n    promises.push(fetch(TBA_BASE_URL + \"/events/\" + (new Date()).getFullYear() + \"/simple\", FETCH_CONFIG)\n        .then(res => res.json())\n        .then((result) => {\n            cache.events.list = [];\n\n            for (var i in result) {\n                var end_of_event_date = new Date();\n                end_of_event_date.setFullYear(result[i].end_date.substring(0, 4));\n                end_of_event_date.setMonth(parseInt(result[i].end_date.substring(5, 7)) - 1);\n                end_of_event_date.setDate(result[i].end_date.substring(8, 10));\n\n                if (new Date() <= end_of_event_date) {\n                    cache.events.list.push(result[i]);\n                }\n            }\n\n            cache_instance.set(cache);\n            cache_instance.sendEventListChangedEvent();\n        }).catch((error) => {\n            console.error(error);\n        }));\n\n    var team = AppState.getInstance().getTeam();\n    var event = AppState.getInstance().getEvent();\n    var showWebcasts = AppState.getInstance().getShowWebcasts();\n\n    await verifyTeamInEvent(team, event);\n    if (!event || !AppState.getInstance().getTeamEventVerified()) {\n        await Promise.all(promises);\n        return;\n    }\n\n    if (cache.events[event] === undefined) {\n        cache.events[event] = { \"teams\": {}, \"awards\": {}, \"rankings\": {}, \"matches\": {}, \"webcasts\": {}, \"statistics\": {}, \"last_updated\": (new Date()).toUTCString() };\n    }\n\n    if (team) {\n        if (cache.events[event].teams[team] === undefined) {\n            cache.events[event].teams[team] = { \"awards\": {}, \"matches\": {}, \"photos\": [], \"name\": \"\", \"rookie_year\": 0, \"status\": \"\", \"location\": \"\" };\n        }\n        // awards (team specific)\n        promises.push(fetch(TBA_BASE_URL + \"/team/\" + team + \"/event/\" + event + \"/awards\", FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                cache.events[event].teams[team].awards = result;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n            }).catch((error) => {\n                console.error(error);\n            }));\n\n        // matches (countdown and schedule) (team specific)\n        promises.push(fetch(TBA_BASE_URL + \"/team/\" + team + \"/event/\" + event + \"/matches\", FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                cache.events[event].teams[team].matches = result;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n            }).catch((error) => {\n                console.error(error);\n            }));\n    } else {\n        // awards (event)\n        promises.push(fetch(TBA_BASE_URL + \"/event/\" + event + \"/awards\", FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                cache.events[event].awards = result;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n            }, (error) => {\n                console.error(error);\n            }));\n\n        // matches (countdown and schedule) (event)\n        promises.push(fetch(TBA_BASE_URL + \"/event/\" + event + \"/matches\", FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                cache.events[event].matches = result;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n            }).catch((error) => {\n                console.error(error);\n            }));\n    }\n\n    // rankings\n    promises.push(fetch(TBA_BASE_URL + \"/event/\" + event + \"/rankings\", FETCH_CONFIG)\n        .then(res => res.json())\n        .then((result) => {\n            cache.events[event].rankings = result;\n            cache.events[event].last_updated = (new Date()).toUTCString();\n            cache_instance.set(cache);\n        }).catch((error) => {\n            console.error(error);\n        }));\n\n    // webcasts\n    if (showWebcasts) {\n        promises.push(fetch(TBA_BASE_URL + \"/event/\" + event, FETCH_CONFIG)\n            .then(res => res.json())\n            .then((result) => {\n                if (result == null || result.webcasts == null) {\n                    throw new Error(\"Webcast API call returns null\");\n                }\n\n                cache.events[event].webcasts = result.webcasts;\n                cache.events[event].last_updated = (new Date()).toUTCString();\n                cache_instance.set(cache);\n                cache_instance.sendUpdatedWebcastsEvent();\n            }).catch((error) => {\n                console.error(error);\n            }));\n    }\n\n    await Promise.all(promises);\n}\n\nexport default { pullFromTBA }","import React, { Component } from 'react';\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport Footer from './components/Footer';\nimport api from './storage/api';\n\nclass App extends Component {\n  componentDidMount() {\n    api.pullFromTBA();\n\n    setInterval(function () {\n      api.pullFromTBA();\n    }, 120000);\n\n    var isOnline = navigator.onLine;\n    setInterval(function () {\n      if (navigator.onLine && !isOnline) {\n        api.pullFromTBA();\n      }\n\n      isOnline = navigator.onLine;\n    }, 100);\n  }\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <Main />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import firebase from 'firebase/app';\n\nexport default function initFirebase() {\n    if (!firebase.apps.length) {\n        firebase.initializeApp({\n            apiKey: 'AIzaSyBbB47QbfJXsEViiCqwYUjWQLw0KNpROCc',\n            authDomain: 'frc-pit-5cb1f.firebaseapp.com',\n            databaseURL: \"https://frc-pit-5cb1f.firebaseio.com\",\n            projectId: \"frc-pit-5cb1f\"\n        });\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/bootstrap.min.css';\nimport './css/fontawesome-all.min.css';\nimport './css/style.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport initFirebase from './util/initFirebase';\n\ninitFirebase();\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();"],"sourceRoot":""}