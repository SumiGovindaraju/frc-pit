(this["webpackJsonpfrc-pit"]=this["webpackJsonpfrc-pit"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(24),c=n.n(r),i=(n(32),n(33),n(34),n(3)),l=n(4),o=n(6),d=n(5),u=n(7),h=n(1),m=n.n(h),b=(n(10),n(15)),j=function(){function e(){Object(i.a)(this,e),this.team=!1,this.event=!1,this.showWebcasts=!0,this.teamEventVerified=void 0,this.showSettingsPane=!1,this.showOtherSettings=!1,this.eventEmitter=new b.EventEmitter,this.populateStateFromURLVars()}return Object(l.a)(e,[{key:"getTeam",value:function(){return this.team}},{key:"getEvent",value:function(){return this.event}},{key:"getShowWebcasts",value:function(){return this.showWebcasts}},{key:"getTeamEventVerified",value:function(){return this.teamEventVerified}},{key:"getShowSettingsPane",value:function(){return this.showSettingsPane}},{key:"getShowOtherSettings",value:function(){return this.showOtherSettings}},{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"setTeam",value:function(e){this.team=e,this.eventEmitter.emit("appStateChanged")}},{key:"setEvent",value:function(e){this.event=e,this.eventEmitter.emit("appStateChanged")}},{key:"setShowWebcasts",value:function(e){this.showWebcasts=e,this.eventEmitter.emit("appStateChanged")}},{key:"setTeamEventVerified",value:function(e){this.teamEventVerified=e,this.eventEmitter.emit("appStateChanged")}},{key:"setShowSettingsPane",value:function(e){this.showSettingsPane=e,this.eventEmitter.emit("appStateChanged")}},{key:"setShowOtherSettings",value:function(e){this.showOtherSettings=e,this.eventEmitter.emit("appStateChanged")}},{key:"getUrlVars",value:function(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,n,a){e[n]=a})),e}},{key:"populateStateFromURLVars",value:function(){this.setTeam(void 0!==this.getUrlVars().team&&this.getUrlVars().team),this.setEvent(void 0!==this.getUrlVars().event&&this.getUrlVars().event),this.setShowWebcasts(void 0===this.getUrlVars().showWebcasts||JSON.parse(this.getUrlVars().showWebcasts))}}],[{key:"getInstance",value:function(){return void 0===this.instance&&(this.instance=new e),this.instance}}]),e}(),v=n(36),g="The Blue Alliance API Cache",f=function(){function e(){Object(i.a)(this,e);var t=localStorage.getItem(g);this.data=null===t?{events:{list:[]}}:JSON.parse(t),this.eventEmitter=new b.EventEmitter,this.reduceSize(),this.sendDataChangedEvent()}return Object(l.a)(e,[{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"writeToLocalStorage",value:function(){localStorage.setItem(g,JSON.stringify(this.data))}},{key:"get",value:function(){return this.data}},{key:"set",value:function(e){this.data=e,this.writeToLocalStorage(),this.sendDataChangedEvent()}},{key:"size",value:function(){return v(this.data)}},{key:"deleteLastUpdatedEvent",value:function(){var e=null,t=new Date;for(var n in this.data.events)new Date(this.data.events[n].last_updated)<t&&(e=n,t=new Date(this.data.events[n].last_updated));null!==e&&delete this.data.events[e]}},{key:"reduceSize",value:function(){for(;this.size()>35e5;)this.deleteLastUpdatedEvent()}},{key:"sendDataChangedEvent",value:function(){this.eventEmitter.emit("dataChanged")}},{key:"sendUpdatedWebcastsEvent",value:function(){this.eventEmitter.emit("webcastsUpdated")}},{key:"sendEventListChangedEvent",value:function(){this.eventEmitter.emit("eventListChanged")}}],[{key:"getInstance",value:function(){return void 0===this.instance&&(this.instance=new e),this.instance}}]),e}(),p=n(0),O=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e),m.a.auth().onAuthStateChanged((function(e){if(e&&e.displayName){var t=document.createElement("li");t.classList.add("nav-item");var n=document.createElement("a");n.classList.add("nav-link"),n.classList.add("sign-out");var a=document.createAttribute("data-toggle");a.value="tooltip",n.attributes.setNamedItem(a);var s=document.createAttribute("data-placement");s.value="bottom",n.attributes.setNamedItem(s);var r=document.createAttribute("title");r.value="Sign out "+e.displayName,n.attributes.setNamedItem(r),n.innerHTML="Sign out",n.href="/frc-pit/#/sign_out",t.appendChild(n),document.getElementsByClassName("sign-out-ul")[0].appendChild(t)}}));var s=Object(u.a)(a);j.getInstance().getEventEmitter().on("appStateChanged",(function(){s.forceUpdate()}));var r=!1;return f.getInstance().getEventEmitter().on("eventListChanged",(function(){r||(s.forceUpdate(),r=!0)})),a.setTeamNumberAndEvent=a.setTeamNumberAndEvent.bind(Object(u.a)(a)),a.toggleWebcast=a.toggleWebcast.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"setTeamNumberAndEvent",value:function(){var e=document.getElementsByClassName("settings-event")[0].value;if(e){var t=""!==document.getElementsByClassName("settings-team")[0].value&&"frc"+document.getElementsByClassName("settings-team")[0].value,n=j.getInstance().getShowWebcasts();window.location.href=window.location.href.split("?")[0]+"?event="+e+(t?"&team="+t:"")+"&showWebcasts="+n,window.location.reload()}else alert("Event field is required",!0)}},{key:"toggleWebcast",value:function(){var e=j.getInstance().getEvent(),t=j.getInstance().getTeam(),n=j.getInstance().getShowWebcasts();window.location.href=window.location.href.split("?")[0]+"?event="+e+(t?"&team="+t:"")+"&showWebcasts="+!n,window.location.reload()}},{key:"render",value:function(){var e=j.getInstance().getShowSettingsPane(),t=j.getInstance().getShowOtherSettings(),n=j.getInstance().getEvent(),a=j.getInstance().getTeam(),s=f.getInstance().get(),r=[];if(void 0!==s.events||void 0!==s.events.list||0!==s.events.list.length){var c=s.events.list;for(var i in c)r.push(Object(p.jsxs)("option",{value:c[i].key,children:[c[i].name," (",c[i].key,")"]},c[i].key))}return 0===r.length&&r.push(Object(p.jsx)("option",{disabled:!0,children:"No Upcoming Events"})),Object(p.jsx)("header",{children:Object(p.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(p.jsx)("a",{className:"navbar-brand",href:"/frc-pit",children:"FRC Pit"}),Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(p.jsxs)("ul",{className:"navbar-nav",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsxs)("a",{className:"nav-link",href:"/frc-pit",children:[Object(p.jsx)("i",{className:"fa fa-home","aria-hidden":"true"})," Home"]})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsxs)("a",{className:"nav-link",href:"/frc-pit/#/tools_list",children:[Object(p.jsx)("i",{className:"fa fa-wrench","aria-hidden":"true"})," Tools List"]})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsxs)("a",{className:"nav-link",href:"/frc-pit/#/check_out_tool",children:[Object(p.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})," Check Out Tool"]})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsxs)("a",{className:"nav-link",href:"/frc-pit/#/stats",children:[Object(p.jsx)("i",{className:"fa fa-chart-area","aria-hidden":"true"})," Stats"]})})]}),Object(p.jsxs)("form",{className:"form-inline settings",children:[Object(p.jsx)("select",{className:"form-control mr-sm-2 settings-event",style:{display:e?"block":"none"},defaultValue:n||"",children:r}),Object(p.jsx)("input",{className:"form-control mr-sm-2 settings-team",placeholder:"Team Number",type:"number",style:{display:t?"block":"none"},defaultValue:t&&a?parseInt(a.substring(3)):""}),Object(p.jsx)("input",{type:"button",className:"btn btn-success set-team-number-and-event-btn my-2 my-sm-0",value:"\u2713",onClick:this.setTeamNumberAndEvent,style:{display:e?"block":"none"}}),Object(p.jsx)("input",{type:"button",className:"btn btn-secondary disable-webcast-button my-2 my-sm-0",value:"Toggle Webcasts",style:{display:t?"block":"none",marginLeft:"5px"},onClick:this.toggleWebcast})]}),Object(p.jsx)("ul",{className:"navbar-nav ml-auto sign-out-ul"})]})]})})}}]),n}(a.Component),x=n(61),k=n(60),y=n(62);var w={getMatchTimeInMS:function(e){return void 0!==e.actual_time&&null!==e.actual_time?1e3*e.actual_time:void 0!==e.predicted_time&&null!==e.predicted_time?1e3*e.predicted_time:1e3*e.time},days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},N={2016:[{index:"teleopDefensesBreached",name:"Defenses Breached"},{index:"teleopTowerCaptured",name:"Tower Captured"}],2017:[{index:"kPaRankingPointAchieved",name:"Pressure Reached"},{index:"rotorRankingPointAchieved",name:"All Rotors Engaged"}],2018:[{index:"autoQuestRankingPoint",name:"Auto Quest"},{index:"faceTheBossRankingPoint",name:"Face the Boss"}],2019:[{index:"completeRocketRankingPoint",name:"Complete Rocket"},{index:"habDockingRankingPoint",name:"HAB Docking"}],2020:[{index:"shieldOperationalRankingPoint",name:"Shield Operational"},{index:"shieldEnergizedRankingPoint",name:"Shield Energized"}]},S=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,null,[{key:"getBonusRankingPoint1",value:function(e){return null!=N[e]?N[e][0]:-1}},{key:"getBonusRankingPoint2",value:function(e){return null!=N[e]?N[e][1]:-1}}]),e}(),_=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var s=Object(u.a)(a);return f.getInstance().getEventEmitter().on("dataChanged",(function(){s.forceUpdate()})),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.sortSchedule()}},{key:"componentDidUpdate",value:function(){this.sortSchedule()}},{key:"render",value:function(){var e,t=j.getInstance().getTeam(),n=j.getInstance().getEvent(),a=f.getInstance().get(),r=S.getBonusRankingPoint1(n.substring(0,4)).index,c=S.getBonusRankingPoint1(n.substring(0,4)).name,i=S.getBonusRankingPoint2(n.substring(0,4)).index,l=S.getBonusRankingPoint2(n.substring(0,4)).name;if(null==a.events[n]||null==a.events[n].matches||0===a.events[n].matches.length||t&&(null==a.events[n].teams[t]||null==a.events[n].teams[t].matches||0===a.events[n].teams[t].matches.length))e=Object(p.jsx)("h1",{children:"No Schedule"});else{var o=t?a.events[n].teams[t].matches:a.events[n].matches,d=[];for(var u in o)if(!t||o[u].alliances.red.team_keys.includes(t.toString())||o[u].alliances.blue.team_keys.includes(t.toString())){var h;if(o[u].alliances.red.score>=0&&o[u].alliances.blue.score>=0){var m=null!=o[u].score_breakdown;h=Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)("td",{className:"red-score ".concat("red"===o[u].winning_alliance?"winner":""," ").concat(o[u].alliances.red.team_keys.includes(t)?"current-team":""),"data-toggle":"tooltip","data-placement":"top",title:"".concat(m&&o[u].score_breakdown.red[r]?c:"").concat(m&&o[u].score_breakdown.red[r]&&o[u].score_breakdown.red[i]?" & ":"").concat(m&&o[u].score_breakdown.red[i]?l:""),children:o[u].alliances.red.score}),Object(p.jsx)("td",{className:"blue-score ".concat("blue"===o[u].winning_alliance?"winner":""," ").concat(o[u].alliances.blue.team_keys.includes(t)?"current-team":""),"data-toggle":"tooltip","data-placement":"top",title:"".concat(m&&o[u].score_breakdown.blue[r]?c:"").concat(m&&o[u].score_breakdown.blue[r]&&o[u].score_breakdown.blue[i]?" & ":"").concat(m&&o[u].score_breakdown.blue[i]?l:""),children:o[u].alliances.blue.score})]})}else{var b=new Date(w.getMatchTimeInMS(o[u]));h=Object(p.jsx)("td",{colSpan:"2",children:Object(p.jsxs)("time",{dateTime:b.toISOString(),children:[w.days[b.getDay()],", ",b.toLocaleTimeString().replace(/:\d{2}\s/," ")]})})}d.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"qm"===o[u].comp_level?"Quals "+o[u].match_number:"qf"===o[u].comp_level?"Quarters "+o[u].set_number+" Match "+o[u].match_number:"sf"===o[u].comp_level?"Semis "+o[u].set_number+" Match "+o[u].match_number:"Finals "+o[u].match_number}),Object(p.jsx)("td",{className:"red ".concat(o[u].alliances.red.team_keys[0]===t?"current-team":""," ").concat(o[u].alliances.red.dq_team_keys.includes(o[u].alliances.red.team_keys[0])?"strike":""),children:o[u].alliances.red.team_keys[0].substring(3)}),Object(p.jsx)("td",{className:"red ".concat(o[u].alliances.red.team_keys[1]===t?"current-team":""," ").concat(o[u].alliances.red.dq_team_keys.includes(o[u].alliances.red.team_keys[1])?"strike":""),children:o[u].alliances.red.team_keys[1].substring(3)}),Object(p.jsx)("td",{className:"red ".concat(o[u].alliances.red.team_keys[2]===t?"current-team":""," ").concat(o[u].alliances.red.dq_team_keys.includes(o[u].alliances.red.team_keys[2])?"strike":""),children:o[u].alliances.red.team_keys[2].substring(3)}),Object(p.jsx)("td",{className:"blue ".concat(o[u].alliances.blue.team_keys[0]===t?"current-team":""," ").concat(o[u].alliances.blue.dq_team_keys.includes(o[u].alliances.blue.team_keys[0])?"strike":""),children:o[u].alliances.blue.team_keys[0].substring(3)}),Object(p.jsx)("td",{className:"blue ".concat(o[u].alliances.blue.team_keys[1]===t?"current-team":""," ").concat(o[u].alliances.blue.dq_team_keys.includes(o[u].alliances.blue.team_keys[1])?"strike":""),children:o[u].alliances.blue.team_keys[1].substring(3)}),Object(p.jsx)("td",{className:"blue ".concat(o[u].alliances.blue.team_keys[2]===t?"current-team":""," ").concat(o[u].alliances.blue.dq_team_keys.includes(o[u].alliances.blue.team_keys[2])?"strike":""),children:o[u].alliances.blue.team_keys[2].substring(3)}),h]},u))}e=Object(p.jsxs)("table",{className:"table table-bordered",id:"schedule-table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Match"}),Object(p.jsx)("th",{colSpan:"3",children:"Red Alliance"}),Object(p.jsx)("th",{colSpan:"3",children:"Blue Alliance"}),Object(p.jsx)("th",{colSpan:"2",children:"Scores"})]})}),Object(p.jsx)("tbody",{children:d})]})}return Object(p.jsx)("div",{className:"tab-pane fade show active schedule",id:"schedule",role:"tabpanel",children:e})}},{key:"sortSchedule",value:function(){var e,t,n,a,s,r,c;if(null!==(e=document.getElementById("schedule-table")))for(n=!0;n;){for(n=!1,t=e.getElementsByTagName("tr"),a=1;a<t.length-1;a++)if(c=!1,s=t[a].getElementsByTagName("td")[0],r=t[a+1].getElementsByTagName("td")[0],1===this.sortScheduleCompare(s.innerHTML,r.innerHTML)){c=!0;break}c&&(t[a].parentNode.insertBefore(t[a+1],t[a]),n=!0)}}},{key:"sortScheduleCompare",value:function(e,t){var n,a,s,r;return e.startsWith("Quals")?n=0:e.startsWith("Quarters")?n=1:e.startsWith("Semis")?n=2:e.startsWith("Finals")&&(n=3),t.startsWith("Quals ")?a=0:t.startsWith("Quarters ")?a=1:t.startsWith("Semis ")?a=2:t.startsWith("Finals")&&(a=3),n!==a?n>a?1:-1:0===n&&0===a?(s=parseInt(e.substring(6)))>(r=parseInt(t.substring(6)))?1:s<r?-1:0:1===n&&1===a?(s=parseInt(e.substring(17)))>(r=parseInt(t.substring(17)))?1:s<r?-1:0:2===n&&2===a?(s=parseInt(e.substring(14)))>(r=parseInt(t.substring(14)))?1:s<r?-1:0:e>t?1:e<t?-1:0}}]),n}(a.Component),E=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var s=Object(u.a)(a);return f.getInstance().getEventEmitter().on("dataChanged",(function(){s.forceUpdate()})),a}return Object(l.a)(n,[{key:"render",value:function(){var e,t=j.getInstance().getTeam(),n=j.getInstance().getEvent(),a=f.getInstance().get();if(null==a.events[n]||null==a.events[n].rankings||null==a.events[n].rankings.rankings||0===a.events[n].rankings.rankings.length)e=Object(p.jsx)("h1",{children:"No Rankings"});else{var s=a.events[n].rankings.rankings,r=[];for(var c in s){var i=null!=s[c].record;r.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:s[c].team_key===t?"current-team":"",children:s[c].rank}),Object(p.jsx)("td",{className:s[c].team_key===t?"current-team":"",children:s[c].team_key.substring(3)}),Object(p.jsx)("td",{className:s[c].team_key===t?"current-team":"",children:s[c].sort_orders[0].toFixed(3)}),Object(p.jsx)("td",{className:s[c].team_key===t?"current-team":"",children:i?"".concat(s[c].record.wins,"-").concat(s[c].record.losses,"-").concat(s[c].record.ties):"N/A"}),Object(p.jsx)("td",{className:s[c].team_key===t?"current-team":"",children:s[c].matches_played}),Object(p.jsx)("td",{className:s[c].team_key===t?"current-team":"",children:s[c].extra_stats[0]})]},c))}e=Object(p.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Rank"}),Object(p.jsx)("th",{children:"Team"}),Object(p.jsx)("th",{children:"Ranking Score"}),Object(p.jsx)("th",{children:"Record (W-L-T)"}),Object(p.jsx)("th",{children:"Played"}),Object(p.jsx)("th",{children:"Total RP"})]})}),Object(p.jsx)("tbody",{children:r})]})}return Object(p.jsx)("div",{className:"tab-pane fade rankings",id:"rankings",role:"tabpanel",children:e})}}]),n}(a.Component),I=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"schedule-rankings",children:[Object(p.jsxs)("ul",{className:"nav nav-tabs",role:"tablist",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"nav-link active","data-toggle":"tab",href:"#schedule",role:"tab",children:"Schedule"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"nav-link","data-toggle":"tab",href:"#rankings",role:"tab",children:"Rankings"})})]}),Object(p.jsxs)("div",{className:"tab-content",children:[Object(p.jsx)(_,{}),Object(p.jsx)(E,{})]})]})}}]),n}(a.Component),C=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var s=Object(u.a)(a),r=!1;return f.getInstance().getEventEmitter().on("webcastsUpdated",(function(){r||(s.forceUpdate(),r=!0)})),a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){null!==document.querySelector(".webcasts ul li")&&(document.querySelector(".webcasts ul li").firstChild.classList.add("active"),document.querySelector(".webcasts .tab-content .tab-pane").classList.add("show","active"),document.querySelectorAll(".webcasts .tab-content .tab-pane iframe").forEach((function(e){return e.width=document.getElementsByClassName("webcasts")[0].clientWidth})),document.querySelectorAll(".webcasts .tab-content .tab-pane iframe").forEach((function(e){return e.height=document.getElementsByClassName("webcasts")[0].clientHeight-80})))}},{key:"render",value:function(){var e,t=j.getInstance().getEvent(),n=j.getInstance().getShowWebcasts(),a=f.getInstance().get();if(n)if(navigator.onLine)if(null==a.events[t]||null==a.events[t].webcasts||0===a.events[t].webcasts.length)e=Object(p.jsx)("h1",{children:"No Webcasts"});else{var s=a.events[t].webcasts,r=[],c=[];for(var i in s)"twitch"!==s[i].type&&"youtube"!==s[i].type||(r.push(Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsxs)("a",{className:"nav-link","data-toggle":"tab",href:"#webcast-"+(parseInt(i)+1),role:"tab",children:["Webcast ",parseInt(i)+1]})},i)),c.push(Object(p.jsx)("div",{className:"tab-pane fade",id:"webcast-"+(parseInt(i)+1),role:"tabpanel",children:Object(p.jsx)("iframe",{title:i,src:("twitch"===s[i].type?"//player.twitch.tv/?parent=sumigovindaraju.github.io&channel=":"//www.youtube.com/embed/")+s[i].channel,frameBorder:"none",scrolling:"none",allowFullScreen:!0})},i)));e=Object(p.jsxs)("div",{children:[Object(p.jsx)("ul",{className:"nav nav-tabs",role:"tablist",children:r}),Object(p.jsx)("div",{className:"tab-content",children:c})]})}else e=Object(p.jsx)("h1",{children:"Offline: Cannot Access Webcasts"});else e=Object(p.jsx)("h1",{children:"Webcasts Disabled"});return Object(p.jsx)("div",{className:"webcasts",children:e})}}]),n}(a.Component),T=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var s=Object(u.a)(a);return f.getInstance().getEventEmitter().on("dataChanged",(function(){s.forceUpdate()})),a}return Object(l.a)(n,[{key:"render",value:function(){var e,t=j.getInstance().getTeam(),n=j.getInstance().getEvent(),a=f.getInstance().get();if(null==a.events[n]||null==a.events[n].awards||0===a.events[n].awards.length||t&&(null==a.events[n].teams[t]||null==a.events[n].teams[t].awards||0===a.events[n].teams[t].awards.length))e=Object(p.jsx)("h1",{children:"No Awards"});else{var s=t?a.events[n].teams[t].awards:a.events[n].awards,r=[];for(var c in s)t?r.push(Object(p.jsxs)("li",{children:[s[c].name," ",s[c].recipient_list.map((function(e){return e.team_key===t&&null!==e.awardee&&""!==e.awardee?"("+e.awardee+")":""})).join("")]},c)):r.push(Object(p.jsxs)("li",{children:[s[c].name," (",s[c].recipient_list.map((function(e){return null!==e.awardee&&""!==e.awardee?e.awardee:null!=e.team_key&&e.team_key.length>2?e.team_key.substring(3):"--"})).join(", "),")"]},c));e=Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Awards"}),Object(p.jsx)("ul",{children:r})]})}return Object(p.jsx)("div",{className:"awards",children:e})}}]),n}(a.Component),R=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var s=Object(u.a)(a);return f.getInstance().getEventEmitter().on("dataChanged",(function(){s.forceUpdate()})),a.state={nextMatchNameTime:null,nextMatchName:null,nextMatchBumperColor:"black"},a.updateCountdown=a.updateCountdown.bind(Object(u.a)(a)),setInterval(a.updateCountdown,1e3),a}return Object(l.a)(n,[{key:"updateCountdown",value:function(){var e=j.getInstance().getTeam(),t=j.getInstance().getEvent(),n=f.getInstance().get(),a=Number.MAX_VALUE,s=null,r=null;if(null!=n.events[t]&&null!=n.events[t].matches&&0!==n.events[t].matches.length&&(!e||null!=n.events[t].teams[e]&&null!=n.events[t].teams[e].matches&&0!==n.events[t].teams[e].matches.length)){var c=e?n.events[t].teams[e].matches:n.events[t].matches;for(var i in c)new Date<new Date(w.getMatchTimeInMS(c[i]))&&w.getMatchTimeInMS(c[i])<a&&null==c[i].score_breakdown&&(a=w.getMatchTimeInMS(c[i]),s="qm"===c[i].comp_level?"Quals "+c[i].match_number:"qf"===c[i].comp_level?"Quarters "+c[i].set_number+" Match "+c[i].match_number:"sf"===c[i].comp_level?"Semis "+c[i].set_number+" Match "+c[i].match_number:"Finals "+c[i].match_number,r=e?c[i].alliances.blue.team_keys.includes(e)?"blue":"red":null);if(a===Number.MAX_VALUE||null===s)this.setState({nextMatchNameTime:null,nextMatchName:null,nextMatchBumperColor:"black"});else{var l=new Date(a).getTime()-new Date;if(l>=864e5)this.setState({nextMatchNameTime:null,nextMatchName:null,nextMatchBumperColor:"black"});else{var o=parseInt(l/36e5%24),d=parseInt(l/6e4%60),u=parseInt(l/1e3%60);o=o<10?"0"+o:o,d=d<10?"0"+d:d,u=u<10?"0"+u:u,l>=0?this.setState({nextMatchNameTime:o+":"+d+":"+u,nextMatchName:s,nextMatchBumperColor:r}):this.setState({nextMatchNameTime:null,nextMatchName:null,nextMatchBumperColor:"black"})}}}}},{key:"render",value:function(){var e;return e=null===this.state.nextMatchNameTime||null===this.state.nextMatchName?Object(p.jsx)("h1",{children:"No Upcoming Match"}):Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"countdown-timer-tag ".concat("countdown-"+this.state.nextMatchBumperColor),style:{textAlign:"center",fontSize:"5.25em"},children:this.state.nextMatchNameTime}),Object(p.jsxs)("h2",{style:{textAlign:"center"},children:["Until ",this.state.nextMatchName]})]}),Object(p.jsx)("div",{className:"countdown",children:e})}}]),n}(a.Component),U=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;j.getInstance().getEventEmitter().on("appStateChanged",(function(){e.forceUpdate()})),j.getInstance().setShowSettingsPane(!0),j.getInstance().setShowOtherSettings(!0)}},{key:"render",value:function(){return Object(p.jsx)("div",{children:void 0!==j.getInstance().getTeamEventVerified()&&j.getInstance().getTeamEventVerified()?Object(p.jsxs)("div",{children:[Object(p.jsx)(I,{}),Object(p.jsx)(C,{}),Object(p.jsx)(T,{}),Object(p.jsx)(R,{})]}):Object(p.jsx)("h1",{className:"no-team-event-selected",style:{textAlign:"center"},children:"No Event/Team selected"})})}}]),n}(a.Component),A=n(25),B=n.n(A),P=(new RegExp("[?|&]redirect=([^&;]+?)(&|#|;|$)").exec(window.location.href)||[null,""])[1].replace(/\+/g,"%20"),M=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).state={shouldRender:!1,uiConfig:{signInFlow:"popup",signInSuccessUrl:"/frc-pit"+"/#/signed_in?redirect=".concat(P),signInOptions:[m.a.auth.GoogleAuthProvider.PROVIDER_ID,m.a.auth.GithubAuthProvider.PROVIDER_ID,m.a.auth.EmailAuthProvider.PROVIDER_ID,{provider:m.a.auth.PhoneAuthProvider.PROVIDER_ID,recaptchaParameters:{type:"image",size:"normal",badge:"bottomleft"},defaultCountry:"US"}]}};var s=Object(u.a)(a);return m.a.auth().onAuthStateChanged((function(e){e?window.location.href="/frc-pit"+"/#/signed_in?redirect=".concat(P):s.setState({shouldRender:!0})})),j.getInstance().setShowSettingsPane(!1),j.getInstance().setShowOtherSettings(!1),a}return Object(l.a)(n,[{key:"render",value:function(){return this.state.shouldRender?Object(p.jsx)(B.a,{uiConfig:this.state.uiConfig,firebaseAuth:m.a.auth()}):null}}]),n}(a.Component),D=(n(19),function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).returnTool=a.returnTool.bind(Object(u.a)(a)),a.state={currentUser:null};var s=Object(u.a)(a);return m.a.auth().onAuthStateChanged((function(e){e?s.setState({currentUser:e}):window.location.href="/frc-pit/#/auth?redirect="+encodeURIComponent(window.location.href)})),a}return Object(l.a)(n,[{key:"returnTool",value:function(e){null!=this.state.currentUser?(document.getElementsByClassName("error-alert-div")[0]&&(document.getElementsByClassName("error-alert-div")[0].style.display="none"),m.a.firestore().collection("users").doc(this.state.currentUser.uid).collection("tools").doc(e).delete()):alert("No current user",!0)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:this.props.name}),Object(p.jsx)("td",{children:this.props.team}),Object(p.jsx)("td",{children:this.props.time}),Object(p.jsx)("td",{children:this.props.tool}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.returnTool(e.props.index)},children:"Return"})})]})}}]),n}(a.Component)),W=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e),m.a.firestore().settings({timestampsInSnapshots:!0}),a.state={shouldRender:!1,tools:[],team_number:null};var s=Object(u.a)(a);return m.a.auth().onAuthStateChanged((function(e){e?(s.setState({currentUser:e}),m.a.firestore().collection("users").doc(s.state.currentUser.uid).collection("tools").onSnapshot((function(e){var t=[];for(var n in e.docs)t.push({key:e.docs[n].id,name:e.docs[n].get("name"),team_number:e.docs[n].get("team_number"),checkout_time:e.docs[n].get("checkout_time").toDate().toLocaleString(),description:e.docs[n].get("description")});s.setState({tools:t})}),(function(e){console.error(e)})),m.a.firestore().collection("users").doc(s.state.currentUser.uid).get().then((function(e){s.setState({team_number:e.get("team")})})),s.setState({shouldRender:!0})):window.location.href="/frc-pit/#/auth?redirect="+encodeURIComponent(window.location.href)})),j.getInstance().setShowSettingsPane(!1),j.getInstance().setShowOtherSettings(!1),a}return Object(l.a)(n,[{key:"render",value:function(){if(this.state.shouldRender){var e;return e=this.state.tools.map((function(e){var t=e.key,n=e.name,a=e.team_number,s=e.checkout_time,r=e.description;return Object(p.jsx)(D,{index:t,name:n,team:a,time:s,tool:r},t)})),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{style:{textAlign:"center"},children:null==this.state.team_number?"Loading...":"Tools Checked Out from Team "+this.state.team_number+":"}),Object(p.jsxs)("table",{className:"table-striped table-bordered tools-list",style:{width:"98%",maxWidth:"98%",margin:"1%"},children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Team Number"}),Object(p.jsx)("th",{children:"Checkout Date"}),Object(p.jsx)("th",{children:"Tool"}),Object(p.jsx)("th",{children:"Return"})]})}),Object(p.jsx)("tbody",{children:e})]})]})}return null}}]),n}(a.Component),L=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e),m.a.firestore().settings({timestampsInSnapshots:!0}),a.addTool=a.addTool.bind(Object(u.a)(a)),a.state={shouldRender:!1,currentUser:null};var s=Object(u.a)(a);return m.a.auth().onAuthStateChanged((function(e){e?(s.setState({currentUser:e}),m.a.firestore().collection("users").doc(s.state.currentUser.uid).get().then((function(e){s.setState({team_number:e.get("team")})})),s.setState({shouldRender:!0})):window.location.href="/frc-pit/#/auth?redirect="+encodeURIComponent(window.location.href)})),j.getInstance().setShowSettingsPane(!1),j.getInstance().setShowOtherSettings(!1),a}return Object(l.a)(n,[{key:"addTool",value:function(){var e=document.getElementById("name").value,t=document.getElementById("tool").value,n=document.getElementById("team-number").value;""!==e&&""!==t&&""!==n?null!=this.state.currentUser?(m.a.firestore().collection("users").doc(this.state.currentUser.uid).collection("tools").add({name:e,description:t,checkout_time:new Date,team_number:parseInt(n,10)}),document.getElementById("name").value="",document.getElementById("tool").value="",document.getElementById("team-number").value="",document.getElementsByClassName("error-alert-div")[0]&&(document.getElementsByClassName("error-alert-div")[0].style.display="none")):alert("No current user",!0):alert("Error: All fields must be filled.",!0)}},{key:"render",value:function(){return this.state.shouldRender?Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{style:{textAlign:"center"},children:null==this.state.team_number?"Loading...":"Check Out Tool from Team "+this.state.team_number+":"}),Object(p.jsxs)("form",{className:"add-tool-container",style:{width:"98%",margin:"1%"},children:[Object(p.jsx)("p",{children:"Name:"}),Object(p.jsx)("input",{className:"form-control",id:"name",placeholder:"Name",type:"text"}),Object(p.jsx)("p",{children:"Tool:"}),Object(p.jsx)("input",{className:"form-control",id:"tool",placeholder:"Tool",type:"text"}),Object(p.jsx)("p",{children:"Team Number:"}),Object(p.jsx)("input",{className:"form-control",id:"team-number",placeholder:"Team Number",type:"number"}),Object(p.jsx)("div",{className:"btn btn-primary add-tool-btn",onClick:this.addTool,children:"Add Tool"})]})]}):null}}]),n}(a.Component),F=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),a=t.call(this,e),j.getInstance().setShowSettingsPane(!1),j.getInstance().setShowOtherSettings(!1),a}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{style:{textAlign:"center",marginTop:"1%"},children:"404 Page Not Found:"}),Object(p.jsx)("h3",{style:{textAlign:"center",marginTop:"1%"},children:"This Page Does Not Exist"})]})}}]),n}(a.Component),V=decodeURIComponent((new RegExp("[?|&]redirect=([^&;]+?)(&|#|;|$)").exec(window.location.href)||[null,""])[1].replace(/\+/g,"%20")),q=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e),m.a.firestore().settings({timestampsInSnapshots:!0}),a.createUser=a.createUser.bind(Object(u.a)(a)),a.state={shouldRender:!1,currentUser:null};var s=Object(u.a)(a);return m.a.auth().onAuthStateChanged((function(e){e?m.a.firestore().collection("users").doc(e.uid).get().then((function(t){t.exists?window.location.href=V:(s.setState({currentUser:e}),s.setState({shouldRender:!0}))})):window.location.href="/frc-pit/#/auth?redirect="+V})),j.getInstance().setShowSettingsPane(!1),j.getInstance().setShowOtherSettings(!1),a}return Object(l.a)(n,[{key:"createUser",value:function(){var e=""!==document.getElementById("full-name").value?document.getElementById("full-name").value:this.state.currentUser.displayName,t=document.getElementById("team-number").value;""!==e&&null!==e&&""!==t?(document.getElementsByClassName("error-alert-div")[0]&&(document.getElementsByClassName("error-alert-div")[0].style.display="none"),null!=this.state.currentUser&&(m.a.firestore().collection("users").doc(this.state.currentUser.uid).set({name:e,team:t}),this.state.currentUser.updateProfile({displayName:e}).then((function(){window.location.href=V})).catch((function(e){console.error(e)})))):alert("Error: All fields must be filled.",!0)}},{key:"render",value:function(){return this.state.shouldRender?Object(p.jsx)("div",{children:Object(p.jsxs)("form",{className:"add-tool-container",style:{width:"98%",margin:"1%"},children:[Object(p.jsx)("p",{children:"Full Name:"}),Object(p.jsx)("input",{className:"form-control",id:"full-name",placeholder:null==this.state.currentUser.displayName?"Full name":this.state.currentUser.displayName,type:"text"}),Object(p.jsx)("p",{children:"Team Number:"}),Object(p.jsx)("input",{className:"form-control",id:"team-number",placeholder:"Team Number",type:"number"}),Object(p.jsx)("div",{className:"btn btn-primary add-tool-btn",onClick:this.createUser,children:"Create User"})]})}):null}}]),n}(a.Component),Q=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),a=t.call(this,e),m.a.auth().signOut().then((function(){window.location.href="/frc-pit"}),(function(e){console.error(e)})),j.getInstance().setShowSettingsPane(!1),j.getInstance().setShowOtherSettings(!1),a}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("h1",{className:"sign-out-header",style:{textAlign:"center"},children:"Signing you out now."})}}]),n}(a.Component),H=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"modal fade",id:"statistics-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"statistics-modal-label","aria-hidden":!1,children:Object(p.jsx)("div",{className:"modal-dialog",role:"document",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("h5",{className:"modal-title",children:"\xa0"}),Object(p.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(p.jsxs)("div",{className:"modal-body",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Rookie Year:"})," ",Object(p.jsx)("span",{className:"modal-rookie-year"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Location:"})," ",Object(p.jsx)("span",{className:"modal-location"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Event Record:"})," ",Object(p.jsx)("span",{className:"modal-event-status"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"TBA Profile:"})," ",Object(p.jsx)("a",{className:"modal-tba-profile",target:"_blank",href:"/",children:"\xa0"})]}),Object(p.jsx)("p",{className:"robot-images-title",children:Object(p.jsx)("b",{children:"Robot Images:"})}),Object(p.jsxs)("div",{id:"carouselExampleControls",className:"carousel slide","data-ride":"carousel",children:[Object(p.jsx)("div",{className:"carousel-inner"}),Object(p.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",children:[Object(p.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(p.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(p.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",children:[Object(p.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(p.jsx)("span",{className:"sr-only",children:"Next"})]})]})]})]})})})}}]),n}(a.Component),z=[{path:"/",component:U,exact:!0},{path:"/auth",component:M,exact:!0},{path:"/tools_list",component:W,exact:!0},{path:"/check_out_tool",component:L,exact:!0},{path:"/signed_in",component:q,exact:!0},{path:"/sign_out",component:Q,exact:!0},{path:"/stats",component:function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).sortStatistics=a.sortStatistics.bind(Object(u.a)(a)),j.getInstance().setShowSettingsPane(!0),j.getInstance().setShowOtherSettings(!1),a.state={modalTeamNumber:null};var s=Object(u.a)(a);return f.getInstance().getEventEmitter().on("dataChanged",(function(){s.forceUpdate()})),a}return Object(l.a)(n,[{key:"showStatisticsModal",value:function(e){var t=document.createElement("script"),n=document.createTextNode('\n        showStatisticsModal("'.concat(j.getInstance().getEvent(),'", "').concat(e.currentTarget.dataset.teamnumber,'");\n    '));t.appendChild(n),console.log(t),document.getElementsByTagName("body")[0].appendChild(t)}},{key:"sortStatistics",value:function(e){if("complete"===document.readyState){var t,n,a,s,r,c,i,l,o=e.currentTarget.dataset.sortindex,d=0;if(null!==(t=document.getElementById("statistics").getElementsByTagName("table")[0]))for(a=!0,l="asc";a;){for(a=!1,n=t.rows,s=1;s<n.length-1;s++)if(i=!1,r=n[s].getElementsByTagName("td")[o],c=n[s+1].getElementsByTagName("td")[o],"asc"===l){if(parseFloat(r.innerHTML)>parseFloat(c.innerHTML)){i=!0;break}}else if("desc"===l&&parseFloat(r.innerHTML)<parseFloat(c.innerHTML)){i=!0;break}i?(n[s].parentNode.insertBefore(n[s+1],n[s]),a=!0,d++):0===d&&"asc"===l&&(l="desc",a=!0)}}}},{key:"render",value:function(){var e,t=j.getInstance().getEvent(),n=f.getInstance().get();if(t)if(null==n.events[t]||null==n.events[t].rankings||null==n.events[t].rankings.rankings||0===n.events[t].rankings.rankings.length)e=Object(p.jsx)("h1",{style:{textAlign:"center"},children:"No Statistics"});else{var a=n.events[t].rankings.rankings,r=[];for(var c in a){var i=n.events[t].rankings.extra_stats_info[0]?Object(p.jsx)("td",{children:a[c].extra_stats[0]?a[c].extra_stats[0]===parseInt(a[c].extra_stats[0])?a[c].extra_stats[0]:a[c].extra_stats[0].toFixed(3):"N/A"}):Object(p.jsx)(s.a.Fragment,{}),l=[];for(var o in n.events[t].rankings.sort_order_info)a[c].sort_orders[o]===parseInt(a[c].sort_orders[o])?l.push(Object(p.jsx)("td",{children:a[c].sort_orders[o]},o)):l.push(Object(p.jsx)("td",{children:a[c].sort_orders[o].toFixed(3)},o));var d=a[c].team_key.substring(3)===parseInt(a[c].team_key.substring(3)).toString();r.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:a[c].rank}),Object(p.jsx)("td",{children:a[c].team_key.substring(3)}),l,Object(p.jsx)("td",{children:null!=a[c].record?a[c].record.wins+"-"+a[c].record.losses+"-"+a[c].record.ties:"N/A"}),Object(p.jsx)("td",{children:a[c].dq}),Object(p.jsx)("td",{children:a[c].matches_played}),i,Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"btn "+(d?"btn-primary":"btn-secondary"),disabled:!d,onClick:this.showStatisticsModal,"data-teamnumber":d?a[c].team_key:null,children:d?"View Team Info":"Invalid Team #"})})]},c))}var u=[],h=2;for(var m in n.events[t].rankings.sort_order_info)u.push(Object(p.jsxs)("th",{onClick:this.sortStatistics,"data-sortindex":h,children:[n.events[t].rankings.sort_order_info[m].name," ",Object(p.jsx)("i",{className:"fas fa-sort"})]},m)),h++;var b=n.events[t].rankings.extra_stats_info[0]?Object(p.jsxs)("th",{onClick:this.sortStatistics,"data-sortindex":h+3,children:[n.events[t].rankings.extra_stats_info[0].name," ",Object(p.jsx)("i",{className:"fas fa-sort"})]}):Object(p.jsx)(s.a.Fragment,{});e=Object(p.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsxs)("th",{onClick:this.sortStatistics,"data-sortindex":0,children:["Rank ",Object(p.jsx)("i",{className:"fas fa-sort"})]}),Object(p.jsxs)("th",{onClick:this.sortStatistics,"data-sortindex":1,children:["Team ",Object(p.jsx)("i",{className:"fas fa-sort"})]}),u,Object(p.jsx)("th",{children:"Record (W-L-T)"}),Object(p.jsxs)("th",{onClick:this.sortStatistics,"data-sortindex":h+1,children:["DQ ",Object(p.jsx)("i",{className:"fas fa-sort"})]}),Object(p.jsxs)("th",{onClick:this.sortStatistics,"data-sortindex":h+2,children:["Played ",Object(p.jsx)("i",{className:"fas fa-sort"})]}),b,Object(p.jsx)("th",{children:"View Team Info"})]})}),Object(p.jsx)("tbody",{children:r})]})}else e=Object(p.jsx)("h1",{style:{textAlign:"center"},children:"No Event Selected"});return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"statistics",id:"statistics",children:e}),Object(p.jsx)(H,{})]})}}]),n}(a.Component),exact:!0},{component:F,exact:!0}],J=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e;return e=z.map((function(e,t){var n=e.path,a=e.component,s=e.exact;return Object(p.jsx)(x.a,{exact:s,path:n,component:a},t)})),Object(p.jsxs)("main",{role:"main",children:[Object(p.jsx)(k.a,{basename:"/frc-pit",hashType:"slash",children:Object(p.jsx)(y.a,{children:e})}),Object(p.jsx)("div",{className:"alert-div",style:{display:"none"},children:Object(p.jsx)("div",{className:"btn btn-lg alert"})})]})}}]),n}(a.Component),X=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"footer",children:Object(p.jsxs)("p",{children:["Copyright (c) 2018-",(new Date).getFullYear()," ",Object(p.jsx)("a",{target:"_blank",href:"https://sumigovindaraju.github.io/",rel:"noopener noreferrer",children:"SumiGovindaraju"}),". Powered by ",Object(p.jsx)("a",{target:"_blank",href:"https://reactjs.org/",rel:"noopener noreferrer",children:"React"}),", ",Object(p.jsx)("a",{target:"_blank",href:"https://www.thebluealliance.com/",rel:"noopener noreferrer",children:"The Blue Alliance"}),", ",Object(p.jsx)("a",{target:"_blank",href:"https://firebase.google.com/",rel:"noopener noreferrer",children:"Firebase"}),", and ",Object(p.jsx)("a",{target:"_blank",href:"https://pages.github.com/",rel:"noopener noreferrer",children:"GitHub Pages"}),"."]})})}}]),n}(a.Component),Y=n(13),G=n.n(Y),K=n(20),$="https://www.thebluealliance.com/api/v3",Z={method:"GET",headers:{"X-TBA-Auth-Key":"83kBcUgRuDvJ1XLVXpB2ROeuRAzHoWpX9IRiWkRuwv8B9CryAlc3izY3ZXVOD4Hm"}};function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(K.a)(G.a.mark((function e(t,n){var a,s,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&void 0===j.getInstance().getTeamEventVerified()){e.next=2;break}return e.abrupt("return");case 2:if(!t||t.startsWith("frc")){e.next=5;break}return alert("Invalid team",!0),e.abrupt("return");case 5:if(!n||!(n.length<=4||isNaN(n.substring(0,4)))){e.next=8;break}return alert("Invalid event",!0),e.abrupt("return");case 8:if(null==(a=f.getInstance().get()).events||null==a.events[n]){e.next=29;break}if(!t||null!=a.events[n].teams[t]||navigator.onLine){e.next=15;break}return alert("Team data not cached. FRC Pit is offline.",!0),e.abrupt("return");case 15:if(!t||null==a.events[n].teams[t]||navigator.onLine){e.next=22;break}return j.getInstance().setTeamEventVerified(!0),console.log(a.events),alert("FRC Pit is offline. Using cached data.",!1),e.abrupt("return");case 22:if(t||navigator.onLine){e.next=27;break}return j.getInstance().setTeamEventVerified(!0),console.log(a.events),alert("FRC Pit is offline. Using cached data.",!1),e.abrupt("return");case 27:e.next=32;break;case 29:if(navigator.onLine){e.next=32;break}return alert("Event data not cached. FRC Pit is offline.",!0),e.abrupt("return");case 32:return(s=[]).push(fetch($+(t?"/team/"+t:"")+"/events/"+n.substring(0,4),Z).then((function(e){return e.json()})).then((function(e){for(var a in e)if(e[a].key===n)return void(r=!0);alert(t?"Team is not in event":"Event does not exist",!0),r=!1})).catch((function(e){"TypeError: Failed To Fetch"!==e.message?alert("FRC Pit is offline.",!0):alert(t?"Team is not in event":"Event does not exist",!0),r=!1}))),e.next=36,Promise.all(s);case 36:j.getInstance().setTeamEventVerified(r);case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(K.a)(G.a.mark((function e(){var t,n,a,s,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=f.getInstance(),a=n.get(),t.push(fetch($+"/events/"+(new Date).getFullYear()+"/simple",Z).then((function(e){return e.json()})).then((function(e){for(var t in a.events.list=[],e){var s=new Date;s.setFullYear(e[t].end_date.substring(0,4)),s.setMonth(parseInt(e[t].end_date.substring(5,7))-1),s.setDate(e[t].end_date.substring(8,10)),new Date<=s&&a.events.list.push(e[t])}n.set(a),n.sendEventListChangedEvent()})).catch((function(e){console.error(e)}))),s=j.getInstance().getTeam(),r=j.getInstance().getEvent(),c=j.getInstance().getShowWebcasts(),e.next=9,ee(s,r);case 9:if(r&&j.getInstance().getTeamEventVerified()){e.next=13;break}return e.next=12,Promise.all(t);case 12:return e.abrupt("return");case 13:return void 0===a.events[r]&&(a.events[r]={teams:{},awards:{},rankings:{},matches:{},webcasts:{},statistics:{},last_updated:(new Date).toUTCString()}),s?(void 0===a.events[r].teams[s]&&(a.events[r].teams[s]={awards:{},matches:{},photos:[],name:"",rookie_year:0,status:"",location:""}),t.push(fetch($+"/team/"+s+"/event/"+r+"/awards",Z).then((function(e){return e.json()})).then((function(e){a.events[r].teams[s].awards=e,a.events[r].last_updated=(new Date).toUTCString(),n.set(a)})).catch((function(e){console.error(e)}))),t.push(fetch($+"/team/"+s+"/event/"+r+"/matches",Z).then((function(e){return e.json()})).then((function(e){a.events[r].teams[s].matches=e,a.events[r].last_updated=(new Date).toUTCString(),n.set(a)})).catch((function(e){console.error(e)})))):(t.push(fetch($+"/event/"+r+"/awards",Z).then((function(e){return e.json()})).then((function(e){a.events[r].awards=e,a.events[r].last_updated=(new Date).toUTCString(),n.set(a)}),(function(e){console.error(e)}))),t.push(fetch($+"/event/"+r+"/matches",Z).then((function(e){return e.json()})).then((function(e){console.log("Matches for "+r+": "),console.log(JSON.stringify(e)),a.events[r].matches=e,a.events[r].last_updated=(new Date).toUTCString(),n.set(a)})).catch((function(e){console.error(e)})))),t.push(fetch($+"/event/"+r+"/rankings",Z).then((function(e){return e.json()})).then((function(e){a.events[r].rankings=e,a.events[r].last_updated=(new Date).toUTCString(),n.set(a)})).catch((function(e){console.error(e)}))),c&&t.push(fetch($+"/event/"+r,Z).then((function(e){return e.json()})).then((function(e){if(null==e||null==e.webcasts)throw new Error("Webcast API call returns null");a.events[r].webcasts=e.webcasts,a.events[r].last_updated=(new Date).toUTCString(),n.set(a),n.sendUpdatedWebcastsEvent()})).catch((function(e){console.error(e)}))),e.next=19,Promise.all(t);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae={pullFromTBA:function(){return ne.apply(this,arguments)}},se=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){ae.pullFromTBA(),setInterval((function(){ae.pullFromTBA()}),12e4);var e=navigator.onLine;setInterval((function(){navigator.onLine&&!e&&(alert("FRC Pit is online. Refreshing cached data now",!1),ae.pullFromTBA()),e=navigator.onLine}),100)}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(O,{}),Object(p.jsx)(J,{}),Object(p.jsx)(X,{})]})}}]),n}(a.Component),re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ce(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}m.a.apps.length||m.a.initializeApp({apiKey:"AIzaSyBbB47QbfJXsEViiCqwYUjWQLw0KNpROCc",authDomain:"frc-pit-5cb1f.firebaseapp.com",databaseURL:"https://frc-pit-5cb1f.firebaseio.com",projectId:"frc-pit-5cb1f"}),c.a.render(Object(p.jsx)(se,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/frc-pit",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/frc-pit","/service-worker.js");re?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ce(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):ce(e)}))}}()}},[[57,1,2]]]);
//# sourceMappingURL=main.6d4e5dea.chunk.js.map